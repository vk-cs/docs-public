Статья описывает стандартные метрики, которые собираются и отображаются в сервисах VK CS.

По умолчанию стандартный агент мониторинга VK CS собирает следующую информацию из операционной системы:

1.  Потребление CPU
    1.  Метрики указаны в описании этого плагина [https://github.com/influxdata/telegraf/tree/master/plugins/inputs/cpu](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/cpu) 
        1.  time_user (float)
        2.  time_system (float)
        3.  time_idle (float)
        4.  time_active (float)
        5.  time_nice (float)
        6.  time_iowait (float)
        7.  time_irq (float)
        8.  time_softirq (float)
        9.  time_steal (float)
        10.  time_guest (float)
        11.  time_guest_nice (float)
        12.  usage_user (float, percent)
        13.  usage_system (float, percent)
        14.  usage_idle (float, percent)
        15.  usage_active (float)
        16.  usage_nice (float, percent)
        17.  usage_iowait (float, percent)
        18.  usage_irq (float, percent)
        19.  usage_softirq (float, percent)
        20.  usage_steal (float, percent)
        21.  usage_guest (float, percent)
        22.  usage_guest_nice (float, percent)
2.  Потребление памяти
    1.  Метрики указаны в описании этого плагина [https://github.com/influxdata/telegraf/tree/master/plugins/inputs/mem](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/mem) 
        1.  active (integer, Darwin, FreeBSD, Linux, OpenBSD)
        2.  available (integer)
        3.  available_percent (float)
        4.  buffered (integer, FreeBSD, Linux)
        5.  cached (integer, FreeBSD, Linux, OpenBSD)
        6.  commit_limit (integer, Linux)
        7.  committed_as (integer, Linux)
        8.  dirty (integer, Linux)
        9.  free (integer, Darwin, FreeBSD, Linux, OpenBSD)
        10.  high_free (integer, Linux)
        11.  high_total (integer, Linux)
        12.  huge_pages_free (integer, Linux)
        13.  huge_page_size (integer, Linux)
        14.  huge_pages_total (integer, Linux)
        15.  inactive (integer, Darwin, FreeBSD, Linux, OpenBSD)
        16.  laundry (integer, FreeBSD)
        17.  low_free (integer, Linux)
        18.  low_total (integer, Linux)
        19.  mapped (integer, Linux)
        20.  page_tables (integer, Linux)
        21.  shared (integer, Linux)
        22.  slab (integer, Linux)
        23.  sreclaimable (integer, Linux)
        24.  sunreclaim (integer, Linux)
        25.  swap_cached (integer, Linux)
        26.  swap_free (integer, Linux)
        27.  swap_total (integer, Linux)
        28.  total (integer)
        29.  used (integer)
        30.  used_percent (float)
        31.  vmalloc_chunk (integer, Linux)
        32.  vmalloc_total (integer, Linux)
        33.  vmalloc_used (integer, Linux)
        34.  wired (integer, Darwin, FreeBSD, OpenBSD)
        35.  write_back (integer, Linux)
        36.  write_back_tmp (integer, Linux)
3.  Статистику страниц ядра ОС
    1.  Метрики указаны в описании этого плагина  [https://github.com/influxdata/telegraf/tree/master/plugins/inputs/kernel_vmstat](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/kernel_vmstat) 
        1.  nr_free_pages (integer, nr_free_pages)
        2.  nr_inactive_anon (integer, nr_inactive_anon)
        3.  nr_active_anon (integer, nr_active_anon)
        4.  nr_inactive_file (integer, nr_inactive_file)
        5.  nr_active_file (integer, nr_active_file)
        6.  nr_unevictable (integer, nr_unevictable)
        7.  nr_mlock (integer, nr_mlock)
        8.  nr_anon_pages (integer, nr_anon_pages)
        9.  nr_mapped (integer, nr_mapped)
        10.  nr_file_pages (integer, nr_file_pages)
        11.  nr_dirty (integer, nr_dirty)
        12.  nr_writeback (integer, nr_writeback)
        13.  nr_slab_reclaimable (integer, nr_slab_reclaimable)
        14.  nr_slab_unreclaimable (integer, nr_slab_unreclaimable)
        15.  nr_page_table_pages (integer, nr_page_table_pages)
        16.  nr_kernel_stack (integer, nr_kernel_stack)
        17.  nr_unstable (integer, nr_unstable)
        18.  nr_bounce (integer, nr_bounce)
        19.  nr_vmscan_write (integer, nr_vmscan_write)
        20.  nr_writeback_temp (integer, nr_writeback_temp)
        21.  nr_isolated_anon (integer, nr_isolated_anon)
        22.  nr_isolated_file (integer, nr_isolated_file)
        23.  nr_shmem (integer, nr_shmem)
        24.  numa_hit (integer, numa_hit)
        25.  numa_miss (integer, numa_miss)
        26.  numa_foreign (integer, numa_foreign)
        27.  numa_interleave (integer, numa_interleave)
        28.  numa_local (integer, numa_local)
        29.  numa_other (integer, numa_other)
        30.  nr_anon_transparent_hugepages (integer, nr_anon_transparent_hugepages)
        31.  pgpgin (integer, pgpgin)
        32.  pgpgout (integer, pgpgout)
        33.  pswpin (integer, pswpin)
        34.  pswpout (integer, pswpout)
        35.  pgalloc_dma (integer, pgalloc_dma)
        36.  pgalloc_dma32 (integer, pgalloc_dma32)
        37.  pgalloc_normal (integer, pgalloc_normal)
        38.  pgalloc_movable (integer, pgalloc_movable)
        39.  pgfree (integer, pgfree)
        40.  pgactivate (integer, pgactivate)
        41.  pgdeactivate (integer, pgdeactivate)
        42.  pgfault (integer, pgfault)
        43.  pgmajfault (integer, pgmajfault)
        44.  pgrefill_dma (integer, pgrefill_dma)
        45.  pgrefill_dma32 (integer, pgrefill_dma32)
        46.  pgrefill_normal (integer, pgrefill_normal)
        47.  pgrefill_movable (integer, pgrefill_movable)
        48.  pgsteal_dma (integer, pgsteal_dma)
        49.  pgsteal_dma32 (integer, pgsteal_dma32)
        50.  pgsteal_normal (integer, pgsteal_normal)
        51.  pgsteal_movable (integer, pgsteal_movable)
        52.  pgscan_kswapd_dma (integer, pgscan_kswapd_dma)
        53.  pgscan_kswapd_dma32 (integer, pgscan_kswapd_dma32)
        54.  pgscan_kswapd_normal (integer, pgscan_kswapd_normal)
        55.  pgscan_kswapd_movable (integer, pgscan_kswapd_movable)
        56.  pgscan_direct_dma (integer, pgscan_direct_dma)
        57.  pgscan_direct_dma32 (integer, pgscan_direct_dma32)
        58.  pgscan_direct_normal (integer, pgscan_direct_normal)
        59.  pgscan_direct_movable (integer, pgscan_direct_movable)
        60.  zone_reclaim_failed (integer, zone_reclaim_failed)
        61.  pginodesteal (integer, pginodesteal)
        62.  slabs_scanned (integer, slabs_scanned)
        63.  kswapd_steal (integer, kswapd_steal)
        64.  kswapd_inodesteal (integer, kswapd_inodesteal)
        65.  kswapd_low_wmark_hit_quickly (integer, kswapd_low_wmark_hit_quickly)
        66.  kswapd_high_wmark_hit_quickly (integer, kswapd_high_wmark_hit_quickly)
        67.  kswapd_skip_congestion_wait (integer, kswapd_skip_congestion_wait)
        68.  pageoutrun (integer, pageoutrun)
        69.  allocstall (integer, allocstall)
        70.  pgrotated (integer, pgrotated)
        71.  compact_blocks_moved (integer, compact_blocks_moved)
        72.  compact_pages_moved (integer, compact_pages_moved)
        73.  compact_pagemigrate_failed (integer, compact_pagemigrate_failed)
        74.  compact_stall (integer, compact_stall)
        75.  compact_fail (integer, compact_fail)
        76.  compact_success (integer, compact_success)
        77.  htlb_buddy_alloc_success (integer, htlb_buddy_alloc_success)
        78.  htlb_buddy_alloc_fail (integer, htlb_buddy_alloc_fail)
        79.  unevictable_pgs_culled (integer, unevictable_pgs_culled)
        80.  unevictable_pgs_scanned (integer, unevictable_pgs_scanned)
        81.  unevictable_pgs_rescued (integer, unevictable_pgs_rescued)
        82.  unevictable_pgs_mlocked (integer, unevictable_pgs_mlocked)
        83.  unevictable_pgs_munlocked (integer, unevictable_pgs_munlocked)
        84.  unevictable_pgs_cleared (integer, unevictable_pgs_cleared)
        85.  unevictable_pgs_stranded (integer, unevictable_pgs_stranded)
        86.  unevictable_pgs_mlockfreed (integer, unevictable_pgs_mlockfreed)
        87.  thp_fault_alloc (integer, thp_fault_alloc)
        88.  thp_fault_fallback (integer, thp_fault_fallback)
        89.  thp_collapse_alloc (integer, thp_collapse_alloc)
        90.  thp_collapse_alloc_failed (integer, thp_collapse_alloc_failed)
        91.  thp_split (integer, thp_split)
        
4.  Информацию о диске
    1.  Метрики указаны в описании этого плагина  [https://github.com/influxdata/telegraf/tree/master/plugins/inputs/disk](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/disk) 
        1.  free (integer, bytes)
        2.  total (integer, bytes)
        3.  used (integer, bytes)
        4.  used_percent (float, percent)
        5.  inodes_free (integer, files)
        6.  inodes_total (integer, files)
        7.  inodes_used (integer, files)
5.  Информацию о дисковом IO
    1.  Метрики указаны в описании этого плагина  [https://github.com/influxdata/telegraf/tree/master/plugins/inputs/diskio](https://github.com/influxdata/telegraf/tree/master/plugins/inputs/diskio) 
        1.  reads (integer, counter)
        2.  writes (integer, counter)
        3.  read_bytes (integer, counter, bytes)
        4.  write_bytes (integer, counter, bytes)
        5.  read_time (integer, counter, milliseconds)
        6.  write_time (integer, counter, milliseconds)
        7.  io_time (integer, counter, milliseconds)
        8.  weighted_io_time (integer, counter, milliseconds)
        9.  iops_in_progress (integer, gauge)
        10.  merged_reads (integer, counter)
        11.  merged_writes (integer, counter)
6.  Информацию о работе сетевой подсистемы внутри ОС
    1.  Метрики указаны в описании этого плагина [https://github.com/influxdata/telegraf/blob/master/plugins/inputs/net/NET_README.md](https://github.com/influxdata/telegraf/blob/master/plugins/inputs/net/NET_README.md) 
        1.  bytes_sent - The total number of bytes sent by the interface
        2.  bytes_recv - The total number of bytes received by the interface
        3.  packets_sent - The total number of packets sent by the interface
        4.  packets_recv - The total number of packets received by the interface
        5.  err_in - The total number of receive errors detected by the interface
        6.  err_out - The total number of transmit errors detected by the interface
        7.  drop_in - The total number of received packets dropped by the interface
        8.  drop_out - The total number of transmitted packets dropped by the interface
7.  Информацию из NetStat
    1.  Метрики указаны в описании этого плагина [https://github.com/influxdata/telegraf/blob/master/plugins/inputs/net/NETSTAT_README.md](https://github.com/influxdata/telegraf/blob/master/plugins/inputs/net/NETSTAT_README.md) 
        1.  tcp_established
        2.  tcp_syn_sent
        3.  tcp_syn_recv
        4.  tcp_fin_wait1
        5.  tcp_fin_wait2
        6.  tcp_time_wait
        7.  tcp_close
        8.  tcp_close_wait
        9.  tcp_last_ack
        10.  tcp_listen
        11.  tcp_closing
        12.  tcp_none