Учетные данные для подключения и управления виртуальной машиной необходимо хранить в безопасном месте для избежания риска утраты доступа и информации на виртуальной машине.

Однако, если учетные данные были утрачены, восстановить доступ к серверу можно несколькими способами.

Пароль пользователя
-------------------

Восстановление пароля пользователя производится вне зависимости от семейства установленной операционной системы инстанса.

Для сброса пароля потребуется перейти в информацию о виртуальной машине в списке инстансов сервиса "Облачные вычисления".

На вкладке "Консоль" нажать на кнопку "Установить пароль".

![](./assets/1597101418789-1597101418789.png)

**Внимание**

Пароль должен содержать заглавные и строчные буквы латинского алфавита, цифры, символы !"#$%&()\*+,-.:;<=>?@[]^_\`{}~

Пароль должен содержать хотя бы одну букву или цифру, помимо специальных символов.

Ключевая пара
-------------

При наличии пароля пользователя, потерю ключевой пары для инстанса под управлением ОС Linux можно также восполнить. 

**Осторожно**

При утере приватного ключа восстановить его невозможно. Необходимо создать ключевую пару заново и загрузить публичный ключ в инстанс.

Для восстановления доступа потребуется добавить новую ключевую пару, используя CLI и VNC консоль:

1.  Создать новую ключевую пару в проекте, используя Openstack CLI, и сохранить ее локально:
    ```
    openstack keypair create --private-key <filename_and_location> <keyname>
    ```
    
2.  Скопировать содержимое публичного ключа в локальный файл
    ```
    openstack keypair show --public-key >> <путь_к_файлу>
    ```
    
3.  Загрузить созданный файл на любой внешний ресурс или облако
4.  Сохранить файл на виртуальную машину командой
    ```
    wget <your_file>
    ```
    
5.  Скопировать содержимое нового ключа в файл authorized_keys
    ```
    cat <your_file> >> ~/.ssh/authorized_keys
    ```
    
6.  Проверить доступ к инстансу с новой ключевой парой
    ```
    ssh -i <путь_к_ключу> логин@IP_адрес
    ```