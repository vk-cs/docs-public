## Описание

Балансировщики нагрузки - это виртуальная сущность, которая распределяет задания/трафик между несколькими сетевыми устройствами (например, серверами) с целью оптимизации использования ресурсов, сокращения времени обслуживания запросов, горизонтального масштабирования кластера (динамическое добавление/удаление устройств), а также обеспечения отказоустойчивости (резервирования).

В [панели управления VK Cloud](https://mcs.mail.ru/app/services/infra/balancers-list/) можно добавлять/удалять балансировщики и гибко настраивать любые правила балансирования нагрузки.

## Ограничения

- Для создания балансировщика необходимо иметь хотя бы одну сеть с подсетью. Если подсеть отсутствует, следует предварительно создать сеть и подсеть.
- При создании балансировщику автоматически назначается Floating IP (плавающий IP) для внешнего доступа к балансировщику. При достижении квоты количества IP адресов в проекте балансировщик не может быть создан.

Количество добавляемых балансировщиков и правил в них ограничивается количеством виртуальных машин в проекте.

## Методы балансировки

В настоящий момент балансировщик поддерживает три основных метода:

1.  **LEAST_CONNECTIONS**. Учитывает количество подключений, поддерживаемых серверами в текущий момент времени. Каждый следующий запрос передаётся серверу с наименьшим количеством активных подключений.
2.  **ROUND_ROBIN**. Представляет собой перебор по кругу: первый запрос передаётся первому серверу, затем следующий запрос передаётся второму и так до достижения последнего сервера, а затем всё начинается сначала.
3.  **SOURCE_IP**. В этом методе сервер, обрабатывающий запрос, выбирается произвольным образом, и закрепляется (на сессию, в cookies) за конкретным источником запроса.
