Быстрый старт поможет вам начать работу с сервисом и познакомиться с его возможностями.

Пройдя все шаги быстрого старта, вы научитесь загружать объекты в бакет и предоставлять доступ к загруженным объектам по ссылке.

<warn>

Загруженные в бакет объекты [тарифицируются](../tariffication). После прохождения быстрого старта [удалите эти объекты и бакет](#udalite-neispolzuemye-resursy), если они вам больше не нужны.

</warn>

## Подготовительные шаги

1. Убедитесь, что [AWS CLI](https://aws.amazon.com/ru/cli/) установлен.

1. Создайте аккаунт для сервиса **Объектное хранилище**:

   1. Перейдите в [личный кабинет](https://mcs.mail.ru/app/) VK Cloud.
   1. Выберите проект.
   1. Перейдите в раздел **Объектное хранилище → Аккаунты**.
   1. Нажмите кнопку **Добавить аккаунт** или **Добавить**.
   1. Задайте имя аккаунта.
   1. Нажмите кнопку **Создать**.
   1. В окне скопируйте и сохраните значения **Access Key ID** и **Secret Key**.

      <warn>

      После закрытия окна значение **Secret Key** нельзя будет восстановить. Если значение утеряно, создайте новый аккаунт.

      </warn>

1. Настройте AWS CLI на работу с созданным аккаунтом:

   1. Выполните команду:

      ```bash
      aws configure
      ```

   1. Задайте необходимые настройки:

      1. `AWS Access Key ID`: введите сохраненное ранее значение **Access Key ID**.
      1. `AWS Secret Access Key`: введите сохраненное ранее значение **Secret Key**.
      1. `Default region name`: введите `ru-msk`.
      1. `Default output format`: введите `json`.

## 1. Создайте бакет

1. Перейдите в [личный кабинет](https://mcs.mail.ru/app/) VK Cloud.
1. Выберите проект.
1. Перейдите в раздел **Объектное хранилище → Бакеты**.
1. Нажмите кнопку **Создать бакет** или **Добавить**.
1. Задайте название бакета.
1. Выберите класс хранения `Hotbox`.
1. Выберите настройку ACL по умолчанию `private`.
1. Нажмите кнопку **Добавить бакет**.

## 2. Добавьте объект с приватными настройками ACL и предоставьте доступ к нему

1. Добавьте объект:

   1. Перейдите в [личный кабинет](https://mcs.mail.ru/app/) VK Cloud.
   1. Выберите проект, где находится созданный бакет.
   1. Перейдите в раздел **Объектное хранилище → Бакеты**.
   1. Нажмите на имя созданного бакета.
   1. Нажмите кнопку **Добавить файл**.
   1. Убедитесь, что выбраны настройки ACL `private`.
   1. Нажмите кнопку **Выбрать файлы** и выберите файл, который нужно загрузить в бакет.

1. Предоставьте доступ к загруженному объекту по временной [подписанной ссылке](../objects/signed-url):

   1. Сгенерируйте временную ссылку для доступа к объекту с приватными настройками ACL, выполнив команду:

      ```bash
      aws s3 presign s3://<название бакета>/<имя объекта> --endpoint-url https://hb.vkcs.cloud
      ```

      <details>
      <summary>Пример</summary>

      Пусть в бакет `my-cloud-bucket` был загружен объект `cat_image_private_acl.png`.

      Тогда команда будет иметь вид:

      ```bash
      aws s3 presign s3://my-cloud-bucket/cat_image_private_acl.png --endpoint-url https://hb.vkcs.cloud
      ```

      </details>

   1. Сохраните сгенерированную временную ссылку.

      Ссылка имеет следующий вид:

      ```https
      https://hb.vkcs.cloud/<название бакета>/...?X-Amz-Algorithm=AWS4-HMAC-SHA256&X-Amz-Credential=...%2F...%2Fru-msk%2Fs3%2Faws4_request&X-Amz-Date=...&X-Amz-Expires=3600&X-Amz-SignedHeaders=host&X-Amz-Signature=...
      ```

      <info>

      Такая ссылка действует ограниченное время (по умолчанию 1 час). По истечении этого времени нужно будет сгенерировать новую ссылку на объект.

      </info>

## 3. Добавьте объект с публичными настройками ACL и предоставьте доступ к нему

1. Добавьте объект:

   1. Перейдите в [личный кабинет](https://mcs.mail.ru/app/) VK Cloud.
   1. Выберите проект, где находится созданный бакет.
   1. Перейдите в раздел **Объектное хранилище → Бакеты**.
   1. Нажмите на имя созданного бакета.
   1. Нажмите кнопку **Добавить файл**.
   1. Убедитесь, что выбраны настройки ACL `public-read`.
   1. Нажмите кнопку **Выбрать файлы** и выберите файл, который нужно загрузить в бакет.

1. Предоставьте доступ к загруженному объекту по прямой ссылке:

   1. Перейдите в [личный кабинет](https://mcs.mail.ru/app/) VK Cloud.
   1. Выберите проект, где находится созданный бакет.
   1. Перейдите в раздел **Объектное хранилище → Бакеты**.
   1. Нажмите на имя созданного бакета.
   1. Раскройте меню загруженного ранее объекта и выберите пункт **Доступ к файлу**.
   1. Сохраните сгенерированную прямую ссылку.

      Ссылка имеет следующий вид:

      ```https
      https://<название бакета>.hb.vkcs.cloud/...
      ```

## 4. Проверьте наличие доступа к объектам

1. Перейдите в браузере по сгенерированной временной ссылке. Должен загрузиться объект, [добавленный ранее с приватными настройками ACL](#2--dobavte-obekt-s-privatnymi-nastroykami-acl-i-predostavte-dostup-k-nemu).
1. Перейдите в браузере по сгенерированной прямой ссылке. Должен загрузиться объект, [добавленный ранее с публичными настройками ACL](#3--dobavte-obekt-s-publichnymi-nastroykami-acl-i-predostavte-dostup-k-nemu).

## Удалите неиспользуемые ресурсы

1. Загруженные в бакет объекты [тарифицируются](../tariffication). Если они вам больше не нужны, [удалите их](../objects/delete-object).
1. Если бакет вам больше не нужен, [удалите его](../buckets/bucket#removing_a_bucket).
