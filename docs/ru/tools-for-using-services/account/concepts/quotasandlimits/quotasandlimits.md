## Квоты

Квоты — это применяемые к проекту ограничения:

- на использование виртуальных вычислительных ресурсов платформы;
- на создание объектов в конкретных сервисах.

Например, проверка доступных квот происходит при создании новой виртуальной машины. Если квоты позволяют создать еще одну виртуальную машину, и для ее создания достаточно ресурсов (vCPU, памяти и дискового пространства), виртуальная машина успешно создается.

Квоты не делятся между несколькими проектами одного владельца и не наследуются одним проектом от другого. Список квот различается для разных [регионов](../regions).

После активации сервисов проекту становятся доступны базовые квоты. Для них установлены значения по умолчанию, которые применяются для всех новых проектов региона.

Квоты можно [посмотреть](../../service-management/project-settings/manage#prosmotr_kvot_proekta):

* краткий список — [в личном кабинете](../../service-management/project-settings/manage#prosmotr_kvot_proekta),
* расширенный список — через OpenStack CLI.

Есть неявные квоты, которые нельзя увидеть ни одним из способов, они проявляются в виде сообщений об ошибке при попытке создать новый объект. Пример неявной квоты — [квота на количество проектов](#obshchie_d4f726f4), которые может создать один пользователь.

Квоты тесно связаны с [техническими лимитами](#kvoty_i_tehnicheskie_limity).

## Квоты и технические лимиты

Технические лимиты — это ограничения платформы, обусловленные особенностями архитектуры VK Cloud.

Некоторые из лимитов являются жесткими, их невозможно превысить физически. Например, лимит на [4 GPU у одного инстанса](#virtualnye_mashiny_8471c45a) связан с ограничением технологии KVM, которая не позволяет подключить к одной виртуальной машине более 4 видеокарт.

Другие лимиты не связаны с физическими ограничениями и базируются на эксплуатационных требованиях сервисов. Например, [сетевые ограничения](#seti_d70e0fd1) вводятся, чтобы гарантировать оптимальную производительность сетей и их стабильную работу.

Для некоторых технических лимитов не существует соответствующих им квот.

Квоты можно [увеличить](../../service-management/project-settings/manage#uvelichenie_kvot_proekta) в пределах технических лимитов, обратившись в техническую поддержку.

Нежесткие лимиты можно превысить — либо также через [техническую поддержку](/ru/contacts), либо самостоятельно. Однако превышение этих лимитов может негативно сказаться на стабильности работы.

Далее приведен список квот и лимитов для региона Москва.

### Общие

[cols="2,1,1,1,1", options="header"]
|===
| Параметр
| Квота
| Базовая квота
| Лимит
| Жесткий

| Количество проектов у пользователя
| —
| 5 шт.
| 100 шт.
| &#10003;

| Количество администраторов в проекте
| —
| 50 чел.
| 50 чел.
| &#10003;

| Количество пар SSH-ключей
| `key-pairs` в CLI
| 100 пар ключей
| не ограничено
| —

|===

### Виртуальные машины

#### Общее количество ВМ и vCPU

[cols="2,1,1,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит
| Жесткий

| Количество инстансов в проекте
| **Виртуальные машины**
|`instances`
| 6 шт.
| 1000 шт.
| — 

| Количество vCPU в проекте
| **vCPU**
| `cores`
| 9 шт.
| не ограничено
| —

| Общий объем оперативной памяти в проекте
| **RAM**
| `ram`
| 10240 МБ
| не ограничено
| —

|===

Лимит на количество инстансов в проекте можно превысить, если увеличить соответствующую квоту по запросу в [техническую поддержку](/ru/contacts).

<info>

В личном кабинете может отображаться не более 1000 виртуальных машин.

</info>

#### Лимиты без квот

| Параметр                                       | Лимит         | Жесткий |
|-------------------------------------|-------|-----------------------|
| Количество vCPU у одного инстанса      | 32 шт.  | —          |
| Количество High-Freq vCPU у одного инстанса | 24 шт.      | — |
| Количество GPU у одного инстанса            | 4 шт.       | &#10003; |
| Объем RAM у одного инстанса                 | 1024 ГБ     | — |

Лимиты на количество процессоров (vCPU и High-Freq vCPU) и оперативной памяти связаны с ограничениями стандартных гипервизоров. Если вам необходимо большее количество vCPU или High-Freq vCPU, обратитесь в [техническую поддержку](/ru/contacts) и закажите выделенный гипервизор с нужными характеристиками.

Лимит на 4 GPU у одного инстанса связан с ограничением технологии KVM, которая не позволяет подключить к одной виртуальной машине более 4 видеокарт.

### Контейнеры (Kubernetes)

Для сервиса Контейнеры (Kubernetes) квоты не предусмотрены. Использование этого сервиса ограничивается только техническими лимитами.

| Параметр                                         | Лимит              | Жесткий |
|--------------------------------------------------|--------------------|---------|
| Количество [узлов](/ru/base/k8s/concepts/architecture#topologii_klastera) в группе узлов          | 100 шт.            | &#10003; |
| Количество групп узлов в кластере                | 50 шт.             | — |
| Количество подов у узла                  | 110 шт.            | — |
| Количество сущностей (ReplicaSet, StatefulSet, пространств имен и т.д.) у кластера | 10000 шт.          | — |
| Длина имени кластера k8s и группы узлов | 24 символа         | &#10003; |

Нежесткие лимиты можно превысить без обращения в техническую поддержку. Рекомендации по этим и другим параметрам в [официальной документации Kubernetes](https://kubernetes.io/docs/setup/best-practices/cluster-large/). Лимит на количество узлов в группе узлов не обусловлен требованиями Kubernetes, ограничение вводится на уровне VK Cloud.

### Диски и образы

#### Объем дисков

[cols="3,2,2,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит

| Общий объем дисков в проекте
| **Размер дисков**
| `gigabytes`
| 200 ГБ
| не ограничено

| Общий объем дисков High-IOPS SSD
| **Размер High-IOPS SSD** 
| `gigabytes_high-iops`
| 200 ГБ
| не ограничено

| Общий объем дисков High-IOPS SSD в [зоне доступности](/ru/additionals/start/architecture#az) GZ1
| **Размер High-IOPS SSD в зоне - (DP1)**
| `gigabytes_dp1-high-iops`
| 200 ГБ
| не ограничено

| Общий объем дисков High-IOPS SSD в зоне доступности MS1
| **Размер High-IOPS SSD в зоне Москва (MS1)**
| `gigabytes_ko1-high-iops`
| 200 ГБ
| не ограничено

|===

Квоты на общий объем дисков в проекте учитывают диски всех типов, в том числе High-IOPS SSD. Квоты на общий объем дисков High-IOPS SSD учитывают диски, созданные в обеих зонах доступности. Если вы запрашиваете через [техническую поддержку](/ru/contacts) увеличение квоты, включенной в другую квоту, квота более высокого уровня будет увеличена пропорционально.

#### Количество дисков

[cols="3,2,2,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит

| Количество дисков в проекте
| **Диски**
| `volumes`
| 10 шт.
| не ограничено

| Количество дисков High-IOPS SSD в проекте
| **Диски High-IOPS SSD**
| `volumes_high-iops`
| 10 шт.
| не ограничено

| Количество дисков High-IOPS SSD в [зоне доступности](/ru/additionals/start/architecture#az) GZ1
| **Диски High-IOPS SSD в зоне - (DP1)**
| `volumes_dp1-high-iops`
| 10 шт.
| не ограничено

| Количество дисков High-IOPS SSD в зоне доступности MS1
| **Диски High-IOPS SSD в зоне Москва (MS1)**
| `volumes_ko1-high-iops`
| 10 шт.
| не ограничено

|===

Квоты на общее количество дисков в проекте учитывают диски всех типов, в том числе High-IOPS SSD. Квоты на общее количество дисков High-IOPS SSD учитывают диски, созданные в обеих зонах доступности. Если вы запрашиваете через [техническую поддержку](/ru/contacts) увеличение квоты, включенной в другую квоту, квота более высокого уровня будет увеличена пропорционально.

#### Лимиты без квот

| Параметр                  | Лимит | Жесткий |
|---------------------------|---------|---|
| Количество дисков у одного инстанса  | 28 шт.| &#10003; |
| Размер одного диска HDD              | 50 ТБ | &#10003; |
| Размер одного диска SSD              | 10 ТБ | &#10003; |
| Размер одного диска High-IOPS SSD    | 2 TБ через личный кабинет, 5 ТБ при помощи OpenStack CLI | — |
| Размер одного образа                 | 500 ГБ | — |
| Общий объем образов                  | 2 ТБ | — |
| Общее количество снимков дисков      | 200 шт. | — |

Лимит на количество дисков у одного инстанса (28 шт.) связан с ограничениями шины PCI.

Лимит на размер одного образа (500 ГБ) является жестким лимитом для сервиса Glance. Если вам необходимо загрузить образ большего размера, воспользуйтесь [инструкцией](/ru/base/s3/use-cases/load-large-image).

Лимит на размер одного диска SSD-HIGH-IOPS (5 ТБ) обусловлен требованиями эксплуатации, его можно превысить без обращения в техническую поддержку. Диск, созданный с превышением лимита, ничем не отличается по производительности, но восстановление или миграция такого диска займут значительное время и будут сопряжены с рисками.

Лимит на общий объем образов (2 ТБ) можно превысить, обратившись в [техническую поддержку](/ru/contacts).

Лимит на общее количество снимков дисков (200 шт.) можно превысить, обратившись в [техническую поддержку](/ru/contacts).

### Файловые хранилища

[cols="3,2,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Базовая квота
| Лимит
| Жесткий

| Количество файловых хранилищ в проекте
| **Файловые хранилища NFS/CIFS**
| 10 шт.
| не ограничено
| —

| Общий объем всех файловых хранилищ в проекте
| **Размер файловых хранилищ NFS/CIFS**
| 200 ГБ
| не ограничено
| —

| Общий объем снимков файловых хранилищ в проекте
| **Размер снимков файловых хранилищ NFS/CIFS**
| 200 ГБ
| не ограничено
| —

| Количество сетей файловых хранилищ
| **Сети файловых хранилищ NFS/CIFS**
| 5 шт.
| не ограничено
| —

| Размер одного файлового хранилища
| — 
| — 
| 50 ТБ
| &#10003; 

|===

Квота на количество сетей файловых хранилищ (**Сети файловых хранилищ NFS/CIFS**) является квотой для внутреннего использования.

### Сети

Лимиты в этом разделе обусловлены требованиями эксплуатации, они применяются для обеспечения стабильной работы сетей. Не рекомендуется запрашивать через [техническую поддержку](/ru/contacts) квоты, превышающие соответствующие лимиты.

#### Сети, подсети и IP-адреса

<tabs>
<tablist>
<tab>Sprut</tab>
<tab>Neutron</tab>
</tablist>
<tabpanel>

[cols="3,2,2,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит
| Жесткий

| Количество сетей в проекте
| **Сети Sprut**
| `networks`
| 10 шт.
| 20 шт.
| —

| Количество подсетей в проекте
| **Подсети Sprut**
| `subnets`
| 10 шт.
| 20 шт.
| —

| Количество плавающих IP-адресов
| **IP-адреса Sprut** 
| `floating-ips`
| 6 шт.
| 50 шт.
| —

|===

</tabpanel>
<tabpanel>

[cols="3,2,2,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит
| Жесткий

| Количество сетей в проекте
| **Сети Neutron**
| `networks`
| 10 шт.
| 20 шт.
| — 

| Количество подсетей в проекте
| **Подсети Neutron**
| `subnets`
| 10 шт.
| 20 шт.
| —

| Количество плавающих IP-адресов
| **IP-адреса Neutron**
| `floating-ips`
| 6 шт.
| 50 шт.
| — 

|===

</tabpanel>
</tabs>

Даже если квота на общее количество подсетей в проекте была увеличена через техническую поддержку, не рекомендуется создавать более 20 подсетей в одной сети.

#### Другие параметры

<tabs>
<tablist>
<tab>Sprut</tab>
<tab>Neutron</tab>
<tab>Octavia</tab>
</tablist>
<tabpanel>

[cols="3,2,2,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит
| Жесткий 

| Количество маршрутизаторов
| **Маршрутизаторы Sprut**
| `routers`
| 12 шт.
| 20 шт.
| —

| Количество продвинутых маршрутизаторов
| **Маршрутизаторы Sprut**
| `dc_router`
| 3 шт.
| 3 шт.
| — 

| Количество групп безопасности в проекте
| **Группы безопасности Sprut**
| `secgroups`
| 12 шт.
| не ограничено
| —

| Количество правил безопасности в проекте
| **Правила безопасности Sprut**
| `secgroup-rules`
| 200 шт.
| не ограничено
| —

| Количество портов в проекте
| **Порты Sprut**
| `ports`
| 120 шт.
| 500 шт.
| — 

| Количество портов с адресами во внешней сети в проекте
| **Порты во внешней сети Sprut**
| `external_port`
| 5 шт.
| 6 шт.
| — 

|===

</tabpanel>
<tabpanel>

[cols="3,2,2,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит
| Жесткий

| Количество маршрутизаторов
| **Маршрутизаторы Neutron**
| `routers`
| 12 шт.
| 20 шт.
| — 

| Количество групп безопасности в проекте
| **Группы безопасности Neutron**
| `secgroups`
| 12 шт.
| не ограничено
| —

| Количество правил безопасности в проекте
| **Правила безопасности Neutron**
| `secgroup-rules`
| 200 шт.
| не ограничено
| —

| Количество портов в проекте
| **Порты Neutron**
| `ports`
| 120 шт.
| 500 шт.
| — 

| Количество портов Neutron с адресами во внешней сети в проекте
| **Порты во внешней сети Neutron**
| `external_port`
| 5 шт.
| 6 шт.
| — 

|===

</tabpanel>
<tabpanel>

[cols="2,1,1,1,1,1", options="header"]
|===
| Параметр
| Квота в ЛК
| Квота в CLI
| Базовая квота
| Лимит
| Жесткий

| Количество балансировщиков нагрузки
| **Балансировщики Octavia**
| `load_balancers`
| 12 шт.
| 20 шт.
| — 

| Количество правил балансировки на один балансировщик
| —
| —
| —
| 10 шт. через ЛК, 30 шт. через CLI
| — 

|===

</tabpanel>
</tabs>

Вы можете превысить лимит на количество правил балансировки на один балансировщик (10 шт.), не обращаясь в техническую поддержку. Для этого создайте правила при помощи OpenStack CLI. Для стабильной работы не рекомендуется использовать более 30 правил на один балансировщик.

Квота **Балансировщики Neutron**, которая отображается в личном кабинете, не используется.

### Cloud Backup

| Параметр                                      | Квота из CLI | Базовая квота  | Лимит | Жесткий |
|-----------------------------------------------|---------------------------------|--------------------|--|--|
| Количество резервных копий                    | `backups` | 400 шт. | не ограничено | — |
| Количество снимков                            | `snapshots` | 200 шт. | не ограничено | — |
| Размер одной резервной копии                  | — | — | 320 ТБ        | — |
| Общий объем образов                           | — | — | 2 ТБ          | — |

Лимит на размер резервной копии (320 ТБ) обусловлен лимитом на размер файла в сервисе Cloud Storage, этот сервис используется для хранения резервных копий. Этот лимит можно [увеличить](../../service-management/project-settings/manage#uvelichenie_kvot_proekta), обратившись в техническую поддержку.

### Cloud Storage

Для сервиса Cloud Storage квоты не предусмотрены. Использование этих сервисов ограничивается только техническими лимитами.

[cols="3,2,4,1", options="header"]
|===
| Параметр
| Лимит
| Комментарий
| Жесткий 

| Количество аккаунтов
| 25 шт.
| —
| &#10003;

| Количество бакетов
| 100 шт.
| —
| &#10003;

| Количество объектов в бакете
| не ограничено
| —
| —

| Размер одного файла
| 32 ГБ, 320 ТБ
| 32 ГБ для обычного файла, 320 ТБ для мультипартового
| &#10003;

| Размер одного бакета
| не ограничено
| —
| —

| Рейт-лимит: обычные запросы
| 1000 запросов/с
| не ограничено, максимальное известное значение среди всех проектов: 9000 запросов/с
| — 

| Рейт-лимит: запросы на листинг
| 250 запросов/с
| не ограничено, максимальное известное значение среди всех проектов: 500 запросов/с
| — 

|===

Рейт-лимиты можно [увеличить](../../service-management/project-settings/manage#uvelichenie_kvot_proekta), обратившись в техническую поддержку.
