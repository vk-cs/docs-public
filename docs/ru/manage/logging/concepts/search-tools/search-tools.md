Язык поиска позволяет:

- искать по одному или нескольким фильтрующим выражениям;
- применять логические операции и операции сравнения.

Для фильтрации логов используйте параметры фильтров в поисковой строке:

| Параметр               | Формат                                    | Описание | Пример |
| ---------------------- | ----------------------------------------- | ------ | ------ |
| `message`              | `message: "значение"` | Поиск записей, в сообщениях которых есть заданные значения. Является параметром по умолчанию, в запросе можно не указывать | `"Hello world!"` |
| `timestamp`            | `timestamp <операция сравнения> "значение"` | Поиск записей, отправленных в заданный промежуток времени | `timestamp >= "2022-04-10T00:00:00Z"` |
| `level`                | `level <операция сравнения> значение` | Поиск записей с заданными уровнями логирования. Доступные уровни логирования — `DEBUG`, `INFO`, `WARN`, `ERROR`, `CRITICAL` | `level >= INFO` |
| `payload`              | `payload: "значение"` | 	Поиск по тексту записей, в `payload` которых есть заданные значения | `payload: warning` |
| `payload.field.search` | `payload.<field>: "значение"` | Лексикографический поиск записей по элементам `payload`. Префикс `payload` можно не указывать, если корневой элемент дерева не совпадает ни с одним из параметров. Проверить существование элемента в `payload` можно с помощью оператора `EXISTS`: `json_payload.result EXISTS`. Такой фильтр выведет записи, в `payload` которых есть элемент `result` | `payload.status: created` |

Чтобы отфильтровать записи по нескольким значениям одного параметра, перечислите значения друг за другом.

<warn>

Если в поиске не указывать выражение с полями, то по умолчанию поиск будет по подстроке в поле `message`.

</warn>

## Требования

1. Символы `"`, `'` и `＼` в выражении экранируются с помощью `＼`.
1. Значение можно не брать в кавычки, если оно:

    - начинается с буквы латинского алфавита и содержит только буквы латинского алфавита, цифры и знаки подчеркивания;
    - является целым числом без знака.

1. Доступные значения для `timestamp`: RFC3339.

## Операторы сравнения

| Оператор | Расшифровка |
| -------- | ----------- |
| `=` | Равно |
| `<>` | Не равно |
| `>` | Больше |
| `<` | Меньше |
| `<=` | Меньше или равно |
| `>=` | Больше или равно |
| `:` | Содержит |

## Фильтры с несколькими условиями

Объединить несколько условий в одном фильтре можно с помощью логических операторов:

- `AND`
- `OR`
- `NOT`

## Порядок вычислений

Используйте скобки для задания определенного порядка вычислений:

```sql
параметр1: "значение1" AND (параметр2 = "значение2" OR параметр3 < "значение3")
```
