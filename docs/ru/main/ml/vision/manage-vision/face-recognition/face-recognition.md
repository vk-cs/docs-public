HOST: `https://smarty.mail.ru`

Для распознавания лиц используются четыре метода API:

- Set (/api/v1/persons/set)
- Recognize (/api/v1/persons/recognize)
- Delete (/api/v1/persons/delete)
- Truncate (/api/v1/persons/truncate)

Рассмотрим каждый из них подробнее.

## Set

Данный метод позволяет установить связь между заданной фотографией и конкретным `person_id`.

### Запрос

Авторизационные данные передаются в строке запроса:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">oauth_token</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">OAuth2 access token <strong style="box-sizing: border-box; font-weight: 700;">(required non-empty)</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">oauth_provider</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">провайдер OAuth2<strong style="box-sizing: border-box; font-weight: 700;">&nbsp;(required non-empty)</strong></td></tr></tbody></table>

Поддерживаемые провайдеры OAuth2:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Провайдер</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение oauth_provider</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Получение токена</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">Mail.Ru</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">mcs</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">Смотрите <a href="https://mcs.mail.ru/help/vision-api/oauth_token" style="box-sizing: border-box; background-color: transparent; color: rgb(14, 104, 202); text-decoration: none; user-select: auto;" title="">в статье</a></p></td></tr></tbody></table>

Параметры запроса передаются в формате JSON в теле запроса с name="meta":

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">space</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;">имена файлов для сопоставления файлов в запросе и ответе (required non-empty)</span><strong style="box-sizing: border-box; font-weight: 700;">&nbsp;</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">images</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">[]image_meta</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">ID, сопоставляемый персоне на фото (required non-empty)<strong style="box-sizing: border-box; font-weight: 700;"><span style="box-sizing: border-box;">&nbsp;</span><strong style="box-sizing: border-box; font-weight: 700;"></strong><br style="box-sizing: border-box;"></strong></td></tr></tbody></table>

Параметр space используется для избежания пересечений по person. Таким образом, person1 из space 0 и person1 из space 1 разные. Для приложений, решающих различные задачи, имеет смысл использовать различные значения space.

Клиент может иметь до 10 различных space. Значения space изменяются от 0 до 9. В случае превышения лимита вернется ошибка.

**image_meta**

| Параметр | Тип | Значение |
| --- | --- | --- |
| name | string | Имена файлов для сопоставления файлов в запросе и ответе (required non-empty |
| person_id | int | ID, сопоставляемый персоне на фото (required non-empty) |

Изображения передаются в теле запроса, значения поля name должны соответствовать переданным в images. Максимальное количество изображений в одном запросе равняется 100. Максимальный размер каждого изображения не должен превышать 4МБ.

Пример запроса:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221);"><pre><span style="box-sizing: border-box;">POST /api/v1/persons/set?oauth_provider=mcs&amp;oauth_token=<span style="box-sizing: border-box;">123</span> HTTP/<span style="box-sizing: border-box;">1.1</span></span><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfCqTBHeLZlsicvMp</span><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">------WebKitFormBoundaryfCqTBHeLZlsicvMp</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">Content-Disposition: form-data; name="<span style="box-sizing: border-box;">file_0</span>"; filename=""</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">Content-Type: image/jpeg</span>
<br style="box-sizing: border-box;">
<span style="box-sizing: border-box;">000000000000000000000000000</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">000000000000000000000000000</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">000000000000000000000000000</span>
<span style="box-sizing: border-box;">------WebKitFormBoundaryfCqTBHeLZlsicvMp</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">Content-Disposition: form-data; name="<span style="box-sizing: border-box;">file_1</span>"; filename=""</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">Content-Type: image/jpeg</span><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">111111111111111111111111111</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">111111111111111111111111111</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">111111111111111111111111111</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">------WebKitFormBoundaryfCqTBHeLZlsicvMp</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">Content-Disposition: form-data; name="<span style="box-sizing: border-box;">meta</span>"</span><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">{"<span style="box-sizing: border-box;">space</span>":"<span style="box-sizing: border-box;">0</span>", "<span style="box-sizing: border-box;">images</span>":[{"<span style="box-sizing: border-box;">name</span>":"<span style="box-sizing: border-box;">file_0</span>", "<span style="box-sizing: border-box;">person_id</span>":<span style="box-sizing: border-box;">1</span>},{"<span style="box-sizing: border-box;">name</span>":"<span style="box-sizing: border-box;">file_1</span>", "<span style="box-sizing: border-box;">person_id</span>":<span style="box-sizing: border-box;">2</span>}]}</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box;">------WebKitFormBoundaryfCqTBHeLZlsicvMp--</span></pre></td></tr></tbody></table>

### Ответ

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 688px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">status</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">int</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">200 в случае успешного взаимодействия с серверами Vision</p></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">body</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">response&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">тело ответа</p></td></tr></tbody></table>

#### response

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 688px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">objects</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">[]object</span></p></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">массив ответов для каждого файла</p></td></tr></tbody></table>

#### object

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 688px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">status</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">enum</span></p></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">результат выполнения</p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><br style="box-sizing: border-box;"></p></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">error</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></p></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">текстовое описание ошибки&nbsp;<strong style="box-sizing: border-box; font-weight: 700;">(optional)</strong></p></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">name</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></p></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">имя файла для сопоставления файлов в запросе и ответе</p></td></tr></tbody></table>

#### status

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 688px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;">0</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">успешно</p></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;">1</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">массив найденных типов документов на странице</p></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;">2</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">временная ошибка</p></td></tr></tbody></table>

Пример ответа:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 688px; margin-bottom: 20px;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text; background-color: rgb(239, 239, 239);"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">status</span>":<span style="box-sizing: border-box; color: rgb(51, 153, 102);">200</span>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">body</span>":{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">objects</span>":[</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">status</span>":<span style="box-sizing: border-box; color: rgb(51, 153, 102);">0</span>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">name</span>":"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">file_0</span>"</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;},</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">status</span>":<span style="box-sizing: border-box; color: rgb(51, 153, 102);">1</span>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">name</span>":"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">file_1</span>",</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">error</span>":"The memory contains data of an unknown image type"</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;}</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;]</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">},</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(51, 51, 153);">htmlencoded</span>":<strong style="box-sizing: border-box; font-weight: 700;"><span style="box-sizing: border-box; color: rgb(51, 51, 153);">false</span></strong>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(51, 51, 153);"><span style="box-sizing: border-box;">last_modified</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">":</span><span style="box-sizing: border-box; color: rgb(51, 153, 102);">0</span></span></span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">}</span></p></td></tr></tbody></table>

## Recognize

Данный метод позволяет распознать person по заданной фотографии. В случае, если совпадение не найдено, будет добавлен новый person.

### Запрос

Авторизационные данные передаются в строке запроса:

| **Параметр**   | **Тип** | **Значение**                                 |
| -------------- | ------- | -------------------------------------------- |
| oauth_token    | string  | OAuth2 access token **(required non-empty)** |
| oauth_provider | string  | провайдер OAuth2 **(required non-empty)**    |

### Поддерживаемые провайдеры OAuth2:

| **Провайдер** | **Значение oauth_provider** | **Получение токена** |
| ------------- | --------------------------- | -----|
| VK Cloud | mcs | [https://mcs.mail.ru/help/vision-auth/vision-token](https://mcs.mail.ru/help/vision-auth/vision-token) (все клиенты VK Cloud) |

### Параметры запроса передаются в формате JSON в теле запроса с name="meta":

| **Параметр** | **Тип**      | **По умолчанию** | **Значение**                                                                                        |
| ------------ | ------------ | ---------------- | --------------------------------------------------------------------------------------------------- |
| space        | string       | \--              | числовой идентификатор, используемый для избежания пересечений по персонам **(required non-empty)** |
| create_new   | bool         | false            | добавлять ли новый person, если не было найдено совпадений                                          |
| images       | []image_meta | \--              | метаданные передаваемых изображений **(required non-empty)**                                        |

Описание параметра space смотрите в разделе метода [Set](https://mcs.mail.ru/docs/ml/vision/manage-vision/face-recognition#set).

### image_meta

| Параметр | Тип | Значение |
| ---- | ---- | ---- |
| name | string | имена файлов для сопоставления файлов в запросе и ответе (required non-empty) |

Изображения передаются в теле запроса, значения поля name должны соответствовать переданным в images. Максимальное количество изображений в одном запросе равняется 100. Максимальный размер каждого изображения не должен превышать 4МБ.

Пример запроса:

```
POST /api/v1/objects/detect?oauth_provider=mr&oauth_token=123 HTTP/1.1

Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfCqTBHeLZlsicvMp

------WebKitFormBoundaryfCqTBHeLZlsicvMp
Content-Disposition: form-data; name="file_0"; filename=""
Content-Type: image/jpeg

000000000000000000000000000
000000000000000000000000000
000000000000000000000000000
------WebKitFormBoundaryfCqTBHeLZlsicvMp
Content-Disposition: form-data; name="file_1"; filename=""
Content-Type: image/jpeg

111111111111111111111111111
111111111111111111111111111
111111111111111111111111111
------WebKitFormBoundaryfCqTBHeLZlsicvMp
Content-Disposition: form-data; name="meta"

{"mode":["object","scene","car_number"],"images":[{"name":"file_0"},{"name":"file_1"}]}
------WebKitFormBoundaryfCqTBHeLZlsicvMp--
```

### Ответ

| Параметр      | Тип      | Значение |
| ------------| ------- | -------------------------------------------------------|
| status       | int     | 200 в случае успешного взаимодействия с серверами Vision |
| body | response | тело ответа |

### response

| Параметр    | Тип  | Значение |
| --------------- | -------- | -------------------------------- |
| objects         | []object | массив ответов для каждого файла |
| aliases_changed | bool     | изменились ли алиасы             |

### object

| Параметр | Тип  | Значение |
| --------- | -------- | ------- |
| status       | enum     | результат выполнения |
| error        | string   | текстовое описание ошибки (optional) |
| name         | string   | имя файла для сопоставления файлов в запросе и ответе |
| labels      | []label | список объектов (меток), найденных на изображении |
| count_by_density | int | кол-во людей в кадре, подсчитанное с помощью карты плотности  (только для mode=”pedestrian”) |

### status

| **Параметр** | **Значение**        |
| ------------ | ------------------- |
| 0            | успешно             |
| 1            | перманентная ошибка |
| 2            | временная ошибка    |

### person

| **Параметр** | **Тип**  | **Значение** |
| ------------ | -------- | --------------------------------------------------------------------------------------------- |
| tag          | string   | идентификатор найденной персоны                                                               |
| coord        | []int    | координаты найденного лица [left x, top y, right x, bottom y]                                 |
| aliases      | []string | массив похожих персон **(optional)**                                                          |
| confidence   | float    | степень уверенности детектора лиц в том, что найденное изображение является лицом (от 0 до 1) |
| similarity   | float    | степень похожести найденного лица с персоной в базе                                           |
| awesomeness  | float    | условная "крутость" фотографии (от 0 до 1)                                                    |

Только для второй модели:

| **Параметр** | **Тип** | **Значение**                                                                                          |
| ------------ | ------- | ----------------------------------------------------------------------------------------------------- |
| sex          | string  | пол персоны ["female", "male"]                                                                        |
| age          | float   | возраст персоны                                                                                       |
| emotion      | string  | эмоции персоны: "Neutral", "Happiness", "Sadness", "Surprise", "Fear", "Disgust", "Anger", "Contempt" |
| valence      | float   | уровень одобрения человеком ситуации, в которой он находится [-1;1]                                   |
| arousal      | float   | уровень вовлеченности человека [-1 - сонный, не активный человек; 1 - активный человек]               |

Значение **tag** может равняться "**undefined**" в случае, если значение create_new  в запросе равнялось false, и по предоставленному изображению в базе не был найден соответствующий person.

Пример ответа:

<table cellpadding="5" cellspacing="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: transparent; border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; break-inside: avoid;" width="578"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(0, 0, 0); user-select: text;" width="566"><pre><span lang="en-US" style="box-sizing: border-box;">{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp;"status":200,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp;"body":{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; "objects":[</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "status":0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"file_0"</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "status":1,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"file_1",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "error":"The memory contains data of an unknown image type"</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "status":0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"file_2",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "persons":[</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tag":"person9",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "coord":[149,60,234,181],</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "confidence":0.9999,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "similarity":0.9987,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "awesomeness":0.45,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sex":"female",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "emotion":"Sadness",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "age":30.0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "valence":-0.6184,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "arousal":-0.0578</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tag":"person10",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "coord":[159,70,224,171],</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "confidence":0.9998,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "similarity":0.9987,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "awesomeness":0.32,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sex":"male",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "emotion":"Sadness",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "age":22.0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "valence":-0.8184,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "arousal":-0.0578</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "status":0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"file_3",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "persons":[</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tag":"person11",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "coord":[157,60,232,111],</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "aliases":["person12", "person13"],</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "confidence":0.9998,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "similarity":0.9987,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "awesomeness":0.32,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sex":"female",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "emotion":"Sadness",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "age":12.0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "valence":-0.8184,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "arousal":-0.0578</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;},</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "status":0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "name":"file_4",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "persons":[</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;{</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "tag":"undefined",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "coord":[147,50,222,121],</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "confidence":0.9997,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "similarity":0.9987,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "awesomeness":0.26,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "sex":"male",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "emotion":"Sadness",</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "age":27.0,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "valence":0.3184,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; "arousal":0.1518</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; ]</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; &nbsp; &nbsp;}</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; ],</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp; &nbsp; "aliases_changed":false</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp;},</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp;"htmlencoded":false,</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">&nbsp; &nbsp;"last_modified":0</span><span lang="en-US" style="box-sizing: border-box;"><br style="box-sizing: border-box;"></span><span lang="en-US" style="box-sizing: border-box;">}</span></pre></td></tr></tbody></table>

## Delete

Данный метод позволяет удалить связь между фотографией и person_id.

### Запрос

Авторизационные данные передаются в строке запроса:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">oauth_token</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">OAuth2 access token <strong style="box-sizing: border-box; font-weight: 700;">(required non-empt</strong>y)</td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">oauth_provider</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">провайдер OAuth2 <strong style="box-sizing: border-box; font-weight: 700;">(required non-empty)</strong></td></tr></tbody></table>

Поддерживаемые провайдеры OAuth2:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Провайдер</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение oauth_provider</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Получение токена</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">Mail.Ru</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">mcs</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">Смотрите <a href="https://mcs.mail.ru/help/vision-api/oauth_token" style="box-sizing: border-box; background-color: transparent; color: rgb(14, 104, 202); text-decoration: none; user-select: auto;" title="">в статье</a></p></td></tr></tbody></table>

Параметры запроса передаются в формате JSON в теле запроса с name="meta":

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">space&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">числовой идентификатор, используемый для избежания пересечений по персонам <strong style="box-sizing: border-box; font-weight: 700;">(required non-empty)</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">images&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">[]image_meta</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">метаданные передаваемых изображений <strong style="box-sizing: border-box; font-weight: 700;">(required non-empty)</strong></td></tr></tbody></table>

Описание параметра space смотрите в разделе метода [Set](https://mcs.mail.ru/docs/ml/vision/manage-vision/face-recognition#set).

#### image_meta

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">name</span><span style="box-sizing: border-box;">&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">имена файлов для сопоставления файлов в запросе и ответе&nbsp;<strong style="box-sizing: border-box; font-weight: 700;">(required non-empty)</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">person_id</span><span style="box-sizing: border-box;">&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">int&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">ID, сопоставляемый персоне на фото<strong style="box-sizing: border-box; font-weight: 700;">&nbsp;(required non-empty)</strong></td></tr></tbody></table>

Изображения передаются в теле запроса, значения поля name должны соответствовать переданным в images. Максимальное количество изображений в одном запросе равняется 100. Максимальный размер каждого изображения не должен превышать 4МБ.

Пример запроса:

<table style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">POST /api/v1/persons/delete?oauth_provider=mr&amp;oauth_token=</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">123</code> <code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">HTTP/</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">1.1</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">ConContent-Type: multipart/form-data; boundary=----WebKitFormBoundaryfCqTBHeLZlsicvMp</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">&nbsp;</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">------WebKitFormBoundaryfCqTBHeLZlsicvMp</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">Content-Disposition: form-data; name=</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"meta"</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">&nbsp;</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">{</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"space"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">:</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"0"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">,&nbsp;</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"images"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">:[{</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"name"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">:</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"file_0"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">,&nbsp;</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"person_id"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">:</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">1</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">},{</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"name"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">:</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"file_1"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">,&nbsp;</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">"person_id"</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">:</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">2</code><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">}]}</code><br style="box-sizing: border-box;"><code style="box-sizing: border-box; font-family: monospace, monospace; font-size: 14.4px; padding: 2px 4px; background-color: rgb(240, 242, 246); border-radius: 4px;">------WebKitFormBoundaryfCqTBHeLZlsicvMp--</code></p></td></tr></tbody></table>

Пример с curl:

```bash
curl "https://smarty.mail.ru/api/v1/persons/delete?oauth_provider=mr&oauth_token=123" \
    -F meta='{"images":[{"name":"f1", "person_id":1},{"name":"f2", "person_id":2}], "space":"1"}'
```

### Ответ

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">status&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">int&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">200 в случае успешного взаимодействия с серверами Vision</td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">body&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">response&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">тело ответа</td></tr></tbody></table>

#### response

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">objects</span><span style="box-sizing: border-box;">&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">[]object</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">массив ответов для каждого файла</p></td></tr></tbody></table>

#### object

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">status</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">enum&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">результат выполнения</td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">error&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">текстовое описание ошибки<strong style="box-sizing: border-box; font-weight: 700;">&nbsp;(optional)</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">name&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">имя файла для сопоставления файлов в запросе и ответе</td></tr></tbody></table>

#### status

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">0</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;">успешно</span></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">1</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box;">перманентная ошибка</span></span></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">2</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box;"><span style="box-sizing: border-box;">временная ошибка</span></span></td></tr></tbody></table>

Пример ответа:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text; background-color: rgb(239, 239, 239);"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">status</span>":<span style="box-sizing: border-box; color: rgb(51, 153, 102);">200</span>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">body</span>":{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">objects</span>":[</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; "<span style="box-sizing: border-box; color: rgb(0, 0, 128);">status</span>":<span style="box-sizing: border-box; color: rgb(51, 153, 102);">0</span>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; "<span style="box-sizing: border-box; color: rgb(0, 0, 128);">name</span>":"file_0"</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;},</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">status</span>":1,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">name</span>":"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">file_1</span>",</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 90px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">error</span>":"The memory contains data of an unknown image type"</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">&nbsp; &nbsp;}</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 60px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">]</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">},</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(0, 0, 128);">htmlencoded</span>":<span style="box-sizing: border-box; color: rgb(0, 0, 128);"><strong style="box-sizing: border-box; font-weight: 700;">false</strong></span>,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"<span style="box-sizing: border-box; color: rgb(0, 0, 128);"><span style="box-sizing: border-box;">last_modified</span><span style="box-sizing: border-box; color: rgb(0, 0, 0);">":</span><span style="box-sizing: border-box; color: rgb(51, 153, 102);">0</span></span></span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">}</span></p></td></tr></tbody></table>

## Truncate

Данный метод позволяет полностью очистить space.

### Запрос

Авторизационные данные передаются в строке запроса:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">oauth_token</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">OAuth2 access token <strong style="box-sizing: border-box; font-weight: 700;">(required non-empty)</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">oauth_provider</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">провайдер OAuth2<strong style="box-sizing: border-box; font-weight: 700;">&nbsp;(required non-empty)</strong></td></tr></tbody></table>

Поддерживаемые провайдеры OAuth2:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Провайдер</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение oauth_provider</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Получение токена</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">Mail.Ru</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">mcs</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;">Смотрите <a href="https://mcs.mail.ru/help/vision-api/oauth_token" style="box-sizing: border-box; background-color: transparent; color: rgb(14, 104, 202); text-decoration: none; user-select: auto;" title="">в статье</a></p></td></tr></tbody></table>

Параметры запроса передаются в формате JSON в теле запроса с name="meta":

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">space</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">string</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">числовой идентификатор, используемый для избежания пересечений по персонам <strong style="box-sizing: border-box; font-weight: 700;">(required non-empty</strong>)</td></tr></tbody></table>

Описание параметра space смотрите в разделе метода [Set](https://mcs.mail.ru/docs/ml/vision/manage-vision/face-recognition#set).

Данный запрос не требует передачи изображений.

Пример запроса:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text; background-color: rgb(239, 239, 239);"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">POST /api/v1/persons/truncate?oauth_provider=mcs&amp;oauth_token=123 HTTP/1.1</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">Content-Type: multipart/form-data; boundary=----WebKitFormBoundaryfCqTBHeLZlsicvMp</span><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">------WebKitFormBoundaryfCqTBHeLZlsicvMp</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">Content-Disposition: form-data; name="meta"</span><br style="box-sizing: border-box;"><br style="box-sizing: border-box;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">{"space":"1"}</span><br style="box-sizing: border-box;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">------WebKitFormBoundaryfCqTBHeLZlsicvMp--</span></p></td></tr></tbody></table>

### Ответ

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px; background-color: rgb(240, 240, 240);"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Параметр</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Тип</strong></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><strong style="box-sizing: border-box; font-weight: 700;">Значение</strong></td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">status</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">int</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">200 в случае успешного взаимодействия с серверами Vision</td></tr><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">body</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">response&nbsp;</span></td><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text;">тело ответа</td></tr></tbody></table>

Пример ответа:

<table border="0" style="box-sizing: border-box; border-collapse: collapse; border-spacing: 0px; background-color: rgb(255, 255, 255); border: none; empty-cells: show; max-width: 100%; width: 690px; margin-bottom: 20px; color: rgb(56, 76, 96); font-family: &quot;Open Sans&quot;, Helvetica, &quot;Lucida Grande&quot;, sans-serif; font-size: 16px; font-style: normal; font-variant-ligatures: normal; font-variant-caps: normal; font-weight: 400; letter-spacing: normal; orphans: 2; text-align: start; text-indent: 0px; text-transform: none; white-space: normal; widows: 2; word-spacing: 0px; -webkit-text-stroke-width: 0px; text-decoration-style: initial; text-decoration-color: initial;"><tbody style="box-sizing: border-box;"><tr style="box-sizing: border-box; user-select: none; line-height: 32px;"><td style="box-sizing: border-box; padding: 5px 10px; min-width: 5px; border: 1px solid rgb(221, 221, 221); user-select: text; background-color: rgb(239, 239, 239);"><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">{</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"status":200,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"body":{},</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"htmlencoded":false,</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5; padding-left: 30px;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">"last_modified":0</span></p><p style="box-sizing: border-box; margin: 0px 0px 20px; color: rgb(56, 76, 96); font-size: 16px; font-weight: 400; line-height: 1.5;"><span style="box-sizing: border-box; font-family: &quot;courier new&quot;, courier;">}</span></p></td></tr></tbody></table>

Пример php:

```
php examples/php/smarty.php "https://smarty.mail.ru/api/v1/persons/truncate?oauth_provider=mcs&oauth_token=e50b000614a371ce99c01a80a4558d8ed93b313737363830" "" '{"space":"1"}'
```
