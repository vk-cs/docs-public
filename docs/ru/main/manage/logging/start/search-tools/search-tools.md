Язык поиска позволяет:

- искать по одному или нескольким фильтрующим выражениям;
- применять логические операции и операции сравнения.

Для фильтрации логов используйте параметры фильтров в поисковой строке:

| Параметр             | Формат                                    | Описание | Пример |
| -------------------- | ----------------------------------------- | ------ | ------ |
| message              | `timestamp <операция сравнения> "значение"` | Поиск записей, отправленных в заданный промежуток времени. | timestamp >= "2022-04-10T00:00:00Z" |
| timestamp            | payload.<field>: "значение"               | Поиск записей по элементам payload. Если в фильтре используется операция сравнения, элемент может быть строкой, числом или логическим значением, в противном случае — только строкой. Префикс payload можно не указывать, если корневой элемент дерева не совпадает ни с одним из параметров. Проверить существование элемента в payload можно с помощью оператора EXISTS. Например: json_payload.result EXISTS. Такой фильтр выведет записи, в payload которых есть элемент result. | payload.status: created |
| level                | payload: "значение"                       | Поиск записей, в payload которых есть заданные значения. Осуществляется по тексту. | payload: warring |
| payload              | message: "значение"                       | 	Поиск записей, в сообщениях которых есть заданные значения. message является параметром по умолчанию, поэтому в запросе его можно не указывать. | "Hello world!" Error (или error или hello world) |
| payload.field.search | `level <операция сравнения> значение`       | Поиск записей с заданными уровнями логирования. Доступные уровни логирования — DEBUG, INFO, WARN, ERROR, CRITICAL. | level >= INFO |

<warn>  

**Важно**

Чтобы отфильтровать записи по нескольким значениям одного параметра, перечислите значения друг за другом.

</warn>

## Требования

1. Значение можно не брать в кавычки, если оно:

    - начинается с буквы латинского алфавита и содержит только буквы латинского алфавита, цифры и знаки подчеркивания;
    - является целым числом без знака.

2. TRUE, FALSE, true и false используются для логических значений. Нужно заключить их в кавычки, чтобы найти в тексте.
3. Доступные значения для timestamp:

    - unix time;
    - RFC3339.

## Операции сравнения

- равно
- не равно
- больше
- меньше
- меньше или равно
- больше или равно

## Фильтры с несколькими условиями

Объединить несколько условий в одном фильтре можно с помощью логических операторов:

- AND
- OR
- NOT

## Порядок вычислений

Порядок вычислений можно задавать используя скобки.

```
параметр1: "значение1" AND (параметр2 = "значение2" OR параметр3 < "значение3")
```
