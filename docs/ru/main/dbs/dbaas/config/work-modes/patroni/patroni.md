## Patroni

### Установка

Patroni предустановлен в вашей системе.

Patroni - это служба для создания высокодоступных PostgreSQL кластеров на основе стандартной потоковой репликации. Это решение используется такими компаниями как Red Hat, IBM Compose, Zalando и многими другими. С его помощью можно преобразовать систему из ведущего и ведомых узлов (primary - replica) в высокодоступный кластер с поддержкой автоматического контролируемого (switchover) и аварийного (failover) переключения. Patroni позволяет легко добавлять новые реплики в существующий кластер, поддерживает динамическое изменение конфигурации PostgreSQL одновременно на всех узлах кластера и множество других возможностей.

## Балансер

Для каждого кластера создается TCP-балансер, который имеет 3 порта. Они указывают на:

1.  \- мастер
2.  \- синхронную реплику
3.  \- асинхронную реплику

---

Официальная [документация Patroni находится тут](https://patroni.readthedocs.io/en/latest/index.html).
