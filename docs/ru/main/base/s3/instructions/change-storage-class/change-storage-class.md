VK Cloud поддерживает изменение [классов хранения](../../concepts/intro#klassy_hraneniya_baketa) для сущностей:

- бакета,
- объекта,
- мультипартов.

<err>

При изменении класса хранения происходит передача трафика, который [тарифицируется](../../tariffication/).

</err>

## Изменение класса хранения бакета

<warn>

При изменении класса хранения бакета класс хранения уже входящих в него объектов остается прежним. Новый класс будет распространяться на новые добавляемые объекты.

</warn>

<tabs>
<tablist>
<tab>Личный кабинет</tab>
</tablist>
<tabpanel>

1. [Перейдите](https://mcs.mail.ru/app/) в личный кабинет VK Cloud.
1. Создайте [аккаунт](/ru/base/s3/access-management/s3-account) и [бакет](/ru/base/s3/buckets/create-bucket), если этого не сделано ранее.
1. Перейдите в раздел **Объектное хранилище** → **Бакеты**.
1. Отройте страницу бакета, нажав на его имя в списке.
1. Перейдите на вкладку **Класс хранения**.
1. Отметьте нужный класс и нажмите кнопку **Сохранить изменения**.

</tabpanel>
</tabs>

## Изменение класса хранения объекта

<tabs>
<tablist>
<tab>AWS CLI</tab>
</tablist>
<tabpanel>

1. Создайте [аккаунт](/ru/base/s3/access-management/s3-account) и [бакет](/ru/base/s3/buckets/create-bucket), если этого не сделано ранее.
1. [Авторизуйтесь](/ru/base/s3/tools/s3-cli) в AWS CLI.
1. Выполните нужную команду:

   - для одного файла бакета:

   ```bash
   aws s3 cp s3://<имя бакета>/<имя файла> s3://<имя бакета>/ --storage-class <класс хранения> --endpoint-url <эндпоинт объектного хранилища VK Cloud>
   ```

   - для всех файлов бакета:

   ```bash
   aws s3 cp s3://<имя бакета>/ s3://<имя бакета>/ --recursive --storage-class <класс хранения> --endpoint-url <эндпоинт объектного хранилища VK Cloud>
   ```

</tabpanel>
</tabs>

## Изменение класса хранения мультипартов

Класс хранения задается на этапе инициализации мультипарта или после его полной сборки (операции `InitiateMultipart` и `CompleteMultipart`). Если класс не указан, будет присвоен класс хранения бакета.

Чтобы изменить класс хранения загруженного мультипарта:

<tabs>
<tablist>
<tab>AWS CLI</tab>
</tablist>
<tabpanel>

1. Создайте [аккаунт](/ru/base/s3/access-management/s3-account) и [бакет](/ru/base/s3/buckets/create-bucket), если этого не сделано ранее.
1. [Авторизуйтесь](/ru/base/s3/tools/s3-cli) в AWS CLI.
1. Дождитесь полной загрузки мультипарта в бакет.
1. Выполните команду:

   - для одного файла бакета:

   ```bash
   aws s3 cp s3://<имя бакета>/<имя файла> s3://<имя бакета>/ --storage-class <класс хранения> --endpoint-url <эндпоинт объектного хранилища VK Cloud>
   ```

   - для всех файлов бакета:

   ```bash
   aws s3 cp s3://<имя бакета>/ s3://<имя бакета>/ --recursive --storage-class <класс хранения> --endpoint-url <эндпоинт объектного хранилища VK Cloud>
   ```

</tabpanel>
</tabs>
