Изменение размера диска возможно только в большую сторону от исходного размера. Диск может быть увеличен без остановки сервера и отсоединения, однако для обеспечения сохранности имеющихся данных, наиболее безопасным способом выполнения операции является предварительное отключение диска.

## Панель управления VK Cloud

Для увеличения размера [в личном кабинете](https://mcs.mail.ru/app/services/infra/servers/) следует:

1.  Перейти в раздел «Диски» сервиса «Облачные вычисления».
2.  В контекстном меню диска выбрать «Изменить размер диска».
3.  В окне изменения размера диска ввести требуемое значение в ГБ, нажать «Подтвердить».

Если изменение диска производится без остановки инстанса, то в операционной системе необходимо выполнить расширение диска.

В ОС Windows: открыть оснастку управления дисками (diskmgmt.msc), в контекстном меню нужного раздела выбрать «Расширить раздел».

Для ОС Linux необходимо использовать команды:

```bash
fdisk -l
growpart /dev/vda 1
sudo resize2fs /dev/vda1
```

<warn>

Resize2fs умеет работать только с ext2-4 файловыми системами, а CentOS ставит по дефолту xfs.

</warn>

Решением является использование xfs_growfs:

```bash
xfs_growfs /dev/centos/root
meta-data=/dev/mapper/centos-root isize=256    agcount=4, agsize=1737216 blks
         =                       sectsz=512   attr=2, projid32bit=1
         =                       crc=0
data     =                       bsize=4096   blocks=6948864, imaxpct=25
         =                       sunit=0      swidth=0 blks
naming   =version 2              bsize=4096   ascii-ci=0 ftype=0
log      =internal               bsize=4096   blocks=3393, version=2
         =                       sectsz=512   sunit=0 blks, lazy-count=1
realtime =none                   extsz=4096   blocks=0, rtextents=0
data blocks changed from 6948864 to 20055040
```

## OpenStack CLI

Для увеличения размера диска в CLI следует сначала отсоединить диск:

```bash
openstack server remove volume <ID сервера> <ID диска>
```

Далее выполнить увеличение размера:

```bash
openstack volume set --size <Размер> <ID диска>
```

Получить список дисков можно командой:

```bash
openstack volume list --long
```

Увеличить размер диска, который присоединен к инстансу, можно командой клиента cinder:

```bash
cinder extend <ID диска> <Размер>
```

## Попробуйте наши сервисы

При активации аккаунта мы свяжемся с вами и начислим некоторое количество бонусных рублей на ваш счет, чтобы вы могли протестировать сервис в течение 60 дней.

[Тестировать](https://mcs.mail.ru/app/)

Или оставьте [запрос на консультацию](https://mcs.mail.ru/help/contact-us) с индивидуальным расчетом.
