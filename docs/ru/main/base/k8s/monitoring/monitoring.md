Для отслеживания состояния кластера Kubernetes доступны следующие инструменты:

- Встроенные в Kubernetes Dashboard инструменты.

  Они обеспечивают базовые возможности мониторинга, позволяя посмотреть информацию о ресурсах Kubernetes.

- Предустановленный [сервис мониторинга](../concepts/preconfigured-features/addons#monitoring) (должен быть выбран на этапе создания кластера).

  Он обеспечивает расширенные возможности мониторинга кластера, позволяя посмотреть метрики по множеству ресурсов Kubernetes, вплоть до индивидуальных подов.
  Также возможно настроить оповещения (alerts) при превышении заданных порогов для метрик. Например, можно отследить недоступность ресурсов кластера или нехватку вычислительных мощностей worker-узлов.

  Чтобы узнать, доступен ли сервис мониторинга в кластере:
  1. Убедитесь, что вы можете [подключиться к кластеру](../connect/kubectl) с помощью `kubectl`.
  1. Выполните команду:

     ```bash
     kubectl get namespaces
     ```

     Если в выводе команды присутствует пространство имен (namespace) `prometheus-monitoring`, то сервис установлен и доступен.

## Использование Kubernetes Dashboard

1. [Подключитесь к кластеру с помощью Kubernetes Dashboard](../connect/k8s-dashboard).
1. Получите данные о ресурсах кластера:

   1. Выберите нужное пространство имен из выпадающего списка вверху интерфейса Kubernetes Dashboard. По умолчанию выбрано пространство имен `default`.
   1. В боковом меню выберите нужный ресурс Kubernetes.

## Использование Grafana

1. [Убедитесь](../connect/kubectl#proverka-podklyucheniya-k-klasteru), что вы можете подключиться к кластеру с помощью `kubectl`.

1. Получите доступ к веб-интерфейсу Grafana:

   1. В отдельной сессии терминала выполните команду:

      ```bash
      kubectl -n prometheus-monitoring port-forward service/kube-prometheus-stack-grafana 8001:80
      ```

      <warn>

      Не закрывайте эту сессию, иначе доступ к веб-интерфейсу Grafana пропадет.

      </warn>

   1. По выводу команды определите порт, открытый `kubectl` для доступа к Grafana.

      Номер порта указан до символа →. Например, из этого вывода следует, что для подключения используется порт `6637`:

      ```text
      Forwarding from 127.0.0.1:6637 -> 3000
      Forwarding from [::1]:6637 -> 3000
      ```

   1. Откройте в браузере URL для доступа к веб-интерфейсу Grafana:

      ```http
      http://localhost:<порт>/
      ```

      Появится страница входа в Grafana.

1. Выполните вход в Grafana:

   - Если вы входите в первый раз:

     1. Используйте логин `admin` и пароль `admin` для входа.
     1. Задайте новый пароль вместо используемого по умолчанию.
     1. Нажмите кнопку **Submit**.

   - Если вы уже входили в Grafana, используйте логин `admin` и заданный пароль.

Теперь вы можете работать с Grafana. Например, создавать и просматривать дашборды. Преднастроенные дашборды с информацией о различных ресурсах Kubernetes доступны в боковом меню **Dashboards → Browse**.

Подробнее о работе с Grafana в [официальной документации](https://grafana.com/docs/grafana/latest/).
