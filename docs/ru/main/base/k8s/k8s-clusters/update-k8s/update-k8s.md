Перед обновлением рекомендуем сохранить важные данные и приложения, произвести резервное копирование, а также произвести операцию обновления на копиях кластера для предотвращения возможных проблем и потери данных.

<warn>

Обновить версию кластера можно только на более новую. Обратная операция или понижение версии невозможно.

</warn>

Обновление кластера версии 1.16 и ниже возможно осуществить только через операцию создания нового кластера. Для выполнения подобной операции рекомендуется [воспользоваться программным обеспечением Velero](https://mcs.mail.ru/docs/ru/base/k8s/k8s-addons/k8s-backups) для резервного копирования кластера с последующим восстановлением в более новую версию.

Обновление в Панели VK CS
-----------------------

Обновления версии кластера производится в разделе «Контейнеры» Панели VK CS. Для этого следует выбрать в контекстном меню необходимого кластера соответствующую опцию «Обновить версию»:

Во всплывающем окне нужно выбрать желаемую новую версию и подтвердить смену версии кнопкой «Изменить версию».

Во время выполнения операции обновления, ноды кластера будет перезагружены 1 за 1 (rolling upgrade). Сначала будут обновлены master-узлы, потом node узлы.

В случае обновления кластера с 1 master-узлом или 1 node-узлом возможны перебои в работе вашего приложения, т.к. все его реплики будут находиться на узле, который обновляется.

В случае обновления кластера с 3 master-узлами и 2 и более node-узлами, обновление будет произведено без влияния на работоспособность конечных приложений.
