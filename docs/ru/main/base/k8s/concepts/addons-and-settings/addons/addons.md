Для кластеров Kubernetes VK Cloud доступны различные аддоны (дополнительные сервисы). Их можно выбрать в любой комбинации и установить либо при [создании кластера с помощью Terraform](../../../operations/create-cluster/create-terraform), либо [позднее](../../../operations/addons/manage-addons#ustanovka-addona) в уже существующий кластер. Процесс установки автоматизирован и требует минимального вмешательства пользователя.

## Особенности установки аддонов

- Аддоны устанавливаются на worker-узлы кластера и потребляют их вычислительные ресурсы.

  Ниже приведены системные требования аддонов, исходящие из стандартных значений [requests и limits](https://kubernetes.io/docs/concepts/configuration/manage-resources-containers/#requests-and-limits) для ресурсов Kubernetes в коде настройки аддона. При использовании нестандартных значений системные требования аддонов изменятся.

- Аддоны могут быть установлены на выделенную группу worker-узлов или на выбранные планировщиком Kubernetes worker-узлы. Использование первого подхода позволяет исключить влияние аддонов на работу production-сервисов, развернутых в кластере.

  Вычислительных ресурсов выделенной группы worker-узлов должно быть достаточно для всех аддонов, даже если каждый аддон потребляет максимум ресурсов, указанных в системных требованиях. Рекомендуется настроить автоматическое масштабирование для такой группы узлов.

- Для аддонов возможно выполнить:

  - **Стандартную установку** на выбранные планировщиком Kubernetes worker-узлы с изменением кода настройки аддона.
  - **Установку на выделенные worker-узлы** с изменением кода настройки аддона.
  - **Быструю установку** на выбранные планировщиком Kubernetes worker-узлы без изменения кода настройки аддона (с настройками по умолчанию). Не все аддоны поддерживают такой вариант установки.

  Процесс установки описан в разделе [Настройка и установка аддонов](../../../operations/addons/advanced-installation/).

## Доступные аддоны

<info>

Доступность конкретных аддонов зависит от [региона](/ru/base/account/concepts/regions), в котором планируется разместить кластер.

</info>

### Kube Prometheus Stack

<tabs>
<tablist>
<tab>Описание</tab>
<tab>Системные требования</tab>
</tablist>
<tabpanel>

Система мониторинга состояния кластера и развернутых в нем сервисов реализована на базе [Prometheus](https://prometheus.io/) и инструмента визуализации [Grafana](https://grafana.com/).

Подробнее в разделе [Мониторинг кластера](../../../monitoring#ispolzovanie-grafana).

</tabpanel>
<tabpanel>

- **CPU**: 850m–2500m.
- **RAM**: 968Mi–3804Mi.
- **HDD**: 2GB.
- **SSD**: 10GB.

</tabpanel>
</tabs>

### Docker Registry

<warn>

При установке аддона для него будет создан [стандартный балансировщик нагрузки](/ru/networks/vnet/concepts/load-balancer#tipy-balansirovshchikov-nagruzki).

Использование балансировщика [тарифицируется](/ru/networks/vnet/tariffs).

</warn>

<tabs>
<tablist>
<tab>Описание</tab>
<tab>Системные требования</tab>
</tablist>
<tabpanel>

[Реестр Docker](https://docs.docker.com/registry/) предназначен для размещения и хранения образов Docker. Работает в отказоустойчивой конфигурации (high availability, HA). Образы из реестра можно использовать при развертывании сервисов в кластере.

Подробнее в разделе [Подключение к реестру Docker](../../../connect/docker-registry/).

</tabpanel>
<tabpanel>

- **CPU**: 100m.
- **RAM**: 128Mi–512 Mi.
- **Объем объектного хранилища S3**: зависит от размера и количества образов, которые планируется размещать в реестре.
- **Стандартный балансировщик нагрузки**: одна штука.
- **Плавающий IP**: одна штука.

</tabpanel>
</tabs>

### Ingress Controller (NGINX)

<warn>

При установке аддона для него будет создан [стандартный балансировщик нагрузки](/ru/networks/vnet/concepts/load-balancer#tipy-balansirovshchikov-nagruzki).

Использование балансировщика [тарифицируется](/ru/networks/vnet/tariffs).

</warn>

<tabs>
<tablist>
<tab>Описание</tab>
<tab>Системные требования</tab>
</tablist>
<tabpanel>

[Ingress-контроллер](https://kubernetes.io/docs/concepts/services-networking/ingress/) на базе [NGINX](https://docs.nginx.com/nginx-ingress-controller/intro/overview/) работает в качестве обратного прокси (reverse proxy) и позволяет организовать единую точку входа для сервисов в кластере, которые работают по HTTP или HTTPS.

При наличии контроллера достаточно создать [ресурс Ingress](https://kubernetes.io/docs/concepts/services-networking/ingress/), чтобы такие сервисы стали доступны извне кластера Kubernetes.

Ingress-контроллер тесно интегрируется с платформой VK Cloud. Подробнее в разделе [Сеть в кластере](../../network/).

</tabpanel>
<tabpanel>

- **CPU**: 210m–610m.
- **RAM**: 238Mi–660Mi.
- **Стандартный балансировщик нагрузки**: одна штука.
- **Плавающий IP**: одна штука (при установке с [настройками по умолчанию](../../../operations/addons/advanced-installation/install-advanced-ingress#ustanovka-addona)).

</tabpanel>
</tabs>

### Istio

<tabs>
<tablist>
<tab>Описание</tab>
<tab>Системные требования</tab>
</tablist>
<tabpanel>

[Istio](https://istio.io/latest/) — это фреймворк, реализующий концепцию [service mesh](https://istio.io/latest/about/service-mesh/#what-is-a-service-mesh): выделенного слоя для взаимодействия между сервисами приложения. Использование Istio позволяет обеспечивать для сервисов управление трафиком без изменения кода самих сервисов (используются sidecar-контейнеры). С Istio:

- Повышается уровень безопасности при передаче трафика путем:

  - настройки политик для трафика;
  - возможности использования TLS при коммуникации между сервисами;

- Появляются расширенные возможности мониторинга трафика.
- Становится возможным выполнять сложную маршрутизацию и балансировку трафика между сервисами.

</tabpanel>
<tabpanel>

- **CPU**: 500m.
- **RAM**: 2Gi.

</tabpanel>
</tabs>

### Kiali

<tabs>
<tablist>
<tab>Описание</tab>
<tab>Системные требования</tab>
</tablist>
<tabpanel>

[Kiali](https://kiali.io/) — веб-интерфейс для работы с [Istio](#istio). Он позволяет управлять service mesh, отслеживать ее состояние и визуализировать ее.

</tabpanel>
<tabpanel>

- **CPU**: 10m—500m.
- **RAM**: 64Mi—1Gi.

</tabpanel>
</tabs>
