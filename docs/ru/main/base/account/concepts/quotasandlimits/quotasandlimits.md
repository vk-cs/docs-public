## Квоты

Квоты — это применяемые к проекту ограничения:

- на использование виртуальных вычислительных ресурсов платформы;
- на создание объектов в конкретных сервисах.

Например, проверка доступных квот происходит при создании новой виртуальной машины. Если квоты позволяют создать еще одну виртуальную машину, и для ее создания достаточно ресурсов (vCPU, памяти и дискового пространства), виртуальная машина успешно создается.

Квоты не делятся между несколькими проектами одного владельца и не наследуются одним проектом от другого. Список квот различается для разных [регионов](../regions).

После активации сервисов проекту становятся доступны базовые квоты. Для них установлены значения по умолчанию, которые применяются для всех новых проектов региона.

Квоты можно [посмотреть](../../instructions/project-settings/manage#prosmotr-kvot-proekta) в личном кабинете (краткий список) и через OpenStack CLI (расширенный список). Есть неявные квоты, которые нельзя увидеть ни одним из способов, они проявляются в виде сообщений об ошибке при попытке создать новый объект. Пример неявной квоты — [квота на количество проектов](#obshchie), которые может создать один пользователь.

Квоты тесно связаны с [техническими лимитами](#kvoty-i-tehnicheskie-limity).

## Квоты и технические лимиты

Технические лимиты — это ограничения платформы, обусловленные особенностями архитектуры VK Cloud.

Некоторые из лимитов являются жесткими, их невозможно превысить физически. Например, лимит на [4 GPU у одного инстанса](#virtualnye-mashiny) связан с ограничением технологии KVM, которая не позволяет подключить к одной виртуальной машине более 4 видеокарт.

Другие лимиты не связаны с физическими ограничениями и базируются на эксплуатационных требованиях сервисов. Например, [сетевые ограничения](#seti--neutron-) вводятся, чтобы гарантировать оптимальную производительность сетей и их стабильную работу.

Для некоторых технических лимитов не существует соответствующих им квот.

Квоты можно [увеличить](../../instructions/project-settings/manage#uvelichenie-kvot-proekta) в пределах технических лимитов, обратившись в техническую поддержку.

Нежесткие лимиты можно превысить — либо также через [техническую поддержку](/ru/contacts), либо самостоятельно. Однако превышение этих лимитов может негативно сказаться на стабильности работы.

Далее приведен список квот и лимитов для региона Москва.

### Общие

| Параметр                             | Квота | Базовая квота | Лимит        | Жесткий |
|--------------------------------------|---------|--------------------|---------|---|
| Количество проектов у пользователя   | — | 5 шт.   | 100 шт.            | +       |
| Количество администраторов в проекте | — | 50 чел. | 50 чел.            | +       |
| Количество пар SSH-ключей | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) `key-pairs` в расширенном списке | 100 пар ключей | не ограничено | |

### Виртуальные машины

#### Общее количество ВМ и vCPU

| Параметр                            | Квота | Базовая квота | Лимит         | Жесткий |
|-------------------------------------|-------|-----------------------|---------|---|
| Количество инстансов в проекте      | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Виртуальные машины** в личном кабинете, `instances` в расширенном списке | 6 шт. | 1000 шт. | — |
| Количество vCPU в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **vCPU** в личном кабинете, `cores` в расширенном списке | 9 шт. | не ограничено | |
| Общий объем оперативной памяти в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **RAM** в личном кабинете, `ram` в расширенном списке | 10240 МБ | не ограничено |

Лимит на количество инстансов в проекте можно превысить, если увеличить соответствующую квоту по запросу в [техническую поддержку](/ru/contacts).

<info>

В личном кабинете может отображаться не более 1000 виртуальных машин.

</info>

#### Лимиты без квот

| Параметр                                       | Лимит         | Жесткий |
|-------------------------------------|-------|-----------------------|
| Количество vCPU у одного инстанса      | 32 шт.  | —          |
| Количество High-Freq vCPU у одного инстанса | 24 шт.      | — |
| Количество GPU у одного инстанса            | 4 шт.       | + |
| Объем RAM у одного инстанса                 | 1024 ГБ     | — |

Лимиты на количество процессоров (vCPU и High-Freq vCPU) и оперативной памяти связаны с ограничениями стандартных гипервизоров. Если вам необходимо большее количество vCPU или High-Freq vCPU, обратитесь в [техническую поддержку](/ru/contacts) и закажите выделенный гипервизор с нужными характеристиками.

Лимит на 4 GPU у одного инстанса связан с ограничением технологии KVM, которая не позволяет подключить к одной виртуальной машине более 4 видеокарт.

### Контейнеры (Kubernetes)

Для сервиса Контейнеры (Kubernetes) квоты не предусмотрены. Использование этого сервиса ограничивается только техническими лимитами.

| Параметр                                         | Лимит              | Жесткий |
|--------------------------------------------------|--------------------|---------|
| Количество [узлов](/ru/base/k8s/concepts/architecture#topologii-klastera) в группе узлов          | 100 шт.            | + |
| Количество групп узлов в кластере                | 50 шт.             | — |
| Количество подов у узла                  | 110 шт.            | — |
| Количество сущностей (ReplicaSet, StatefulSet, пространств имен и т.д.) у кластера | 10000 шт.          | — |
| Длина имени кластера k8s и группы узлов | 24 символа         | + |

Нежесткие лимиты можно превысить без обращения в техническую поддержку. Рекомендации по этим и другим параметрам в [официальной документации Kubernetes](https://kubernetes.io/docs/setup/best-practices/cluster-large/). Лимит на количество узлов в группе узлов не обусловлен требованиями Kubernetes, ограничение вводится на уровне VK Cloud.

### Диски и образы

#### Объем дисков

| Параметр                  | Квота | Базовая квота                           | Лимит |
|---------------------------|---------------------------------|-------|---------|
| Общий объем дисков в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Размер дисков** в личном кабинете, `gigabytes` в расширенном списке | 200 ГБ | не ограничено |
| Общий объем дисков High-IOPS SSD | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Размер High-IOPS SSD** в личном кабинете, `gigabytes_high-iops` в расширенном списке  | 200 ГБ | не ограничено |
| Общий объем дисков High-IOPS SSD в [зоне доступности](/ru/additionals/start/it-security/platform-security#zony-dostupnosti) DP1 | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Размер High-IOPS SSD в зоне - (DP1)** в личном кабинете, `gigabytes_dp1-high-iops` в расширенном списке | 200 ГБ | не ограничено |
| Общий объем дисков High-IOPS SSD в [зоне доступности](/ru/additionals/start/it-security/platform-security#zony-dostupnosti) MS1 | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Размер High-IOPS SSD в зоне Москва (MS1)** в личном кабинете, `gigabytes_ko1-high-iops` в расширенном списке | 200 ГБ | не ограничено |

Квоты на общий объем дисков в проекте учитывают диски всех типов, в том числе High-IOPS SSD. Квоты на общий объем дисков High-IOPS SSD учитывают диски, созданные в обеих зонах доступности. Если вы запрашиваете через [техническую поддержку](/ru/contacts) увеличение квоты, включенной в другую квоту, квота более высокого уровня будет увеличена пропорционально.

#### Количество дисков

| Параметр                  | Квота | Базовая квота                           | Лимит |
|---------------------------|---------------------------------|-------|---------|
| Количество дисков в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Диски** в личном кабинете, `volumes` в расширенном списке | 10 шт. | не ограничено |
| Количество дисков High-IOPS SSD в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Диски High-IOPS SSD** в личном кабинете, `volumes_high-iops` в расширенном списке | 10 шт. | не ограничено |
| Количество дисков High-IOPS SSD в [зоне доступности](/ru/additionals/start/it-security/platform-security#zony-dostupnosti) DP1 | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Диски High-IOPS SSD в зоне - (DP1)** в личном кабинете, `volumes_dp1-high-iops` в расширенном списке | 10 шт. | не ограничено |
| Количество дисков High-IOPS SSD в [зоне доступности](/ru/additionals/start/it-security/platform-security#zony-dostupnosti) MS1 | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Диски High-IOPS SSD в зоне Москва (MS1)** в личном кабинете, `volumes_ko1-high-iops` в расширенном списке | 10 шт.  | не ограничено |

Квоты на общее количество дисков в проекте учитывают диски всех типов, в том числе High-IOPS SSD. Квоты на общее количество дисков High-IOPS SSD учитывают диски, созданные в обеих зонах доступности. Если вы запрашиваете через [техническую поддержку](/ru/contacts) увеличение квоты, включенной в другую квоту, квота более высокого уровня будет увеличена пропорционально.

#### Лимиты без квот

| Параметр                  | Лимит | Жесткий |
|---------------------------|---------|---|
| Количество дисков у одного инстанса  | 28 шт.| + |
| Размер одного диска HDD              | 50 ТБ | + |
| Размер одного диска SSD              | 10 ТБ | + |
| Размер одного диска High-IOPS SSD    | 2 TБ через личный кабинет, 5 ТБ при помощи OpenStack CLI | — |
| Размер одного образа                 | 500 ГБ | — |
| Общий объем образов                  | 2 ТБ | — |

Лимит на количество дисков у одного инстанса (28 шт.) связан с ограничениями шины PCI.

Лимит на размер одного образа (500 ГБ) является жестким лимитом для сервиса Glance. Если вам необходимо загрузить образ большего размера, воспользуйтесь [инструкцией](/ru/base/s3/use-cases/load-large-image).

Лимит на размер одного диска SSD-HIGH-IOPS (5 ТБ) обусловлен требованиями эксплуатации, его можно превысить без обращения в техническую поддержку. Диск, созданный с превышением лимита, ничем не отличается по производительности, но восстановление или миграция такого диска займут значительное время и будут сопряжены с рисками.

Лимит на общий объем образов (2 ТБ) можно превысить, обратившись в [техническую поддержку](/ru/contacts).

### Файловые хранилища

| Параметр                        | Квота | Базовая квота | Лимит   | Жесткий |
|---------------------------------|-------|-----|---------|---------|
| Количество файловых хранилищ в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Файловые хранилища NFS/CIFS** в личном кабинете | 10 шт. | не ограничено | |
| Общий объем всех файловых хранилищ в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Размер файловых хранилищ NFS/CIFS** в личном кабинете | 200 ГБ | не ограничено | |
| Общий объем снимков файловых хранилищ в проекте | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Размер снимков файловых хранилищ NFS/CIFS** в личном кабинете | 200 ГБ | не ограничено | |
| Количество сетей файловых хранилищ | [квота](../../instructions/project-settings/manage#prosmotr-kvot-proekta) **Сети файловых хранилищ NFS/CIFS** в личном кабинете | 5 шт. | не ограничено | |
| Размер одного файлового хранилища | — | — | 50 ТБ   | + |

Квота на количество сетей файловых хранилищ (**Сети файловых хранилищ NFS/CIFS**) является квотой для внутреннего использования.

### Сети (Neutron)

Лимиты в этом разделе обусловлены требованиями эксплуатации, они применяются для обеспечения стабильной работы сетей. Не рекомендуется запрашивать через [техническую поддержку](/ru/contacts) квоты, превышающие соответствующие лимиты.

#### Сети, подсети и IP-адреса

| Параметр                          | Квота | Базовая квота | Лимит | Жесткий |
|-----------------------------------|-------|------------|---------|----|
| Количество плавающих IP-адресов | [квота](../../instructions/project-settings/manage#5690-5) **IP-адреса Neutron** В личном кабинете, `floating-ips` в расширенном списке | 6 шт. | 50 шт.| — |
| Количество сетей в проекте        | [квота](../../instructions/project-settings/manage#5690-5) **Сети Neutron** В личном кабинете, `networks` в расширенном списке | 10 шт. | 20 шт.             | — |
| Количество подсетей в проекте | [квота](../../instructions/project-settings/manage#5690-5) **Подсети Neutron** В личном кабинете, `subnets` в расширенном списке | 10 шт. | 20 шт. | — |

Даже если квота на общее количество подсетей в проекте была увеличена через техническую поддержку, не рекомендуется создавать более 20 подсетей в одной сети.

#### Другие параметры

| Параметр                          | Квота | Базовая квота | Лимит | Жесткий |
|-----------------------------------|-------|------------|---------|----|
| Количество балансировщиков нагрузки | [квота](../../instructions/project-settings/manage#5690-5) **Балансировщики Octavia** в личном кабинете, `load_balancers` в расширенном списке | 12 шт. | 20 шт. | — |
| Количество правил балансировки на один балансировщик | — | — | 10 шт. через личный кабинет, 30 шт. через OpenStack CLI   | —   |
| Количество маршрутизаторов   | [квота](../../instructions/project-settings/manage#5690-5) **Маршрутизаторы Neutron** в личном кабинете, `routers` в расширенном списке | 12 шт. | 20 шт.             | — |
| Количество групп безопасности в проекте | [квота](../../instructions/project-settings/manage#5690-5) **Группы безопасности Neutron** В личном кабинете, `secgroups` в расширенном списке | 12 шт. | не ограничено | |
| Количество правил безопасности в проекте | [квота](../../instructions/project-settings/manage#5690-5) **Правила безопасности Neutron** В личном кабинете, `secgroup-rules` в расширенном списке | 200 шт. | не ограничено | |
| Количество портов в проекте | [квота](../../instructions/project-settings/manage#5690-5) **Порты Neutron** В личном кабинете, `ports` в расширенном списке | 120 шт. | 500 шт. | — |

Вы можете превысить лимит на количество правил балансировки на один балансировщик (10 шт.), не обращаясь в техническую поддержку. Для этого создайте правила при помощи OpenStack CLI. Для стабильной работы не рекомендуется использовать более 30 правил на один балансировщик.

Квота **Балансировщики Neutron**, которая отображается в личном кабинете, не используется.

### Резервное копирование

| Параметр                                      | Квота | Базовая квота  | Лимит | Жесткий |
|-----------------------------------------------|---------------------------------|--------------------|--|--|
| Количество резервных копий                    | [квота](../../instructions/project-settings/manage#5690-5) `backups` из расширенного списка | 400 шт. | не ограничено | |
| Количество снимков                            | [квота](../../instructions/project-settings/manage#5690-5)  `snapshots` из расширенного списка | 200 шт. | не ограничено | |
| Размер одной резервной копии                  | — | — | 320 ТБ        | — |
| Общий объем образов                           | — | — | 2 ТБ          | — |

Лимит на размер резервной копии (320 ТБ) обусловлен лимитом на размер файла в сервисе Объектное хранилище (S3), этот сервис используется для хранения резервных копий. Этот лимит можно [увеличить](../../instructions/project-settings/manage#uvelichenie-kvot-proekta), обратившись в техническую поддержку.

### Объектное хранилище (S3)

Для сервиса Объектное хранилище (S3) квоты не предусмотрены. Использование этих сервисов ограничивается только техническими лимитами.

| Параметр          | Лимит    | Комментарий | Жесткий |
|-------------------|----------------------------------------------------------|--|--|
| Количество аккаунтов          | 25 шт.                                              |  | + |
| Количество бакетов            | 100 шт.                                           |  | + |
| Количество объектов в бакете  | не ограничено                                |  |  |
| Размер одного файла      | 32 ГБ, 320 ТБ  | 32 ГБ для обычного файла, 320 ТБ для мультипартового | + |
| Размер одного бакета     | не ограничено                                             | |  |
| Рейт-лимит: обычные запросы  | запрос/сек: 1000 | не ограничено, максимальное известное значение среди всех проектов: 9000 запросов / сек | — |
| Рейт-лимит: запросы на листинг | запрос/сек: 250 | не ограничено, максимальное известное значение среди всех проектов: 500 запросов / сек | — |

Рейт-лимиты можно [увеличить](../../instructions/project-settings/manage#uvelichenie-kvot-proekta), обратившись в техническую поддержку.
