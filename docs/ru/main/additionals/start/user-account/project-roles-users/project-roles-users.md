Как администратор вы управляете проектами, пользователями и ролями. Проекты — это организационные единицы в облаке, которым можно назначать пользователей. Пользователи могут быть участниками одного или нескольких проектов. Роли определяют, какие действия могут выполнять пользователи. Назначение роли для пары пользователь-проект.

## Проект

Проект — это группа из одного или более пользователей. В Облачных вычислениях проект владеет виртуальными машинами. В Объектном хранилище проекту принадлежат бакеты. Пользователи могут быть связаны с более чем одним проектом. С каждым проектом и парой пользователей может быть связана роль.

Можно управлять проектами, пользователями и ролями независимо друг от друга.

Во время регистрации определен минимум один проект, пользователь и его роль. Пользователю можно назначить один или несколько проектов, а также изменить или удалить назначение.

## Создание проекта

Дополнительные проекты можно создавать для разделения ресурсов, ролей или других архитектурных особенностей реализуемых задач.

Создать проект можно в личном кабинете в шапке страницы. При создании нового проекта текущий пользователь получает роль «Владельца» проекта вне зависимости от его роли в текущем проекте:

![](./assets/1595515119684-1595515119684.png)

Примечание

Название проекта должно состоять только из строчных букв латинского алфавита и цифр, длинной от 4 до 60 символов. Допустимо использование символов ".", "\_", "-" (кроме первого и последнего символов).

## Изменение данных проекта

Для переименования проекта выберите свой проект из выпадающего списка в шапке страницы личного кабинета, и нажмите на инструмент «Карандаш» для переименования:

![](./assets/1595513652118-1595513652118.png)

После изменения названия в заголовке изменится имя проекта.

Совет

Обратите внимание на соседнюю с «Карандашом» кнопку. Она позволяет скопировать название проекта для использования в API, CLI или при подаче обращения в техническую поддержку.

Для изменения дополнительной информации о проекте воспользуйтесь меню «Настройки проекта»:

![](./assets/1595513922270-1595513922270.png)

В меню настроек проекта можно заполнить данные физического или юридического лица, а также скачать конфигурационные файлы для доступа к платформе VK CS через инструменты разработчика (API) и управления инфраструктурой (Terraform).

## Смена владельца

Если необходимо сменить владельца проекта (например, полная потеря доступа к учетной записи владельца) следует [обратиться в техническую поддержку](https://mcs.mail.ru/docs/contacts) для изменения ролей участников проекта. При этом в проекте должна присутствовать вторая учетная запись, владелец которой подает заявку.

Смена владельца производится после верификации данных проекта и учетных записей участников сотрудниками технической поддержкой.

Внимание

Рекомендуется использовать корпоративные почтовые ящики при регистрации от имени юридического лица. Это существенно упростит процедуру верификации и позволит восстанавливать доступ к проекту без необходимости обращения в поддержку.

## Заморозка проекта

По достижении нулевого баланса ресурсы проекта будут автоматически остановлены до момента пополнения баланса проекта. В таком состоянии частично доступны инструменты API для Объектного хранилища. После пополнения баланса инструменты биллинга позволят вновь использовать сервисы, однако потребуется ручной запуск каждого ресурса.

Этот механизм позволяет предотвратить наличие неосознанных дополнительных затрат на проекте, в особенности он полезен при наличии привязанного автоматического пополнения или постоплатного метода расчетов.

Если необходимо заморозить проект, т.е. приостановить списание денег, то нужно остановить все виртуальные машины и удалить ресурсы, которые попадают под автоматический биллинг: диски, бакеты, резервные копии и т.д. При таком подходе можно сохранить часть ресурсов своего проекта на некоторое время, если вы планируете вернуться к использованию платформы VK CS позже. Иные способы заморозки проекта отсутствуют.

## Удаление данных проекта

При отсутствии восстановления положительного баланса ресурсы проекта будут помещены в очередь на удаление в зависимости от наличия платежей за весь период существования проекта:

- Если в проекте не было движений денежных средств, то через 3 дня все ресурсы будут удалены;
- Если оплата производилась, то ресурсы будут помещены в очередь на удаление через 30 дней (или по достижении баланса равного —1000р.) после остановки сервисов.

Очередь удаления — механизм чистки ресурсов, при котором данные из проекта и платформы VK CS удаляются безвозвратно, без возможности их восстановления.

## Передача ресурсов между проектами

В рамках платформы VK CS существует ограниченный набор возможностей по передаче ресурсов между проектами. Передать данные из одного проекта в другой возможно для Дисков.

## Удаление проекта

Удаление проекта возможно через [запрос в техническую поддержку](mailto:support@mcs.mail.ru) от имени владельца проекта. Перед удалением проекта необходимо убедиться, что отсутствуют привязанные автоматические способы оплаты, а также все необходимые данные экспортированы из проекта. Для выполнения запроса необходимо указать название удаляемого проекта.

## Роли

В личном кабинете VK CS можно добавить дополнительных участников проекта, которые будут иметь доступ к работе с облачными сервисами. При добавлении указывается роль участника.

## Добавление роли

Для добавления перейдите в раздел «Управление доступами» в панели VK CS:

![](./assets/1595517386029-1595517386029.png)

Добавьте участника и укажите его данные:

- email адрес;
- имя;
- роли в проекте.

![](./assets/1595517526914-1595517526914.png)

У добавляемого участника может быть несколько ролей в проекте. При наличии двух разных ролей, взаимоисключающих уровней доступа, будет применена разрешающая роль для осуществления действий над объектами проекта.

По завершении добавления пользователя, участник получит письмо на электронную почту.

![](./assets/1595517742022-1595517742022.png)

Для активации активируйте ссылку в письме, создайте пароль и войдите с ним в личный кабинет VK CS.

## Матрица ролей

Платформа VK CS поддерживает разграничение прав доступа к ресурсам проекта на базе ролевой модели. Ниже приведен список ролей и соответствующее разрешение им.

Список ролей и разрешения:

| Операция/Роль                                                                                                               | Админ.&nbsp;пользователей (user_admin) | Админ. биллинга | Админ. проекта | Владелец проекта | Админ. сети | Наблюдатель | Админ. внутренних сетей | Админ. сетевой безопасности | Админ. ВМ | Суперадминистратор |
|-----------------------------------------------------------------------------------------------------------------------------|----------------------------------------|-----------------|----------------|------------------|-------------|-------------|-------------------------|-----------------------------|-----------|--------------------|
| Добавление пользователя в проект&nbsp;                                                                                      | X*                                     | -               | -              | X*               | -           | -           | -                       | -                           | -         | Х                  |
| Назначение роли пользователя                                                                                                | X*                                     | -               | -              | Х*               | -           | -           | -                       | -                           | -         | Х                  |
| Биллинг/изменение платежных реквизитов                                                                                      | -                                      | Х               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Создание / удаление ВМ                                                                                                      | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Подключение / отключение ВМ, PaaS-сервисов, общих папок &nbsp;к виртуальной сети                                            | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Управление ВМ (включение/отключение/монтирование образов/ перезагрузка/ изменение ресурсов / /доступ к мониторингу и логам) | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | Х         | Х                  |
| Управление виртуальными дисками (создание/удаление/расширение/монтирование/ снятие snapshot&rsquo;ов / миграция)            | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | Х         | Х                  |
| Управление образами (добавление / удаление образов ВМ)                                                                      | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Управление папками общего доступа (добавление / удаление / изменение размера)                                               | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Управление правилами доступа к папками общего доступа (добавление / удаление / изменение)                                   | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Создание модификация удаление PaaS-сервисов (K8S,DBaaS)                                                                     | -                                      | -               | Х              | Х                | -           | -           | -                       | -                           | -         | Х                  |
| Создание, удаление, модификация, виртуальных сетей. Подключение к виртуальному роутеру&nbsp;                                | -                                      | -               | Х              | Х                | Х           | -           | Х                       | -                           | -         | Х                  |
| Создание / удаление виртуальных роутеров проекта.                                                                           | -                                      | -               | Х              | Х                | Х           | -           | Х                       | -                           | -         | Х                  |
| Подключение маршрутизаторов тенанта к сети ext-net                                                                          | -                                      | -               | Х              | Х                | Х           | -           | Х                       | -                           | -         | Х                  |
| Управление балансировщиками нагрузки и правилами в них (добавление / удаление / корректировка)                              | -                                      | -               | Х              | Х                | Х           | -           | Х                       | -                           | -         | Х                  |
| Работа с Security Group в рамках тенанта (добавление/удаление групп/правил доступа)                                         | -                                      | -               | Х              | Х                | Х           | -           | -                       | Х                           | -         | Х                  |
| Маппинг Security groups на интерфейсы&nbsp;ВМ                                                                               | -                                      | -               | Х              | Х                | Х           | -           | -                       | Х                           | -         | Х                  |
| Управление VPN                                                                                                              | -                                      | -               | Х              | Х                | Х           | -           | -                       | -                           | -         | Х                  |
| Управление FIP                                                                                                              | -                                      | -               | Х              | Х                | Х           | -           | -                       | -                           | -         | Х                  |
| Управление&nbsp;исходящими&nbsp;правилами фильтрации трафика на внешних портах роутера (FWaaS)                              | -                                      | -               | -              | -                | -           | -           | -                       | -                           | -         | Х**                |
| Управление&nbsp;входящими&nbsp;правилами фильтрации трафика на внешних портах роутера (FWaaS)                               | -                                      | -               | X**            | X**              | Х           | -           | -                       | -                           | -         | Х**                |
| Добавление виртуальных сетей в address scope BGP (операция необходима для маршрутизации виртуальных сетей)                  | -                                      | -               | -              | -                | -           | -           | -                       | -                           | -         | Х                  |
| Создание зон и записей в public DNS                                                                                         | -                                      | -               | X              | X                | X           | -           | -                       | -                           | -         | Х                  |
| Просмотр информации обо всех сервисах в рамках проекта                                                                      | -                                      | -               | -              | Х                |             | Х           | -                       | -                           | -         | Х                  |
| Просмотр информации обо всех сервисах в рамках всего облака ЗКО                                                             | -                                      | -               | -              | -                |             | -           | -                       | -                           | -         | -                  |

`* - функционал специфичен для public инсталляции. Де-факто неприменим к ЗКО.`
`** - функционал FWaaS находится в roadmap, на данный момент не реализован.`

## Удаление участника

В личном кабинете во вкладке «Пользователи» и «Роли» можно не только добавить, но и удалить участников.

![](./assets/1595518227341-1595518227341.png)

Выберите нужного участника и нажмите «Удалить», затем подтвердите свой выбор.

![](./assets/1595518285182-1595518285182.png)

Осторожно!

При удалении пользователя, от имени которого был создан кластер Kubernetes, после его перезапуска произойдет нарушение работоспособности. Для восстановления работы добавленного пользователя, от имени которого был создан кластер, перезапустите кластер.
