## Создание драйвера
Драйвер — это описание способа коммуникации между агентом и конечным устройством.

Чтобы создать драйвер:
1. Перейдите на страницу «Драйверы».
2. Нажмите кнопку «Добавить драйвер». Откроется форма для заполнения.
3. Укажите следующие значения: 
    - Название: Драйвер эмулятора;
    - Идентификатор: emulatorDriver;
    - Протокол: embedded.
4. Нажмите «Следующий шаг». Откроется форма добавления параметров драйвера.
5. Нажмите кнопку «Добавить параметр» в разделе «Параметры События». Этот параметр будет контролировать частоту опроса сенсоров агентом у устройства. 
6. Укажите в полях формы:
    - Название: event_scrape_interval;
    - Тип значения: duration;
    - Обязательный параметр: Да;
    - Значение по умолчанию: 30s.
7. Нажмите «Сохранить».
8. Нажмите кнопку «Добавить параметр» в разделе «Параметры Состояния». Этот параметр будет контролировать частоту опроса переключателей агентом у устройства.
9. Указываем в полях формы следующие значения:
    - Название: state_scrape_interval;
    - Тип значения: duration;
    - Обязательный параметр: Да;
    - Значение по умолчанию: 30s.
10. Нажмите кнопку «Сохранить».
11. Нажмите «Сохранить», чтобы сохранить эмулятор драйвера.

## Создание шаблона устройства
Шаблон устройства позволяет описать типовые устройства для быстрого последующего подключения новых устройств к платформе.

Чтобы создать шаблон для вашего устройства:
1. Перейдите на страницу «Шаблоны устройств» и нажмите «Добавить шаблон».
2. Укажите в полях формы следующие значения:
    - Название шаблона: Шаблон эмулятора;
    - Идентификатор: emulatorTemplate.
3. Нажмите «Следующий шаг».
4. Выберите в поле «Драйвер»: Драйвер эмулятора.
5. Нажмите «Следующий шаг».
6. Пропустите добавление параметров устройства и нажмите «Следующий шаг». 
Переходим на вкладку создания дерева устройства. На данном этапе необходимо описать полезное содержимое вашего устройства, которое включает в себя набор сенсоров (событий) и переключателей (состояний).
Необходимо задать следующее содержимое:
    - сенсор температуры;
    - сенсор влажности;
    - переключатель освещения в помещении.
7. Нажмите «Добавить датчик» в меню корневого узла шаблона, чтобы добавить в устройство сенсор температуры.
8. Заполните форму следующим образом:
    - Название: Температура;
    - Идентификатор: temperature;
    - Тип датчика: событие;
    - Ед. измерения: С;
    - Тип значения: float;
    - Автосохранение в оперативное хранилище: да;
    - Автосохранение в долговременное хранилище: да;
    - Родительский тег: Корневой узел шаблона;
    - Правила потоковой обработки: пусто;
    - Параметры драйвера: пусто;
    - Атрибуты: пусто.
9. Нажмите «Сохранить».
10. Нажмите «Добавить датчик» в меню корневого узла шаблона, чтобы добавить сенсор влажности.
11. Заполните форму следующим образом:
    - Название: Влажность;
    - Идентификатор: humidity;
    - Тип датчика: событие;
    - Ед. измерения: %;
    - Тип значения: float;
    - Автосохранение в оперативное хранилище: да;
    - Автосохранение в долговременное хранилище: да;
    - Родительский тег: Корневой узел шаблона;
    - Правила потоковой обработки: пусто;
    - Параметры драйвера: пусто;
    - Атрибуты: пусто.
12. Нажмите «Сохранить».
13. Нажмите «Добавить датчик» в меню корневого узла шаблона, чтобы добавить переключатель освещения.
14. Заполните форму:
    - Название: Свет;
    - Идентификатор: light;
    - Тип датчика: состояния;
    - Ед. измерения: пусто;
    - Тип значения: boolean;
    - Изменяемое состояние: нет;
    - Автосохранение в цифровой двойник: да;
    - Родительский тег: Корневой узел шаблона;
    - Правила потоковой обработки: пусто;
    - Параметры драйвера: пусто;
    - Атрибуты: пусто.
14. Нажмите «Сохранить».
15. Кликните на кнопку «Сохранить», чтобы создать шаблон.

## Создание устройства
Чтобы создать экземпляр вашего устройства, выполните следующие шаги:
1. Перейдите на страницу «Устройства» и нажмите «Добавить устройство».
2. Заполните форму: 
    - Название: Эмулятор;
    - Идентификатор: emulator;
    - Шаблон устройства: Шаблон эмулятора;
    - Агент: Без агента.
3. Нажмите «Следующий шаг»
4. Заполните форму: 
    - Название тега: Эмулятор;
    - Идентификатор тега: emulator;
    - Родительский узел: Корень проекта.
5. Нажмите «Следующий шаг».
6. Повторите предыдущий шаг.
7. Кликните на кнопку «Сохранить», чтобы создать устройство.

После создания виртуальной копии устройства необходимо задать настройки подключения устройства к платформе. Подключение устройства к платформе обеспечивает специализированное программное обеспечение — агент. О том, как создать агента читайте [здесь](https://mcs.mail.ru/docs/ru/additionals/IoT/IoT-start/connect-device).

Несмотря на то, что эмулятор функционала агента встроен в прошивку устройства, агент все равно необходимо настроить для вашего устройства в административной консоли платформы.
