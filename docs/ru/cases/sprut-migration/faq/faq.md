{cut(Мне пришло письмо от VK Cloud про миграцию в новую SDN. Что это значит?)}

В феврале 2024 года на платформе VK Cloud вышла SDN Sprut, которая обеспечивает стабильную и эффективную работу виртуальных сетей. В августе 2024 это решение стало доступно для всех пользователей.

Поддержка SDN Neutron прекратится в конце 2025 года. После этого пользователи SDN Neutron могут столкнуться с проблемами безопасности и отсутствием обновлений.

Письмо содержит инструкцию по безопасной миграции проектов в SDN Sprut.

{/cut}

{cut(Я исполнитель, что мне сказать руководству по поводу этой миграции?)}

Вы можете использовать [презентации](https://github.com/vk-cs/neutron-2-sprut/tree/main/presentations):

- **Миграция на SDN Sprut. Short** — короткая версия презентации, объясняет необходимость миграции без технических деталей. Содержит в себе основную информацию об SDN Sprut и ее преимуществах, планы развития.
- **Миграция на SDN Sprut. Full** — полная версия презентации. Содержит в себе технические подробности реализации, особенности архитектуры и т.д. Создана для инженеров и руководителей команд, которым нужно не только понимание, что такое SDN Sprut, но и технические детали реализации, сравнения, функциональные преимущества.

{/cut}

{cut(Что такое SDN?)}

Software Defined Network — это подход к управлению сетью, при котором уровень управления отделяется от уровня пересылки данных.

Подробнее: [Что такое SDN](/ru/networks/vnet/concepts/sdn#sprut).

{/cut}

{cut(В чем разница между SDN Sprut и Neutron?)}

SDN Sprut имеет ряд преимуществ в сравнении с SDN Neutron:

- легче масштабируется и подходит для сетей любого размера;
- позволяет свободно интегрироваться с сервисами VK Cloud и сторонними сервисами;
- имеет более высокую производительность;
- имеет сервисы, недоступные в SDN Neutron;
- независима от OpenStack.

Подробнее: [Для чего нужна миграция](/ru/cases/sprut-migration/about).

{/cut}

{cut(Зачем мне нужно мигрировать на SDN Sprut?)}

Разработка новых функций для SDN Neutron приостановлена с момента выхода SDN Sprut в начале 2024 года. В 2025 году VK Cloud прекратит поддержку SDN Neutron. Это означает, что команда технической поддержки прекратит работу с проблемами сетевой инфраструктуры на SDN Neutron.

SDN Sprut имеет ряд преимуществ в сравнении с SDN Neutron и обеспечивает более стабильную работу на больших проектах. Команда разработки постоянно расширяет возможности SDN Sprut.

Подробнее: [Для чего нужна миграция](/ru/cases/sprut-migration/about).

{/cut}

{cut(Что будет, если я не захочу мигрировать на SDN Sprut?)}

Разработка новых функций для SDN Neutron приостановлена с момента выхода SDN Sprut в начале 2024 года. Поддержка SDN Neutron прекратится в конце 2025 года. Это означает, что команда технической поддержки прекратит работу с проблемами сетевой инфраструктуры на SDN Neutron.

После этого пользователи SDN Neutron могут столкнуться с проблемами безопасности и отсутствием обновлений.

{/cut}

{cut(Какова последовательность миграции?)}

Схематично последовательность действий при миграции проекта на Sprut описана в разделе [Последовательность миграции](../about#migration_sequence).

{/cut}

{cut(С чего начать миграцию? Что нужно сделать перед началом работ по миграции?)}

1. Проведите анализ текущей инфраструктуры проекта.
1. Изучите [схематичную последовательность миграции](../about#migration_sequence) и [перечень сервисов, которые можно мигрировать](../about#services_to_migrate).
1. Прочитайте [инструкции](/ru/cases/sprut-migration).
1. Составьте план миграции.
1. Согласуйте техническое окно для проведения работ.

{/cut}

{cut(Какая поддержка у меня будет по ходу миграции?)}

Воспользуйтесь [инструкциями](/ru/cases/sprut-migration) по миграции в SDN Sprut, они содержат подробное описание нужных действий, а также скрипты для автоматизации некоторых процедур.

При возникновении сложностей или вопросов в процессе миграции обратитесь в [техническую поддержку](/ru/contacts).

{/cut}

{cut(Есть ли какое-то обучение по миграции?)}

Процесс миграции детально описан в разделе [Миграция в SDN Sprut](/ru/cases/sprut-migration).

{/cut}

{cut(Какое время недоступности сервиса нужно закладывать при миграции?)}

Рекомендуется провести собственные тесты и замеры на скорость перед миграцией основной инфраструктуры. Время недоступности одной ВМ при переключении составляет не более 40 секунд. Общее время недоступности зависит от размера вашей инфраструктуры.

{/cut}

{cut(Какие навыки понадобятся персоналу, который будет проводить миграцию? )}

Специфические навыки для проведения работ по миграции не нужны.

Общие требования:

- понимание работы в облаке и знакомство с личным кабинетом;
- опыт работы с Linux;
- опыт работы с Bash.

{/cut}

{cut(Могу ли я попробовать миграцию на нескольких текстовых ВМ?)}

Да, вы можете создать тестовую инфраструктуру и проверить миграцию не всего проекта, а отдельных ВМ.

{/cut}

{cut(Может ли быть связанность между проектами на разных SDN? Можно ли мигрировать проект по частям?)}

Да. Возможно организовать сетевую связанность в одном проекте, объединив две SDN через [продвинутый маршрутизатор](/ru/networks/vnet/how-to-guides/onpremise-connect/advanced-router).
{/cut}

{cut(Обратима ли миграция, если что-то пошло не так?)}

Да, с помощью скриптов вы можете провести обратную миграцию виртуальных машин. После этого проведите анализ ошибок и повторите миграцию.
{/cut}

{cut(Что такое IaaS и PaaS?)}

IaaS — сервисы, которые управляют динамическим выделением ресурсов, масштабированием, отказоустойчивостью. Примеры IaaS: сети, подсети, маршрутизаторы, ВМ, диски, группы безопасности, IP-адреса и т.д.

PaaS — это более сложные сервисы для выполнения различных задач: оркестрация, хранение данных, анализ данных и т.д. Примеры PaaS: базы данных, файловые хранилища, DNS. PaaS-сервисы работают на базе IaaS-сервисов.

Подробнее: [Архитектура платформы](/ru/start/concepts/architecture).
{/cut}

{cut(Как мигрировать проекты с PaaS? )}

Воспользуйтесь инструкциями из раздела [Миграция платформенных сервисов](../paas).
{/cut}

{cut(Как сохранить Floating IP-адреса при миграции?)}

Сохранить Floating IP-адреса нельзя.

{/cut}

{cut(Как узнать архитектуру или топологию своего проекта?)}

VK Cloud не обладает информацией об архитектуре или сетевой топологии вашего проекта. Вы можете самостоятельно провести аудит собственных ресурсов через личный кабинет и составить схему. Этот шаг существенно повысит понимание объектов, которые вы используете в облаке, и поможет в составлении плана миграции.
{/cut}

{cut(Как мигрировать проект со сложной сетевой топологией? )}

Механизм миграции позволяет работать последовательно с каждым объектом. Это снижает вероятность ошибок при миграции.

Чтобы обеспечить надежность миграции, проведите анализ проекта и составьте архитектурную схему сетевой связанности. Определите сложные и узкие места, где возможны проблемы. Направьте запрос в [техническую поддержку](/ru/contacts), приложив результат анализа сетевой архитектуры.
{/cut}

{cut(Какие скрипты используются для миграции?)}

Список всех скриптов для миграции приведен в разделе [Инструменты миграции](../about#migration_instruments).

Если у вас есть дополнительные вопросы, создайте [issue](https://github.com/vk-cs/neutron-2-sprut/issues) на GitHub и опишите вопрос, проблему или запрос на функциональность.

{/cut}

{cut(Насколько безопасны скрипты для миграции? )}

Скрипты написаны на Bash и используют OpenStack CLI или прямые вызовы к API. Вы можете самостоятельно ознакомиться с кодом.

Проведенные испытания работы скриптов не выявили ошибок и рисков.
{/cut}

{cut(Какие права должны быть у пользователя для запуска скриптов? )}

Рекомендуется запускать скрипты от имени пользователя с ролью Администратор проекта.
{/cut}

{cut(Нужно ли одобрение службы информационной безопасности на использование скриптов? )}

Согласование необходимо, если этого требуют внутренние регламенты вашей компании.

Скрипты не содержат в себе скрытых механизмов, которые могут повлиять на информационную безопасность вашего проекта или затронуть смежные проекты. Вы также можете ознакомиться с кодом каждого скрипта.
{/cut}

<!--
{cut(А у вас уже есть практика успешных миграций?)}

{/cut}

{cut(Насколько сложные проекты вы уже мигрировали?)}

{/cut}

{cut(Сколько по времени заняла миграция?)}

{/cut}

{cut(Какие факторы осложняли работы по миграции?)}

{/cut}

{cut(Какие факторы позволили провести и удачно закончить миграцию?)}

{/cut}

{cut(Были ли случаи неудачной миграции, когда ничего не удалось восстановить/ откатить?)}

{/cut}

{cut(Дайте мне аргументы для моего начальника, который перестраховщик и не хочет ничего мигрировать)}

{/cut}

{cut(До когда мне можно подумать насчет миграции, сейчас других дел полно)}

{/cut}

## Примеры юзеркейсов (хоть модельные, хоть реальные)

{cut(У меня есть вот такие люъекты в проекте, в какой очередности и последовательности запускать скрипты, как использовать вывод, что отвечать на вопросы?)}

{/cut}

{cut(Несколько примеров миграции)}

{/cut}-->