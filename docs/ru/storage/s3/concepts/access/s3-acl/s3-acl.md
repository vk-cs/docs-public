ACL (Access Control List, список контроля доступа) в сервисе VK Object Storage — это список разрешений на доступ к бакету и объекту. У каждого бакета или объекта свой ACL, который может содержать до 100 элементов. В каждом элементе указывается [получатель прав](#permittees) и вид [разрешения](#permissons), которое ему выдается. При получении запроса к бакету и объекту VK Object Storage проверяет в соответствующих ACL, есть ли у отправителя запроса нужные права.

Сервис VK Object Storage поддерживает набор [стандартных ACL](#standard_acl) — заранее подготовленных списков получателей прав и назначенных им разрешений. При создании бакета VK Object Storage по умолчанию создает для него список контроля доступа на основе стандартного ACL `private`. Этот ACL дает полный контроль над бакетом его владельцу и запрещает доступ остальным пользователям.

ACL объекта назначается следующим образом:

- При загрузке в бакет нового объекта через личный кабинет вы выбираете для него один из [стандартных ACL](#standard_acl).
- При загрузке с помощью API вы можете указать ACL объекта в теле или заголовках запроса. Если не указать ACL, новому объекту будет назначен стандартный ACL `private`.

В дальнейшем ACL для бакета или объекта можно изменить. ACL бакета и объекта внутри него могут различаться.

ACL имеет вид [файла конфигурации](/ru/tools-for-using-services/api/api-spec/s3-rest-api/acl-api#acl_config_file) в формате XML. Получить текущий ACL бакета или объекта или изменить его можно [с помощью AWS CLI или API](../../../instructions/access-management/acl).

## {heading(Получатели прав)[id=permittees]}

Права доступа к бакетам и объектам могут быть даны следующим категориям получателей:

- Пользователь VK Cloud.
- Проект VK Cloud.
- Предварительно определенная метагруппа. Например, метагруппа `AuthenticatedUsers`, которая содержит все существующие учетные записи VK Cloud.
- Весь мир, включая анонимный доступ. Соответствует метагруппе `AllUsers`. Любой, кто знает полный URL-адрес объекта, будет иметь к нему доступ.

{note:warn}

Используйте метагруппы только в случае необходимости.

Открыв доступ к бакету и объектам в нем неопределенному кругу лиц, вы не сможете контролировать операции с этими ресурсами, в том числе платные. Оплата операций с бакетом ложится на его владельца.

{/note}

## {heading(Разрешения)[id=permissons]}

{include(/ru/_includes/_acl_permissions.md)}

Информацию об операциях, перечисленных в таблице, можно найти в [разделе с описанием VK Object Storage API](/ru/tools-for-using-services/api/api-spec/s3-rest-api) или в [справочнике команд AWS CLI](https://docs.aws.amazon.com/cli/latest/reference/s3api).

## {heading(Стандартные ACL)[id=standard_acl]}

VK Object Storage предоставляет предварительно настроенные списки контроля доступа — стандартные ACL. Эти списки можно использовать в API-запросах на доступ к бакету, объекту или к их текущим ACL.

Стандартный ACL указывается в запросе с помощью HTTP-заголовка `x-amz-acl`. Можно указать только один стандартный ACL. Когда VK Object Storage получает запрос, содержащий стандартный ACL, он добавляет преднастроенные разрешения в ACL соответствующего бакета или объекта.

[cols="2,1,4", options="header"]
|===
|Стандартный ACL
|Область применения
|Преднастроенные разрешения

|`private`

(по умолчанию)
|Бакет и объект
|Владелец имеет полные права (`FULL_CONTROL`). Остальные пользователи не имеют прав доступа

|`public-read`
|Бакет и объект
|Владелец имеет полные права (`FULL_CONTROL`). Метагруппа `AllUsers` имеет доступ на чтение (`READ`)

|`public-read-write`
|Бакет и объект
|Владелец имеет полные права (`FULL_CONTROL`). Метагруппа `AllUsers` имеет права на чтение (`READ`) и запись (`WRITE`).

Не рекомендуется использовать этот ACL для бакета

|`aws-exec-read`
|Бакет и объект
|Владелец имеет полные права (`FULL_CONTROL`)

|`authenticated-read`
|Бакет и объект
|Владелец имеет полные права (`FULL_CONTROL`). Метагруппа `AuthenticatedUsers` имеет права на чтение (`READ`)

|`bucket-owner-read`
|Объект
|Владелец объекта имеет полные права (`FULL_CONTROL`). Владелец бакета имеет права на чтение (`READ`).

Если указать этот стандартный ACL при создании бакета, VK Object Storage проигнорирует его

|`bucket-owner-full-control`
|Объект
|Владелец объекта и владелец бакета имеют полные права (`FULL_CONTROL`) на объект.

Если указать этот стандартный ACL при создании бакета, VK Object Storage проигнорирует его
|===
