VK Object Storage позволяет настроить уведомления о добавлении или удалении объекта из бакета.

{note:info}

Обычно уведомления доставляются за секунды, но иногда это может занять минуту или больше.

{/note}

## {heading(Добавление вебхука)[id=add_webhook]}

{tabs}

{tab(Личный кабинет)}

{include(/ru/_includes/_s3-open-bucket.md)}

1. Перейдите на вкладку **Webhooks** и нажмите кнопку ![plus-icon](/ru/assets/plus-icon.svg "inline") **Добавить**.
1. Укажите параметры вебхука:

   - **ID**: имя вебхука. Имя должно быть уникальным в рамках одного бакета.
   - **Event**: события, при которых должно отправляться уведомление:

      - `ObjectCreated` — добавление объекта в бакет любым способом, включает в себя события `PutObject`, `PutObjectCopy` и `CompleteMultipartUpload`;
      - `PutObject` — добавление объекта;
      - `PutObjectCopy` — добавление копии объекта;
      - `CompleteMultipartUpload` — добавление объекта составным методом;
      - `ObjectRemoved` — удаление объекта любым способом, включает в себя событие `DeleteObject`;
      - `DeleteObject` — удаление объекта.

   - **URL**: адрес сервера приема вебхуков. Например, `http://83.166.234.90/webhook`. Для приема вебхуков на сервере должны быть настроены порты `80` или `443`.
   - **Filter prefix**: фильтр, который позволяет генерировать вебхуки на события только с теми объектами, имя которых содержит указанный префикс. Например, если ввести значение `images`, то вебхуки будут отправляться при изменении объектов типа `bucket\images\picture.png`, `bucket\images\picture.svg`. В личном кабинете префикс отображается в виде директории.
   - **Filter suffix**: фильтр, который позволяет генерировать вебхуки на события только с теми объектами, имя которых содержит указанный суффикс. Например, если ввести значение `png`, то вебхуки будут отправляться при изменении файлов с расширением `.png`.
1. Нажмите кнопку **Добавить hook**.

{/tab}

{/tabs}

Вы можете подробно изучить механизм обмена вебхуками в VK Object Storage на [примере создания event-driven приложения](https://habr.com/ru/companies/vk/articles/510110).

## Редактирование вебхука

{tabs}

{tab(Личный кабинет)}

{include(/ru/_includes/_s3-open-bucket.md)}

1. Перейдите на вкладку **Webhooks**.
1. Нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного вебхука и выберите пункт ![pencil-icon](/ru/assets/pencil-icon.svg "inline") **Редактировать hook**.
1. Отредактируйте [параметры](#add_webhook) вебхука.
1. Нажмите кнопку **Сохранить изменения**.

{/tab}

{/tabs}

## Удаление вебхука

{tabs}

{tab(Личный кабинет)}

Это групповая операция: при необходимости можно удалить несколько вебхуков, выбрав их с помощью флажков.

{include(/ru/_includes/_s3-open-bucket.md)}

1. Перейдите на вкладку **Webhooks**.
1. Удалите вебхук одним из способов:

   - Нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного вебхука и выберите пункт ![trash-icon](/ru/assets/trash-icon.svg "inline") **Удалить hook**.
   - Установите флажок для нужного вебхука и нажмите кнопку ![trash-icon](/ru/assets/trash-icon.svg "inline") **Удалить**.
1. Подтвердите удаление.

{/tab}

{/tabs}
