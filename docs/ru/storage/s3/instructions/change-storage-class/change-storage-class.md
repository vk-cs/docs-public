VK Cloud поддерживает изменение [классов хранения](../../concepts/about#storage_class) для сущностей:

- бакета,
- объекта,
- составной загрузки.

{note:err}

При изменении класса хранения происходит передача трафика, который [тарифицируется](../../tariffication).

{/note}

## Изменение класса хранения бакета

{note:warn}

При изменении класса хранения бакета класс хранения уже входящих в него объектов остается прежним. Новый класс будет распространяться на новые добавляемые объекты.

{/note}

{tabs}

{tab(Личный кабинет)}

{include(/ru/_includes/_s3-open-bucket.md)}

1. Перейдите на вкладку **Класс хранения**.
1. Отметьте нужный класс и нажмите кнопку **Сохранить изменения**.
   
   Теперь новые объекты, которые вы будете добавлять в этот бакет, будут иметь соответствующий класс хранения. Класс хранения добавленных ранее объектов не изменится. 
   
   Класс хранения каждого объекта можно [просмотреть](/ru/storage/s3/instructions/objects/manage-object#prosmotr_spiska_obektov) в столбце **Класс хранения** в списке объектов бакета.

{/tab}

{/tabs}

## Изменение класса хранения объекта

{tabs}

{tab(AWS CLI)}

1. Установите и настройте [AWS CLI](../../connect/s3-cli), если он еще не установлен.

1. В консоли выполните команду:

   - для одного объекта в бакете:

   ```console
   aws s3 cp s3://<ИМЯ_БАКЕТА>/<КЛЮЧ_ОБЪЕКТА> s3://<ИМЯ_БАКЕТА>/ --storage-class <КЛАСС_ХРАНЕНИЯ> --endpoint-url <URL_СЕРВИСА>
   ```

   - для всех объектов в бакете:

   ```console
   aws s3 cp s3://<ИМЯ_БАКЕТА>/ s3://<ИМЯ_БАКЕТА>/ --recursive --storage-class <КЛАСС_ХРАНЕНИЯ> --endpoint-url <URL_СЕРВИСА>
   ```

   Здесь:

   - `<ИМЯ_БАКЕТА>` — имя бакета, в котором находится нужный объект или объекты.
   - `<КЛЮЧ_ОБЪЕКТА>` — полное имя объекта, включая путь до него.
   - `<КЛАСС_ХРАНЕНИЯ>` — класс хранения, который будет присвоен объектам.
   - `<URL_СЕРВИСА>` — домен сервиса Object Storage, должен соответствовать [региону](/ru/tools-for-using-services/account/concepts/regions) аккаунта:
      - `https://hb.vkcloud-storage.ru` или `https://hb.ru-msk.vkcloud-storage.ru` — домен региона Москва;
      - `https://hb.kz-ast.vkcloud-storage.ru` — домен региона Казахстан.

{/tab}

{/tabs}

## Изменение класса хранения составной загрузки

Класс хранения задается на этапе инициализации или завершения составной загрузки (операции `InitiateMultipart` и `CompleteMultipart`). Если класс не указан, будет присвоен класс хранения бакета.

Чтобы изменить класс хранения объекта, помещенного в бакет с помощью составной загрузки:

{tabs}

{tab(AWS CLI)}

1. Установите и настройте [AWS CLI](../../connect/s3-cli), если он еще не установлен.
1. Дождитесь завершения составной загрузки.
1. В консоли выполните команду:

   - для одного объекта в бакете:

   ```console
   aws s3 cp s3://<ИМЯ_БАКЕТА>/<КЛЮЧ_ОБЪЕКТА> s3://<ИМЯ_БАКЕТА>/ --storage-class <КЛАСС_ХРАНЕНИЯ> --endpoint-url <URL_СЕРВИСА>
   ```

   - для всех объектов в бакете:

   ```console
   aws s3 cp s3://<ИМЯ_БАКЕТА>/ s3://<ИМЯ_БАКЕТА>/ --recursive --storage-class <КЛАСС_ХРАНЕНИЯ> --endpoint-url <URL_СЕРВИСА>
   ```

   Здесь:

   - `<ИМЯ_БАКЕТА>` — имя бакета, в котором находится нужный объект или объекты.
   - `<КЛЮЧ_ОБЪЕКТА>` — полное имя объекта, включая путь до него.
   - `<КЛАСС_ХРАНЕНИЯ>` — класс хранения, который будет присвоен объектам.
   - `<URL_СЕРВИСА>` — домен сервиса Object Storage, должен соответствовать [региону](/ru/tools-for-using-services/account/concepts/regions) аккаунта:
      - `https://hb.vkcloud-storage.ru` или `https://hb.ru-msk.vkcloud-storage.ru` — домен региона Москва;
      - `https://hb.kz-ast.vkcloud-storage.ru` — домен региона Казахстан.

{/tab}

{/tabs}
