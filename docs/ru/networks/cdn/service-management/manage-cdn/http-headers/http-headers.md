## Добавление заголовков запросов

Опция **Добавление заголовков запросов** позволяет задать собственные HTTP-заголовки, которые CDN-сервер добавит в запрос к серверу-источнику.

Чтобы добавить HTTP-заголовок в запрос:

<tabs>
<tablist>
<tab>Личный кабинет</tab>
<tab>API</tab>
</tablist>
<tabpanel>

{include(/ru/_includes/_open-cdn.md)}

1. Перейдите на вкладку **HTTP-заголовки**.
1. Включите опцию **Добавление заголовков запросов**.
1. Укажите название заголовка и значение. Допустимые символы для полей:

    - **Название заголовка**: латинские буквы, цифры, спецсимволы `_` и `-`;
    - **Значение**: латинские буквы, цифры, спецсимволы `_`, `.`, `/`, `:`, `-`, `=` и пробелы.
1. (Опционально) Нажмите кнопку **Добавить заголовок**, чтобы добавить еще один заголовок запроса. Укажите название заголовка и значение. Вы можете установить до 50 заголовков запроса.
1. (Опционально) Нажмите кнопку ![trash-icon](/ru/assets/trash-icon.svg "inline"), чтобы удалить заголовок запроса.
1. Нажмите кнопку **Сохранить изменения**.

</tabpanel>
<tabpanel>

{include(/ru/_includes/_api_cdn_create_change.md)}

В теле запроса в блоке `options` пропишите параметры `staticRequestHeaders`:

- Для подключения опции укажите `"enabled": true`, для отключения  — `"enabled": false`.
- В параметре `value` пропишите заголовки и значения в формате `name: value`. Вы можете указать до 50 заголовков запроса. Допустимые символы для параметров:

  - `name`: латинские буквы, цифры, спецсимволы `_` и `-`.
  - `value`: латинские буквы, цифры, спецсимволы `_`, `.`, `/`, `:`, `-`, `=` и пробелы. Значение не может начинаться со спецсимвола и состоять только из спецсимволов.

Пример запроса:

```json
curl --location --request PUT 'https://msk.cloud.vk.com/api/cdn/api/v1/projects/examplef8f67/resources/175281'\
--header 'X-Auth-Token: example6UjMOd'\
--header 'Content-Type: application/json'\
--data '{
    "originGroup": 267760,
    "originGroup_name": "exampleorigin",
    "secondaryHostnames": [],
    "options":
        {
        "staticRequestHeaders": {
            "enabled": true,
            "value": {
                "Header-One": "Value 1",
                "Header-Two": "Value 2"
            }
        },
    }
}'
```

</tabpanel>
</tabs>

## Добавление заголовков ответов

Опция **Добавление заголовков ответов** позволяет задать собственные HTTP-заголовки, которые CDN-сервер добавит в ответ на запрос.

Чтобы добавить HTTP-заголовок в ответ:

<tabs>
<tablist>
<tab>Личный кабинет</tab>
<tab>API</tab>
</tablist>
<tabpanel>

{include(/ru/_includes/_open-cdn.md)}

1. Перейдите на вкладку **HTTP-заголовки**.
1. Включите опцию **Добавление заголовков ответов**.
1. Укажите название заголовка и значение. Допустимые символы для полей:

    - **Название заголовка**: латинские буквы, цифры, спецсимволы `_` и `-`;
    - **Значение**: латинские буквы, цифры, спецсимволы `` ` ``, `~`, `!`, `@`, `#`, `%`, `^`, `&`, `*`, `(`, `)`, `-`, `_`, `=`, `+`, `/`, `|`, `"`, `;`, `:`, `?`, `.`, `>`, `<`, `{`, `}`, `[`, `]` и пробел. Значение не может начинаться со спецсимвола и состоять только из спецсимволов.
1. (Опционально) Нажмите кнопку ![plus-icon](/ru/assets/plus-icon.svg "inline") **Добавить заголовок**, чтобы добавить еще один заголовок запроса. Укажите название заголовка и значение. Вы можете установить до 50 заголовков ответа.
1. (Опционально) Нажмите кнопку ![Удалить](/ru/assets/delete-icon.svg "inline"), чтобы удалить заголовок запроса.
1. Нажмите кнопку **Сохранить изменения**.

</tabpanel>
<tabpanel>

{include(/ru/_includes/_api_cdn_create_change.md)}

В теле запроса в блоке `options` пропишите параметры `staticHeaders`:

- Для подключения опции укажите `"enabled": true`, для отключения  — `"enabled": false`.
- В параметре `value` пропишите заголовки и значения в формате `name: value`. Вы можете указать до 50 заголовков ответа. Допустимые символы для параметров:

  - `name`: латинские буквы, цифры, спецсимволы `_` и `-`.
  - `value`: латинские буквы, цифры, спецсимволы `` ` ``, `~`, `!`, `@`, `#`, `%`, `^`, `&`, `*`, `(`, `)`, `-`, `_`, `=`, `+`, `/`, `|`, `"`, `;`, `:`, `?`, `.`, `>`, `<`, `{`, `}`, `[`, `]` и пробел. Значение не может начинаться со спецсимвола и состоять только из спецсимволов.

Пример запроса:

```json
curl --location --request PUT 'https://msk.cloud.vk.com/api/cdn/api/v1/projects/examplef8f67/resources/175281'\
--header 'X-Auth-Token: example6UjMOd'\
--header 'Content-Type: application/json'\
--data '{
    "originGroup": 267760,
    "originGroup_name": "exampleorigin",
    "secondaryHostnames": [],
    "options":
        {
        "staticHeaders": {
            "enabled": true,
            "value": {
                "Header-One": "Value 1",
                "Header-Two": "Value 2"
            }
        },
    }
}'
```

</tabpanel>
</tabs>

## Поддержка заголовков CORS

Механизм [Cross-Origin Resource Sharing (CORS)](/ru/base/s3/references#cors) использует заголовок ответа Access-Control-Allow-Origin, чтобы браузер пользователя получал разрешения на доступ к ресурсам, которые находятся на доменах, отличных от исходного.

Чтобы настроить HTTP-заголовок Access-Control-Allow-Origin:

<tabs>
<tablist>
<tab>Личный кабинет</tab>
<tab>API</tab>
</tablist>
<tabpanel>

{include(/ru/_includes/_open-cdn.md)}

1. Перейдите на вкладку **HTTP-заголовки**.
1. Включите опцию **HTTP-заголовок Access-Control-Allow-Origin**.
1. Выберите вариант настройки заголовка:

    - `*, для всех доменов`: разрешает отображать контент для всех доменов.
    - `"$http_origin", для всех доменов`: разрешает отображать контент для всех доменов, но в заголовке ответа Access-Control-Allow-Origin будет передаваться домен, с которого отправлен запрос.
    - `"$http_origin", если источник указан ниже`: разрешает отображать контент для указанных доменов:

        1. Укажите домен, для которого нужно отображать контент.
        1. (Опционально) Нажмите кнопку ![plus-icon](/ru/assets/plus-icon.svg "inline") **Добавить домен**, чтобы добавить еще один домен.
        1. (Опционально) Нажмите кнопку ![trash-icon](/ru/assets/trash-icon.svg "inline"), чтобы удалить домен из списка.

        В заголовке ответа будет передан домен, с которого отправлен запрос.
1. Нажмите кнопку **Сохранить изменения**.

</tabpanel>
<tabpanel>

{include(/ru/_includes/_api_cdn_create_change.md)}

В теле запроса в блоке `options` пропишите параметры `cors`:

- Чтобы отключить опцию и не указывать никаких значений, пропишите `cors: null`.
- Для подключения опции укажите `"enabled": true`, для отключения  — `"enabled": false`.
- В параметре `value` пропишите домены, для которых будет разрешено отображение контента.

Пример запроса:

```json
curl --location --request PUT 'https://msk.cloud.vk.com/api/cdn/api/v1/projects/examplef8f67/resources/175281'\
--header 'X-Auth-Token: example6UjMOd'\
--header 'Content-Type: application/json'\
--data '{
    "originGroup": 267760,
    "originGroup_name": "exampleorigin",
    "secondaryHostnames": [],
    "options":
        {
        "cors": {
            "enabled": true,
            "value": [
                "first.example.com",
                "second.example.com"
            ]
        }
    }
}'
```

</tabpanel>
</tabs>
