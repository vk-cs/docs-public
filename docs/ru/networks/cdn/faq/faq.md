{cut(Где находятся точки присутствия CDN?)}

{cut(Точки присутствия CDN в РФ)}

- Аксай
- Ангарск
- Воронеж
- Екатеринбург
- Казань
- Краснодар
- Красноярск
- Москва
- Нижний Новгород
- Новосибирск
- Петрозаводск
- Псков
- Санкт-Петербург
- Самара
- Хабаровск
- Челябинск

{/cut}

{cut(Точки присутствия CDN вне РФ)}

- Алматы
- Амстердам
- Ашберн
- Ашхабад
- Бишкек
- Гонконг
- Душанбе
- Минск
- Сан-Паулу
- Сингапур
- Сухум
- Ташкент
- Франкфурт

{/cut}

{/cut}

{cut(Есть ли возможность подключить WAF и DDoS защиту?)}

Да, такие возможности есть. Чтобы оставить заявку на подключение, обратитесь в [техническую поддержку](/ru/contacts).

{/cut}

{cut(Есть ли возможность защитить данные с помощью Secure token?)}

Да, такая возможность есть. Чтобы подключить и настроить Secure token, обратитесь в [техническую поддержку](/ru/contacts).

{/cut}

{cut(Используется ли протокол HTTP/2?)}

На CDN-серверах по умолчанию включена передача данных по HTTP/2. Если серверы-источники не поддерживают HTTP/2, то они доставят контент по поддерживаемому протоколу (например, HTTP/1.1). При этом браузер объединит весь полученный контент в единую страницу, даже если он получен по разным протоколам.

{/cut}

{cut(Есть ли API для настройки CDN?)}

Да, методы API для управления и мониторинга работы CDN-ресурсов размещены в разделе [Справка API](/ru/tools-for-using-services/api/api-spec/api-cdn).

{/cut}

{cut(Есть ли возможность добавлять rewrite-правила и предоставлять доступ к логам (raw)?)}

Нет, такая возможность не предусмотрена.

{/cut}

{cut(Можно ли посмотреть статистику CDN?)}

Да, можно. Чтобы посмотреть статистику по сервису, [воспользуйтесь инструкцией](/ru/networks/cdn/monitoring).

{/cut}

{cut(Почему у меня нет доступа к сервису CDN?)}

Не все роли пользователей имеют доступ к CDN. Если вас пригласили в проект, проверьте доступ к сервису CDN для вашей [роли](/ru/tools-for-using-services/account/concepts/rolesandpermissions).

Если для вашей роли есть разрешения для работы в CDN, но сервис недоступен, обратитесь в [техническую поддержку](/ru/contacts).

{/cut}

{cut(CDN работает с любыми публично доступными источниками?)}

Да. При проблемах с недоступностью CDN проверьте:

1. Доступность источника. Убедитесь, что настройки файервола не блокируют IP-адреса CDN-серверов VK Cloud.
1. HTTP-заголовок `Host`. Убедитесь, что в [настройках CDN-ресурса](/ru/networks/cdn/instructions/manage-cdn/http-headers) указано корректное доменое имя источника.
1. Настройки SSL, если используете промежуточный прокси-сервис. Пример: при использовании Cloudflare настройте в нем режим SSL Full (Strict).
{/cut}

{cut(Можно ли использовать CDN VK Cloud вместе с другими CDN (Multi-CDN)?)}

Да. Для этого потребуется DNS-хостинг с поддержкой GeoDNS или балансировки нагрузки. Это позволит настроить правила, которые будут направлять трафик на разные CDN в зависимости от региона пользователя.
{/cut}

{cut(Можно ли использовать разную стратегию кеширования для разных файлов?)}

CDN VK Cloud учитывает стандартные HTTP-заголовки `Cache-Control` и `Expires`. Директива `s-maxage` имеет приоритет над `max-age`.

Вы также можете принудительно установить время кеширования в [настройках CDN-ресурса](/ru/networks/cdn/instructions/manage-cdn/caching#nastroyka_keshirovaniya_na_cdn_resursah) и [настройках для браузера](/ru/networks/cdn/instructions/manage-cdn/caching#nastroyka_keshirovaniya_v_brauzere).
{/cut}

{cut(Есть ли поддержка WebSocket в CDN?)}

Сервис CDN не поддерживает проксирование трафика по протоколу WebSocket. Для приложений, использующих WebSocket, настройте прямое подключение от клиента к источнику, минуя CDN.
{/cut}

{cut(Что делать, если CDN недоступен в некоторых регионах?)}

Платформа не контролирует проблемы с разрешением DNS-записей у региональных провайдеров. Не привязывайте домен к конкретному IP-адресу CDN с помощью A-записи, так как эти адреса могут измениться.
{/cut}

{cut(Как ограничить доступ к источнику?)}

Для защиты источника разрешайте доступ только с IP-адресов CDN-серверов VK Cloud:

1. [Обратитесь в техническую поддержку](/ru/contacts), чтобы получить актуальный список IP-адресов CDN.
1. В сетевых настройках источника создайте правило, которое разрешает входящий трафик только с IP-адресов CDN.
{/cut}

{cut(Возможно ли использовать хранилище S3 как источник, защищенный секретным ключом?)}

Да. Для этого:

1. Сделайте бакет приватным.
1. [Настройте](/ru/networks/cdn/instructions/manage-cdn/http-headers#dobavlenie_zagolovkov_zaprosov) произвольный HTTP-заголовок в CDN.
1. Настройте политику доступа к бакету, которая разрешает запросы только при наличии заголовка с указанным значением.
{/cut}