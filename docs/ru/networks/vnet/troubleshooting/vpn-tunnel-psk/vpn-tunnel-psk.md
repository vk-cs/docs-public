Если созданный VPN-туннель находится в статусе `DOWN` и не начинает работать после перезагрузки, причиной может быть использование специальных символов в ключе совместного использования (PSK).

При создании ключа совместного использования вы можете использовать специальные символы `-`, `+`, `&`, `!`, `@`, `#`, `$`, `%`, `^`, `*`, `(`, `)`, `,`, `.`, `:`, `;`, `_`, `=`, `<`, `>`, `{`, `}`, `/`, но некоторые из них, например `#`, `&` или `{`, могут интерпретироваться операционной системой. В этом случае ключ будет некорректным, и VPN-туннель не заработает.

## Решение

1. На стороне клиентской сети экранируйте ключ, содержащийся в файле `/etc/ipsec.secrets`, с помощью двойных кавычек `"`.

    Пример:

    ```plaintext

    192.0.2.200 192.0.2.100 : PSK "1#$@5{840...9RTS86&"

    ```

1. Если на стороне облачной сети вы создавали ключ при помощи OpenStack CLI и не помните, использовалось ли экранирование, замените ключ на содержащийся в файле `/etc/ipsec.secrets`, добавив к нему кавычки:

    ```console

    openstack vpn ipsec site connection set <ИДЕНТИФИКАТОР_VPN-ТУННЕЛЯ> --psk "<КЛЮЧ_СОВМЕСТНОГО_ИСПОЛЬЗОВАНИЯ>"

    ```
    Если вы создавали ключ при помощи личного кабинета, он уже экранирован.

1. Если проблема сохраняется, [обратитесь в техническую поддержку](/ru/contacts).
