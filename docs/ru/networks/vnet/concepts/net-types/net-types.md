Сервис Cloud Networks позволяет работать с несколькими типами сетей.

## Стандартная сеть

_Стандартная сеть_ предоставляет доступ к подсетям с приватными IP-адресами и существует в рамках одного проекта.

[Управлять](../../service-management) стандартной сетью, ее подсетями и портами можно через личный кабинет, OpenStack CLI или Terraform.

## {heading(Общая сеть)[id=shared_net]}

_Общая сеть_ (shared network) тоже предоставляет доступ к подсетям с приватными IP-адресами, но существует в рамках нескольких проектов.

Чтобы создать общую сеть, нужно сначала в одном проекте создать стандартную сеть, а затем поделиться ею с другими проектами. Возможность поделиться сетью есть только у пользователя с [ролью](/ru/tools-for-using-services/account/concepts/rolesandpermissions) владельца проекта (далее — _владелец сети_).

Владелец сети может делиться сетью с любыми проектами в пределах одной [SDN](../sdn):

- по [уникальному идентификатору (PID)](/ru/tools-for-using-services/account/service-management/project-settings/manage#poluchenie_identifikatora_proekta) с теми проектами, где он тоже владелец.
- по ID проекта в OpenStack ([Project ID](/ru/tools-for-using-services/api/rest-api/endpoints#poluchenie_project_id)) с любыми другими проектами.

Пользователь проекта, с которым поделились сетью (далее — _пользователь сети_), получит сообщение и может принять или отклонить приглашение в общую сеть. Решение пользователя распространяется на весь проект: если один пользователь отклонил предложение вступить в сеть, сеть будет недоступна для всего проекта.

Пользователи сети не могут управлять подсетями в ней, но могут создавать ресурсы, подключать сервисы и управлять портами в своем проекте. При подключении некоторых ресурсов, например, балансировщиков или продвинутых маршрутизаторов, будут созданы сервисные порты, которые принадлежат проекту владельца сети и не видны пользователям сети. Владелец общей сети не может управлять такими портами, они подключаются или отключаются только при подключении или отключении сервиса. Чтобы удалить порт, занятый балансировщиком связанного проекта, нужно удалить балансировщик в связанном проекте.

Отключить проект от сети может только владелец сети. Перед отключением пользователю сети необходимо удалить все ВМ и [PaaS-сервисы](/ru/intro/start/concepts/architecture) проекта, размещенные в общей сети. Также рекомендуется удалить все подключенные к общей сети файловые хранилища, балансировщики и продвинутые маршрутизаторы проекта. Иначе сетевая связность между ними и сетью останется, когда сеть будет отключена.

Удалить общую сеть может только владелец сети. Перед удалением необходимо отключить все порты, в том числе сервисные, которые видит только владелец сети. Чтобы отключить сервисные порты, пользователям сети нужно удалить подключенные к ним сервисы в своих проектах.

Матрица доступа к общим сетям:

[cols="1,2,2", options="header"]
|===
|Действие
|Владелец сети
|Пользователь сети

|Просмотр сети
|Доступно
|Доступно

|Редактирование сети
|Доступно
|Недоступно

|Предоставление доступа другим проектам к сети
|Доступно
|Недоступно

|Отключение проекта от сети
|Доступно. Если в проекте есть добавленные порты ВМ или [PaaS-сервисы](/ru/intro/start/concepts/architecture), появится сообщение об ошибке. Удалите все занятые порты.

Если в проекте есть файловые хранилища, балансировщики или продвинутые маршрутизаторы, отключение будет выполнено. При этом сервисы останутся подключенными к сети, то есть сетевая связность между проектами сохранится. Рекомендуется удалить все файловые хранилища, балансировщики и продвинутые маршрутизаторы из отключаемой сети
|Недоступно

|Удаление сети
|Доступно. Если в сети есть занятые порты (как владельца, так и пользователя сети), появится сообщение об ошибке. Необходимо удалить все занятые порты, в том числе сервисные
|Недоступно

|Просмотр подсетей
|Доступно
|Доступно

|Создание, редактирование, удаление подсетей
|Доступно
|Недоступно

|Просмотр портов
|Доступно. Видны все порты, направленные во все проекты
|Доступно. Видны все порты проекта. Не видны сервисные порты, которые создаются для файловых хранилищ, балансировщиков и продвинутых маршрутизаторов, так как они принадлежат проекту владельца сети

|Создание портов
|Доступно
|Доступно

|Редактирование портов
|Доступно
|Недоступно

|Удаление портов
|Доступно удаление только портов в своем проекте
|Доступно удаление только портов в своем проекте
|===

## {heading(Внешняя сеть)[id=external_net]}

_Внешняя сеть_ (`ext-net`, `internet`) предоставляет доступ к подсетям с публичными IP-адресами. Такая сеть существует во всех проектах и используется для предоставления доступа из интернета к сервисам. Подробнее в разделе [Сетевая адресация и доступ в интернет](../ips-and-inet).

Изменять или удалять подсети такой сети нельзя. Доступны следующие операции из личного кабинета, OpenStack CLI или Terraform:

- назначение этой сети виртуальной машине;
- назначение этой сети в качестве внешней для маршрутизатора.

## {heading(Сервисная сеть)[id=service_net]}

_Сервисная сеть_ обеспечивает сетевую связность между ВМ и внутренними ресурсами VK Cloud. Например, используя сервисную сеть, можно с ВМ без доступа в интернет [подключиться](/ru/networks/vnet/how-to-guides/s3-service-net) к бакетам Cloud Storage.

Сервисная сеть не обеспечивает доступ ВМ в интернет или к другой ВМ.

Чтобы добавить сервисную сеть в свой проект, обратитесь в [техническую поддержку](/ru/contacts).
