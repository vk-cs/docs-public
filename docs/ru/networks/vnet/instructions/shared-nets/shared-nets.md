
[Общие сети](../../concepts/net-types#shared_net) позволяют работать с одной сетью в нескольких проектах в пределах одной [SDN](../../concepts/sdn).

{note:info}

В проектах с [SDN Sprut](../../concepts/sdn#sprut) возможность создавать общие сети доступна по умолчанию. Чтобы создать общую сеть в проекте с [SDN Neutron](../../concepts/sdn#neutron), обратитесь в [техническую поддержку](/ru/contacts).

{/note}

## {heading(Доступ к сети из других проектов)[id=share]}

{cut(Кто может делиться сетью с другими проектами?)}

Поделиться сетью с другими проектами могут пользователи cо следующими [ролями](/ru/tools-for-using-services/account/concepts/rolesandpermissions):

- владелец проекта;
- суперадминистратор;
- администратор проекта;
- администратор ВМ;
- младший администратор ВМ;
- администратор сети;
- администратор внутренних сетей;
- администратор Kubernetes.

{/cut}

Чтобы предоставить доступ к сети из других проектов:

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://cloud.vk.com/app/) в личный кабинет VK Cloud.
1. Выберите проект.
1. Перейдите в раздел **Виртуальные сети** → **Сети**.
1. Нажмите ![more-icon](/ru/assets/more-icon.svg "inline") для сети и выберите пункт ![sharing-icon](/ru/assets/sharing-icon.svg "inline") **Поделиться сетью**.
1. В открывшемся окне выберите тип проекта, с которым нужно поделиться сетью:

   - **Мои проекты**: позволяет делиться сетью с проектами, в которых вы владелец.

     Если выбран этот тип, в поле **ID проекта** выберите в списке [уникальный идентификатор проекта (PID)](/ru/tools-for-using-services/account/instructions/project-settings/manage#poluchenie_identifikatora_proekta) вида `mcsNNNNNNNNNN`. Доступно добавление нескольких проектов.

   - **Другие проекты**: позволяет делиться сетью со всеми остальными проектами.

     Если выбран этот тип, в поле **ID проекта в OpenStack** укажите [Project ID](https://cloud.vk.com/docs/tools-for-using-services/api/rest-api/endpoints#poluchenie_project_id) вида `exampled4ef0547e5b222f445`, не совпадает с уникальным идентификатором проекта. Доступно добавление нескольких проектов.
1. Нажмите кнопку **Отправить**.

{/tab}

{/tabs}

Пользователи указанных проектов получат уведомление о приглашении в общую сеть и смогут принять или отклонить его. Решение пользователя распространяется на весь проект: если один пользователь отклонил предложение вступить в сеть, сеть будет недоступна для всего проекта.

## {heading(Просмотр проектов, которым доступна общая сеть)[id=view_shared]}

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://cloud.vk.com/app/) в личный кабинет VK Cloud.
1. Выберите проект.
1. Перейдите в раздел **Виртуальные сети** → **Сети**.
1. Нажмите на имя нужной общей сети.
1. Перейдите на вкладку **Информация**.

В параметре **Владелец сети** указан PID проекта, который делится своей сетью.

В параметре **Пользователи сети** указаны PID проектов, которым разрешен доступ к сети. Параметр отображается только для владельца сети.

{/tab}

{/tabs}

## {heading(Отключение проекта от общей сети)[id=unshare]}

Отключить проект от общей сети может только [владелец сети](../../concepts/net-types#shared_net).

Перед отключением проекта убедитесь, что в связанных проектах удалены все ВМ, [PaaS-сервисы](/ru/intro/start/concepts/architecture), файловые хранилища, балансировщики и продвинутые маршрутизаторы, которые подключены к общей сети.

Чтобы отключить проект от общей сети:

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://cloud.vk.com/app/) в личный кабинет VK Cloud.
1. Выберите проект.
1. Перейдите в раздел **Виртуальные сети** → **Сети**.
1. Нажмите наименование общей сети.
1. Перейдите на вкладку **Информация**.
1. Нажмите кнопку **Редактировать**.
1. В параметре **Пользователи сети** указаны PID проектов, которым разрешен доступ к сети. Нажмите ![cross-icon](/ru/assets/cross-icon.svg "inline"), чтобы запретить проекту доступ к общей сети.
1. Откроется окно, предупреждающее, что будут отключены соответствующие порты. Нажмите кнопку **Перестать**.
1. Нажмите кнопку **Сохранить изменения**.

{/tab}

{/tabs}

## {heading(Удаление общей сети)[id=delete_shared]}

Удалить общую сеть может только [владелец сети](../../concepts/net-types#shared_net).

Чтобы удалить общую сеть:

{tabs}

{tab(Личный кабинет)}

1. [Удалите](../ports#udalenie_porta) все занятые порты общей сети в вашем проекте. Чтобы удалить некоторые порты, нужно удалить или отключить сервисы, которые подключены к ним: ВМ, [PaaS-сервисы](/ru/intro/start/concepts/architecture), файловые хранилища, балансировщики, интерфейсы продвинутых маршрутизаторов, направленные в общую сеть.
1. Убедитесь, что в подключенных проектах также удалены или отключены все сервисы, размещенные в общей сети.

   {note:warn}
   Пока в общей сети есть занятые порты, удалить сеть невозможно.
   {/note}

{include(/ru/_includes/_delete_net.md)}

{/tab}

{/tabs}
