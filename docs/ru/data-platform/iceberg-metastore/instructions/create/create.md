{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
1. Выберите проект, где нужно создать экземпляр сервиса.
1. Перейдите в раздел **Data Platform → Экземпляры сервисов**.
1. Нажмите кнопку **Добавить инстанс** или **Создать экземпляр**.
1. На шаге **Конфигурация**:

   1. Выберите тип сервиса `Cloud Iceberg Metastore`.
   1. Выберите версию сервиса.
   1. Выберите конфигурацию экземпляра сервиса:

      - `Single`: в этой конфигурации экземпляр сервиса будет расположен на одном сервере.

         Решение подходит для разработки и тестирования, снижает расходы на развертывание тестовой инфраструктуры. Не обеспечивает отказоустойчивость: сбой узла приводит к остановке всей работы.
      
      - `Кластер`: в этой конфигурации будет создан отказоустойчивый кластер с максимальной доступностью, автоматическим восстановлением и переключением после сбоев.

         Решение подходит для хранения баз данных большинства проектов, в том числе высоконагруженных, с высокими требованиями к сохранности информации.

   1. Нажмите кнопку **Следующий шаг**.

1. На шаге **Параметры**:

   1. Задайте параметры экземпляра:

      - **Название**: задайте имя для экземпляра сервиса.
      - (Опционально) **Описание**: добавьте описание.
      - **Название базы данных**: задайте имя базы данных PostgresSQL, в которой Cloud Iceberg Metastore будет хранить метаданные.
      - **Назначить внешний IP**: включите опцию, чтобы экземпляр Cloud Iceberg Metastore был доступен через интернет.
      - **Кластер Kubernetes**: выберите из выпадающего списка имя нужного кластера или создайте новый, выбрав в списке `Создать новый кластер`. При создании нового кластера задайте параметры:

         - **Сеть**: выберите из списка подсеть, в которой будет доступен кластер, или создайте новую, выбрав в списке `Создать новую сеть`. При создании новой подсети укажите [SDN](/ru/networks/vnet/concepts/sdn) и адрес подсети.
         - **Зона доступности**: выберите из списка [зону доступности](/ru/intro/start/concepts/architecture#az) кластера.

      1. Выберите конфигурацию кластера: `Базовая` или `Продвинутая`.

         {tabs}
         
         {tab(Базовая)}
                  
         Выберите один из готовых шаблонов кластера. Шаблоны различаются количеством CPU и RAM на узлах Postgres.

         {/tab}

         {tab(Продвинутая)}
         
         1. В блоке **Bouncer** укажите количество CPU и RAM для балансировщика [PgBouncer](/ru/dbs/dbaas/extensions/postgresql#pgbouncer). Если опция **Установить** отключена, балансировщик не будет активен.

         1. В блоке **Postgres** укажите количество CPU и RAM, типы и размеры data- и WAL-дисков, а также количество реплик Postgres.

         {/tab}

         {/tabs}

   1. Нажмите кнопку **Следующий шаг**.

1. На шаге **Обслуживание**:

   {include(/ru/_includes/_iceberg.md)[tags=maintenance]}

   1. Нажмите кнопку **Следующий шаг**.

1. На шаге **Учетные данные** задайте параметры для владельца БД:

   - **Логин администратора для доступа к Cloud Iceberg Metastore**. 
   
      {include(/ru/_includes/_iceberg.md)[tags=login]}
   
   - **Роль**: оставьте значение `Владелец базы данных`. 
   
      Пользователь с этой ролью обладает максимальными правами на созданную БД. Его нельзя удалить. В БД может быть только один пользователь с правами владельца.
     
   - **Пароль администратора для доступа к Cloud Iceberg Metastore**. Чтобы задать пароль, нажмите кнопку **Сгенерировать** или задайте собственный.

      {include(/ru/_includes/_iceberg.md)[tags=password]}

   1. (Опционально) Чтобы добавить еще одну учетную запись, нажмите кнопку **Добавить учетную запись**.

      Все следующие учетные записи создаются с ролью `Стандартный пользователь`. 
   
      Пользователь с этой ролью обладает правами на создание новых объектов (таблиц, схем, функций и прочее), их редактирование и просмотр. Новые создаваемые объекты будут во владении данного пользователя. 
   
      Если удалить пользователя со стандартной ролью, все объекты, которыми он владел, переходят пользователю с ролью `Владелец базы данных`. 
   
      Количество пользователей с данной ролью не ограничено.

   1. Нажмите кнопку **Создать**.

{/tab}

{/tabs}



