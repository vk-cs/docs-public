{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
1. Выберите проект, где нужно создать экземпляр сервиса.
1. Перейдите в раздел **Data Platform** → **Экземпляры сервисов**.
1. Нажмите кнопку **Добавить инстанс** или **Создать экземпляр**.
1. На шаге **Конфигурация**:

   1. Выберите тип сервиса: `Spark`.
   1. Выберите нужную версию сервиса.
   1. Нажмите кнопку **Следующий шаг**.

1. На шаге **Параметры**:

   1. Задайте параметры экземпляра:

      - **Название**: укажите имя для экземпляра сервиса.
      - **Описание**: при необходимости добавьте описание.
      - **Назначить внешний IP**: включите опцию, чтобы экземпляр Spark был доступен через интернет.
      - **Кластер Kubernetes**: выберите из выпадающего списка нужный кластер или создайте новый, выбрав в списке `Создать новый кластер`. При создании нового кластера задайте параметры:

         - **Сеть**: выберите из списка подсеть, в которой будет доступен кластер, или создайте новую, выбрав в списке `Создать новую сеть`. При создании новой подсети укажите [SDN](/ru/networks/vnet/concepts/sdn) и адрес подсети.
         - **Зона доступности**: выберите из списка [зону доступности](/ru/start/concepts/architecture#az) кластера.

   1. Укажите настройки сервиса Spark Connect: количество CPU и объем RAM.

      Этот сервис позволяет удаленно подключиться к кластеру Spark и интерактивно работать с заданиями Spark.

   1. Укажите параметры сервера Spark History Server: количество CPU и объем RAM.

      Этот сервер хранит логи выполнения заданий Spark.

   1. Нажмите кнопку **Следующий шаг**.

1. На шаге **Обслуживание**:

    {include(/ru/_includes/_spark.md)[tags=maintenance]}

    1. Нажмите кнопку **Следующий шаг**.

1. На шаге **Настройки**:

   1. При необходимости измените версию Spark, которая будет использоваться при запуске ваших задач:

       1. Нажмите кнопку **Редактировать**.
       1. В столбце **Значение** выберите нужную версию из списка.

   1. Нажмите кнопку Следующий шаг.

1. На шаге **Подключения** добавьте подключение `PostgreSQL` и одно из подключений: `S3 VK Cloud` или `S3 внешний`. Чтобы добавить подключение к [источнику данных](/ru/data-platform/spark/concepts/parameters#parameters_data_sources):

    {include(/ru/_includes/_spark.md)[tags=connection]}

1. На шаге **Учетные данные**:

    {include(/ru/_includes/_spark.md)[tags=login_password]}

    1. Нажмите кнопку **Создать**.

{/tab}

{/tabs}
