Сервис Cloud Desktop основан на технологии VDI (Virtual Desktop Infrastructure) и предназначен для предоставления пользователям рабочих столов, созданных на удаленном сервере и функционирующих в виртуализированном окружении.

## Для каких задач подходит сервис

Сервис Cloud Desktop подойдет для создания или модернизации коммуникационной инфраструктуры предприятия или сети предприятий, где одно рабочее место могут использовать разные люди.

Задачи, которые решает сервис:

- Развертывание рабочих столов и их дальнейшее администрирование через пулы.
- Управление пулами рабочих столов и распределение нагрузки в них.
- Организация удаленных рабочих столов для пользователей и обеспечение непрерывного доступа к ним.
- Защита рабочих столов от несанкционированного доступа.

## Возможности сервиса

- Поддержка гостевых ОС, на которых будут запускаться облачные рабочие столы: ОС Windows, ОС Linux.
- Поддержка служб каталогов [AD](https://learn.microsoft.com/ru-ru/windows-server/identity/ad-ds/get-started/virtual-dc/active-directory-domain-services-overview)/[LDAP](https://docs.altlinux.org/ru-RU/archive/2.4/html-single/master/alt-docs-master/ch06s11.html).
- Поддержка передачи данных по протоколу RDP.
- Поддержка двух типов рабочих мест: персонализированные и сессионные.
- Контроль использования периферийных устройств.
- Обслуживание более 1000 одновременных пользовательских подключений.
- Создание и настройка ВМ на платформе виртуализации из предварительно подготовленного мастер-образа.
- Поддержка механизмов отказоустойчивости для серверов управления, лицензирования, хранения и учета изменений конфигурации.

## Ролевая модель

В сервисе предусмотрены следующие роли:

- Администратор.

  Управляет сервисом через [личный кабинет](https://msk.cloud.vk.com/app) VK Cloud. Настраивает интеграцию со службой каталогов, создает пулы рабочих столов и назначает рабочие столы пользователям.

- Пользователь.

  Непосредственный пользователь облачных рабочих столов. Самостоятельно устанавливает клиентское приложение для доступа к рабочему столу.

## Доступные периферийные устройства

Периферийные устройства, доступные пользователю рабочего стола, задаются при [создании](../../instructions/desktops-pool/add) пула рабочих столов.

{include(/ru/_includes/_vdi_peripherals.md)}

## {heading(Сетевая конфигурация сервиса)[id=setup_nets]}

В сетевую конфигурацию сервиса входят:

- сеть для размещения служебных ВМ инфраструктуры сервиса;
- одна или несколько сетей для подключения пулов рабочих столов.

Все эти сети подключаются к одному и тому же маршрутизатору с выходом в интернет. Допускается размещение в одной и той же сети служебных ВМ и любого количества пулов рабочих столов.

Поддерживаются автоматический и ручной режимы настройки сетевой конфигурации. Режим выбирается на этапе [настройки сети](../../instructions/config/setup-net) для инфраструктуры сервиса и может быть изменен до момента, когда вы впервые запустите создание пула рабочих столов. После этого изменить режим настройки сетей сервиса будет нельзя.

### {heading(Автоматическая настройка сетей)[id=automatic_net_setup]}

При настройке сети в автоматическом режиме в сетевых настройках сервиса Cloud Desktop указываются:

- маршрутизатор с выходом в интернет, не привязанный ни к каким сетям;
- диапазон IP-адресов нужного объема.

Вместе с инстансом Cloud Desktop автоматически создается сеть, где будут размещены все ВМ инстанса: и служебные ВМ, и пулы рабочих столов.

### {heading(Ручная настройка сетей)[id=manual_net_setup]}

При ручной настройке можно создавать различные сетевые конфигурации:

- использовать одну и ту же сеть для подключения служебных ВМ и любого количества пулов рабочих столов, как в автоматическом режиме;
- создавать отдельную сеть для служебных ВМ и отдельные сети для каждого пула;
- настраивать любые другие варианты.

Сеть для размещения служебных ВМ указывается при [настройке инфраструктуры сервиса](../../instructions/config/setup-net), сети для пулов рабочих столов — при [создании пула](../../instructions/desktops-pool/add).

### {heading(Требования к числу портов)[id=ports_number]}

При ручной настройке необходимо самостоятельно контролировать, что выполняются требования к количеству свободных портов в сетях:

- Сеть для служебных ВМ должна иметь как минимум 16 свободных портов.
- В сети пула должно быть не меньше свободных портов, чем сумма [параметров пула](../../instructions/desktops-pool/add#setup_pool_configuration): **Мин. кол-во рабочих столов** и **Горячий резерв**. Рекомендованное количество свободных портов равняется максимальному числу рабочих столов в пуле, по одному порту на каждый рабочий стол.
- Если сеть используется для нескольких компонентов сервиса, например для служебных ВМ и для пула, нужное число портов должно рассчитываться как сумма требований для этих компонентов.

Количество *P* свободных портов рассчитывается по формуле:

{formula}
P = 2^{32-M}-C-2
{/formula}

Здесь *M* — маска подсети, *C* — количество уже созданных портов.

{note:warn}

Если сети используются не только для инстанса Cloud Desktop, но и для других нужд, количество свободных портов в них с течением времени может меняться. При нехватке портов рабочие столы будут создаваться с ошибкой.

{/note}

## Что дальше?

- [Познакомьтесь](../glossary) с основными понятиями сервиса.
- [Пройдите](../../quick-start) быстрый старт.
