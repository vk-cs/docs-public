Диск на платформе VK Cloud — блочное устройство хранения данных, которое подключается к ВМ. От размера и типа диска зависит объем хранимых данных и скорость доступа к ним.

В дисковой подсистеме VK Cloud используются локальные и сетевые диски:

- Локальный диск — физический диск, который находится на том же сервере СХД (системы хранения данных), что и ВМ.

   На платформе VK Cloud локальные диски типа [Low Latency NVME](#disk_types) доступны в высокопроизводительных конфигурациях. Для создания такой конфигурации [обратитесь в техническую поддержку](/ru/contacts).

- Сетевой диск — виртуальный диск, который подключается к ВМ по сети. При прочих равных условиях сетевой диск может быть медленнее локального из-за сетевых задержек, однако имеет ряд преимуществ:

  - Сетевой диск не привязан к конкретной ВМ. Его можно отключить от одной ВМ и подключить к другой или оставить неподключенным.
  - К одной ВМ можно подключать множество сетевых дисков.
  - Размер сетевого диска можно менять в любую сторону, не прерывая работу ВМ, к которой он подключен. Также можно изменить тип диска и зону его доступности. Диск можно клонировать или удалить. Загрузочный диск можно сделать незагрузочным и наоборот.

   <info>

   Если виртуальная машина и диск находятся в разных зонах доступности, скорость доступа к диску может быть снижена.

   </info>

Для всех дисков на платформе VK Cloud обеспечивается репликация данных, т.е. поддержка нескольких идентичных копий диска на одном или разных устройствах в сети. За счет этого обеспечивается отказоустойчивость дисков: непрерывный доступ к данным и их сохранность. VK Cloud предоставляет диски с двойной и тройной репликацией. Подробнее — в таблице ниже.

К виртуальной машине может быть подключено несколько дисков одного или разных типов, но хотя бы один из них должен быть загрузочным и содержать установленную операционную систему.

## {heading(Типы дисков блочного хранения)[id=disk_types]}

[cols="1,1,1,2,2", options="header"]
|===
| Тип диска
| Название в API
| Зоны доступности
| Репликация
| Описание

| Сетевой </br>HDD-диск
| ceph-hdd
| MS1, GZ1, ME1
| 3 реплики на разных серверах СХД (системы хранения данных)
| Подходит для хранения больших объемов информации

| Сетевой </br>SSD-диск
| ceph-ssd
| MS1, GZ1, ME1
| 3 реплики на разных серверах СХД
| Производительность, скорость считывания и записи информации выше, чем у HDD-диска

| Сетевой </br>High-IOPS </br>SSD
| high-iops
| MS1, GZ1, ME1
| 2 реплики: обе находятся на одном сервере СХД.

В случае сбоя сервера СХД потребуется подготовка нового сервера и перенос в новый сервер физических дисков с данными пользователей. Время восстановления не регламентировано
| SSD-диск с повышенной скоростью работы

| Сетевой </br>High-IOPS </br>HA SSD
| high-iops-ha
| ME1
| 2 реплики на разных серверах СХД. Время переключения при сбое сервера СХД от 30 с до 5 мин.

По протоколу ISCSI ожидание диска при потере доступности — 300 с. За это время операционная система ВМ переключится на резервный сервер СХД. Проведите дополнительное тестирование с эмуляцией отказа диска, если будете использовать диск для размещения высоконагруженных СУБД
| SSD-диск с повышенной скоростью работы и надежностью хранения данных

| Локальный </br>Low Latency </br>NVME
| ef-nvme
| MS1, GZ1, ME1
| 2 реплики: обе находятся на одном гипервизоре
| Высокоскоростной NVME-диск, который находится на одном гипервизоре с ВМ. С высокой скоростью работы и быстрым откликом
|===

{cut(Информация об устаревших названиях ресурсов)}

Некоторые названия типов дисков и зон доступности являются устаревшими, но отображаются в выводе команд.

Соответствие устаревших и актуальных названий:

|Тип диска| Устаревшее<br/>название в API   | Зона<br/>доступности | Актуальное<br/>название в API | Актуальная зона<br/>доступности |
|---------|-----------------------------|------------------|---------------------------|-----------------------------|
| Сетевой HDD | dp1                     | DP1              | ceph-hdd                  | GZ1                         |
|             | ms1                     | MS1              | ceph-hdd                  | MS1                         |
| Сетевой SSD | dp1-ssd                 | DP1              | ceph-ssd                  | GZ1                         |
|             | ko1-ssd                 | MS1              | ceph-ssd                  | MS1                         |
| Сетевой High-IOPS SSD | dp1-high-iops | DP1              | high-iops                 | GZ1                         |
|                       | ko1-high-iops | MS1              | high-iops                 | MS1                         |

Недоступные типы дисков:

|Тип диска| Название в API     | Зона доступности |
|---------|--------------------|------------------|
| Сетевой HDD с георепликацией | ceph   | nova    |
| Сетевой SSD с георепликацией | ssd    | nova    |

{/cut}
