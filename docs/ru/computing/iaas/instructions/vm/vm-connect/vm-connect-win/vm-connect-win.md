Рекомендуемый способ подключения к виртуальной машине Windows – по протоколу RDP (Remote Desktop Protocol).

## 1. Проверьте возможность подключения по RDP

Убедитесь, что выполняются следующие условия:

- виртуальная машина запущена и процесс загрузки ОС завершился;
- в настройках сети ВМ разрешен удаленный доступ по протоколу RDP (TCP-порт `3389`);
- у ВМ есть внешний IP-адрес ([Floating IP](/ru/networks/vnet/concepts/ips-and-inet#floating-ip)), доступный для подключения.

   {note:info}

   Внешний IP-адрес ВМ можно посмотреть в [личном кабинете](https://msk.cloud.vk.com/app/) VK Cloud в разделе **Облачные вычисления → Виртуальные машины**.

   {/note}

Вместо внешнего IP-адреса можно использовать полное доменное имя виртуальной машины (FQDN). Для подключения по полному доменному имени требуются правильно настроенные DNS-записи.

{note:info}

VK Cloud предоставляет [DNS-серверы](/ru/networks/dns/publicdns), на которые вы можете делегировать свой домен.

{/note}

Если подключение к виртуальной машине по RDP невозможно или недоступно, используйте [VNC-консоль](../../vm-console#vnc_konsol).

## 2. Подготовьте учетные данные

1. [Узнайте](../../../../concepts/oper-system#default_account) имя созданного по умолчанию пользователя ОС.
1. [Установите](../../vm-manage#password) пароль для входа в ОС и запишите имя пользователя и пароль.
1. В случае если пароль был утрачен, [сбросьте](../../vm-manage#ustanovka_i_izmenenie_parolya) или [восстановите](../../vm-manage#vosstanovlenie_parolya) его.

## 3. Подключитесь к ВМ

<tabs>
<tablist>
<tab>Linux</tab>
<tab>macOS</tab>
<tab>Windows</tab>
</tablist>
<tabpanel>

В Linux для подключения по RDP используйте утилиту Remmina.

1. Скачайте и установите клиент Remmina:

   ```console
   sudo apt-add-repository ppa:remmina-ppa-team/remmina-next
   sudo apt-get update
   sudo apt-get install remmina remmina-plugin-rdp libfreerdp-plugins-standard
   ```

2. Запустите клиент Remmina.
3. Создайте новое подключение:

   1. В окне приложения выберите протокол: `RDP`.
   2. Нажмите кнопку **New connection profile**.
   3. В открывшемся окне укажите параметры:

      - **Name**: название подключения (например, имя ВМ).
      - **Server**: внешний IP-адрес или полное доменное имя виртуальной машины.
      - **Username**: `<ИМЯ_ПОЛЬЗОВАТЕЛЯ>`.
      - **Password**: `<ПАРОЛЬ>`.

4. Нажмите кнопку **Save and Connect** для подключения к ВМ. Новое подключение при этом сохранится в списке.

</tabpanel>
<tabpanel>

В macOS для подключения по RDP используйте программу Microsoft Remote Desktop. Укажите параметры подключения вручную или с помощью файла конфигурации RDP.

Чтобы получить файл конфигурации RDP:

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
3. Выберите нужную ВМ и перейдите на вкладку **Windows** внизу страницы.
4. Нажмите кнопку **Скачать конфиг RDP**.

Подключитесь к виртуальной машине:

1. Установите и запустите Microsoft Remote Desktop.
2. Создайте новое подключение.

   - Вручную:

      1. В окне приложения нажмите кнопку **Add PC**.
      2. Укажите параметры нового подключения:
         - **PC name**: внешний IP-адрес или полное доменное имя виртуальной машины.
         - **User account**: выберите **Add User Account** и укажите учетные данные:
            - **Username**: `<ИМЯ_ПОЛЬЗОВАТЕЛЯ>`.
            - **Password**: `<ПАРОЛЬ>`.
      3. Нажмите кнопку **Add** — новое подключение появится в списке.

   - С помощью файла конфигурации:

      1. В окне приложения в верхнем выпадающем меню выберите **Import from RDP file**.
      2. Выберите файл конфигурации и нажмите кнопку **Import**.

3. Найдите новое подключение в списке и дважды кликните на него, чтобы подключиться к ВМ.

</tabpanel>
<tabpanel>

Для подключения по RDP укажите параметры подключения вручную или с помощью файла конфигурации RDP.

{cut(Как получить файл конфигурации RDP для ВМ VK Cloud)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
3. Нажмите на имя нужной ВМ, чтобы перейти на страницу ВМ.
3. Перейдите на вкладку **Общая информация** и выберите вкладку **Windows** внизу страницы.
4. Нажмите кнопку **Скачать конфиг RDP**.

{/cut}

Подключитесь к виртуальной машине:

1. Нажмите **Пуск → Подключение к удаленному рабочему столу**.
2. Установите подключение.

   - Вручную:

      1. В поле **Компьютер** введите IP-адрес или полное доменное имя виртуальной машины.
      2. Нажмите кнопку **Подключить**.
      3. В открывшемся окне введите учетные данные:

         - **Имя пользователя**: `<ИМЯ_ПОЛЬЗОВАТЕЛЯ>`.
         - **Пароль**: `<ПАРОЛЬ>`.

      4. Нажмите кнопку **ОК**.

   - С помощью файла конфигурации:

      1. Нажмите **Показать параметры → Общие**.
      2. В блоке **Параметры подключения** нажмите кнопку **Открыть**.
      3. Выберите файл конфигурации и нажмите кнопку **Открыть**.
      4. Нажмите кнопку **Подключить** и повторно подтвердите подключение в открывшемся окне.
      5. В окне входа в операционную систему введите `<ПАРОЛЬ>`.

</tabpanel>
</tabs>

{note:info}

При первом подключении подтвердите использование сертификата.

{/note}
