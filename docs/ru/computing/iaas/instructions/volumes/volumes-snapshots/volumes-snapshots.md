Снимок диска — это файл, в котором хранится копия диска, сделанная в определенный момент времени. Снимок можно использовать для создания новой виртуальной машины или нового диска.

## Создание снимка

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления** → **Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, снимок диска для которой планируется создать.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Используйте один из способов, чтобы открыть окно создания снимка диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Создать снимок**.

   - На странице диска:

      1. Нажмите на имя диска, для которого нужно создать снимок.
      2. На странице диска перейдите на вкладку **Снимки диска**.
      3. Над списком снимков нажмите кнопку **Создать снимок**.

5. В открывшемся окне укажите параметры:

   - **Название снимка диска**.
   - **Исходный диск**.

6. Нажмите **Создать снимок**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выведите список дисков:

   ```console
   openstack volume list
   ```

3. Скопируйте ID нужного диска.

4. Создайте снимок диска.

   - Если диск отключен от ВМ (`Status`: `available`):

      ```console
         openstack volume snapshot create --volume <ID_ДИСКА> <НАЗВАНИЕ>
      ```

   - Если диск подключен к ВМ (`Status`: `in-use`):

      ```console
         openstack volume snapshot create --force --volume <ID_ДИСКА> <НАЗВАНИЕ>
      ```

{/tab}

{/tabs}

## {heading(Использование снимков)[id=use_snapshots]}

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления** → **Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Откройте страницу со списком снимков одним из способов:

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Нажмите **Список снимков**.

   - На странице диска:

      1. Нажмите на имя диска, снимки которого нужно просмотреть.
      2. На странице диска перейдите на вкладку **Снимки диска** или на вкладке **Общая информация** нажмите кнопку **Еще** и выберите **Список снимков**.

4. Нажмите ![ ](/ru/assets/more-icon.svg "inline") для снимка и выберите нужную опцию:

   - **Создать инстанс ВМ** — для перехода на страницу создания виртуальной машины.
   - **Создать диск** — для перехода на страницу создания диска.
   - **Удалить снимок** — для удаления снимка.

      {note:info}

      Для удаления нескольких снимков выберите снимки флажками и нажмите кнопку **Удалить снимок**.

      {/note}

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выполните нужную команду.

   - Вывести список снимков диска:

      ```console
      openstack volume snapshot list --volume <ID_ДИСКА> 
      ```

   - Вывести список снимков дисков всего проекта:

      ```console
      openstack volume snapshot list --project <ID_ПРОЕКТА>
      ```

   - Изменить свойства снимка:

      ```console
      openstack volume snapshot set <СВОЙСТВО> <ID_СНИМКА>
      ```

      Доступные свойства:

     - `--name` — название;
     - `--description` — описание;
     - `--property` — данные в формате ключ=значение;
     - `--no-property` — удалить дополнительные значения.

   - Удалить снимок диска:

      ```console
      openstack volume snapshot delete <ID_СНИМКА>
      ```

{/tab}

{/tabs}
