Система хранения данных на платформе VK Cloud организована с использованием [сетевых и локальных дисков](../../concepts/data-storage/disk-types), различающихся между собой надежностью хранения, количеством реплик данных и параметрами [производительности](../../concepts/data-storage/volume-sla).

Конфигурация основного диска задается на этапе [создания виртуальной машины](../vm/vm-create), дополнительные диски можно [создать](#create_disk) позже и [подключить](#mount_disk) к нужным ВМ. Для созданных дисков доступны операции [изменения размера](#change_disk_size) и [типа](#change_disk_type). Диски можно [перемещать между проектами](#move_disk_to_another_project) и виртуальными машинами, [отключать от ВМ](#dismount_disk), а также [делать загрузочными](#changing_bootable_attribute) и незагрузочными. Диски, которые больше не используются, можно [удалить](#delete_disk).

## {heading(Создание диска)[id=create_disk]}

Чтобы создать диск типа Low Latency NVME, [обратитесь в техподдержку](/ru/contacts) и запросите доступ к [высокопроизводительным конфигурациям](../../concepts/vm/cpu-generation) и дискам. Создание остальных [типов диска](../../concepts/data-storage/disk-types#disk_types) доступно по умолчанию во всех конфигурациях.

{note:info}

Создание диска для конкретной ВМ описано в разделе [Управление ВМ](/ru/computing/iaas/instructions/vm/vm-manage#mount_disk).

{/note}

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
1. Перейдите в раздел **Облачные вычисления** → **Диски**.
1. Над списком дисков нажмите кнопку **Создать диск**.

{include(/ru/_includes/_disk_params.md)[tags=disk]}

1. Нажмите кнопку **Создать диск**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. [Выберите](../../concepts/data-storage/disk-types#disk_types) тип диска, определите его название в API и зону доступности, подходящую для размещения.

3. Просмотрите доступные типы дисков и скопируйте ID типа, соответствующий названию в API.

   ```console
   openstack volume type list
   ```

4. Просмотрите зоны доступности и скопируйте имя выбранной зоны:

   ```console
   openstack availability zone list --volume
   ```

5. Создайте диск определенного типа и размера в выбранной зоне доступности:

   ```console
   openstack volume create --type <ID типа диска> --size <Размер> --availability-zone <Зона доступности диска> <Название диска>
   ```

   Максимальный размер ограничен. Подробнее — в разделе [Квоты и лимиты](/ru/tools-for-using-services/account/concepts/quotasandlimits#limity_bez_kvot_b217dc78).

   Дополнительные параметры команды:

   - `--image <ID образа>` — ID образа, из которого будет создан диск;
   - `--snapshot <ID снимка>` — ID снимка, из которого будет создан диск;
   - `--description <Описание>` — произвольное описание диска;
   - `--property <Ключ=Значение>` — пользовательские свойства диска;
   - `--bootable` — создать загрузочный диск.

{/tab}

{/tabs}

## {heading(Увеличение размера диска с перезагрузкой ВМ)[id=change_disk_size]}

Ограничения, связанные с изменением размера диска ВМ на платформе VK Cloud:

- Размер диска нельзя уменьшить.
- Если у дисков с типом High IOPS SSD и Low Latency NVME есть снимки, увеличить размер этих дисков нельзя.

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления** → **Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, размер диска которой нужно увеличить.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Используйте один из способов, чтобы открыть окно изменения размера диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Изменить размер диска**.

   - На странице диска:

      1. Нажмите на имя диска, размер которого нужно изменить.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над таблицей с параметрами диска нажмите кнопку **Изменить размер диска**.

3. В открывшемся окне укажите **Размер диска**.
4. Нажмите кнопку **Сохранить**.
5. [Перезагрузите](../vm/vm-manage#start_stop_restart_vm) ВМ.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выведите список дисков:

   ```console
   openstack volume list
   ```

3. Проверьте статус диска в колонке `Status`. Успешное расширение гарантируется только для дисков со статусом `available` или `in-use`.

4. Скопируйте ID диска.

5. Увеличьте диск, указав новый размер в гигабайтах.

   - Если диск отключен от ВМ (`Status`: `available`):

      ```console
         openstack volume set --size <Размер> <ID диска>
      ```

   - Если диск подключен к ВМ (`Status`: `in-use`):

      ```console
         cinder extend <ID диска> <Размер>
      ```

6. [Перезагрузите](../vm/vm-manage#start_stop_restart_vm) ВМ.

{/tab}

{/tabs}

## Увеличение размера диска без перезагрузки ВМ

1. [Увеличьте](#change_disk_size) размер виртуального диска в личном кабинете VK Cloud или через OpenStack CLI, но не перезагружайте ВМ. Это изменит размер диска, но не изменит размер разделов диска в ОС.
1. Увеличьте размер разделов диска в операционной системе ВМ:

   {tabs}
   
   {tab(Windows)}
      
   1. Подключитесь к ВМ по [RDP](../vm/vm-connect/vm-connect-win) или через [консоль](../vm/vm-console).
   1. Откройте средство управления дисками (`diskmgmt.msc`) с правами администратора.
   1. В контекстном меню нужного раздела выберите **Расширить том**.
   1. [Увеличьте размер диска](https://learn.microsoft.com/ru-ru/windows-server/storage/disk-management/extend-a-basic-volume).

   {/tab}
   
   {tab(Linux)}
   
    1. Подключитесь к ВМ по [SSH](../vm/vm-connect/vm-connect-nix) или через [консоль](../vm/vm-console).
    1. Узнайте, какие на ВМ есть разделы диска и какие у них файловые системы. Для этого выполните команду:
    
        ```console
        df -Th
       ```
            
        В ответе найдите раздел, размер которого нужно изменить, и посмотрите его файловую систему в столбце **Type**. Как правило, изменить нужно размер `/dev/vda1`.
    1. Увеличьте размер раздела.
        
        Пример команды:
    
        ```console
        growpart /dev/vda 1 # перед 1 нужен пробел
        ```

    1. Увеличьте размер файловой системы до размера раздела. В зависимости от файловой системы каталога используйте команду:
    
        {tabs}
        
        {tab(Ext1, Ext2, Ext3, Ext4)}
                
        ```console
        sudo resize2fs /dev/vda1 # перед 1 не должно быть пробела
        ```

        {/tab}
        
        {tab(XFS)}
               
        ```console
        sudo xfs_growfs -d /dev/vda1
        ```
    
        {/tab}
        
        {/tabs}
    
    1. При помощи команды `df -Th` проверьте, что размер раздела изменился.
       
{/tab}

{/tabs}

## Клонирование диска

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.
   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления** → **Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, для которой нужно клонировать диск.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Используйте один из способов, чтобы открыть окно клонирования диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Клонировать диск**.

   - На странице диска:

      1. Нажмите на имя диска, который нужно клонировать.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над таблицей с параметрами диска нажмите **Еще** и выберите опцию **Клонировать диск**.

4. На открывшейся странице укажите параметры нового диска.
5. Нажмите кнопку **Создать диск**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.
1. [Определите](../../concepts/data-storage/disk-types#disk_types):

   - нужный тип диска;
   - его название в API;
   - зону доступности, подходящую для размещения.

1. Просмотрите доступные типы дисков и скопируйте ID типа, соответствующий названию в API.

   ```console
   openstack volume type list
   ```

1. Просмотрите зоны доступности и скопируйте имя нужной зоны:

   ```console
   openstack availability zone list --volume
   ```

1. Клонируйте диск на основе существующего:

   ```console
   openstack volume create --type <ID типа диска> --size <Размер> --availability-zone <Зона доступности диска> --source <ID диска> <Название диска>
   ```

{/tab}

{/tabs}

## {heading(Изменение типа диска)[id=change_disk_type]}

Чтобы изменить тип диска на Low Latency NVME, [обратитесь в техподдержку](/ru/contacts) и запросите доступ к [высокопроизводительным конфигурациям](../../concepts/vm/cpu-generation) и дискам. Остальные [типы диска](../../concepts/data-storage/disk-types#disk_types) доступны по умолчанию во всех конфигурациях.

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления → Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, тип диска которой нужно изменить.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Используйте один из способов, чтобы открыть окно изменения типа диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Изменить тип диска**.

   - На странице диска:

      1. Нажмите на имя диска, тип которого нужно изменить.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над таблицей с параметрами диска нажмите кнопку **Изменить тип диска**.

   {note:info}

   Если опция **Изменить тип диска** неактивна, [отключите диск](#dismount_disk) от ВМ.

   {/note}

4. В открывшемся окне выберите **Тип диска** и нажмите кнопку **Подтвердить**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. [Выберите](../../concepts/data-storage/disk-types#disk_types) новый тип диска и определите его название в API.

3. Просмотрите список доступных типов дисков и скопируйте ID типа, соответствующий названию в API.

   ```console
   openstack volume type list
   ```

4. Просмотрите список дисков и скопируйте ID диска, тип которого нужно изменить:

   ```console
   openstack volume list --long
   ```

5. Измените тип диска:

   ```console
   openstack volume set --type <ID типа> --retype-policy on-demand <ID диска>
   ```

{/tab}

{/tabs}

## {heading(Изменение атрибута «загрузочный»)[id=changing_bootable_attribute]}

Сделайте диск загрузочным, чтобы использовать его в качестве основного (root) диска ВМ. Загрузочный диск также можно использовать как дополнительный диск ВМ для загрузки операционной системы.

Чтобы исключить возможность случайной загрузки с диска, сделайте его незагрузочным.

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления → Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Измените атрибут «загрузочный» одним из способов.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Сделать диск загрузочным** (**Сделать диск не загрузочным**).

   - На странице диска:

      1. Нажмите на имя диска.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над таблицей с параметрами диска нажмите кнопку **Еще** и выберите **Сделать диск загрузочным** (**Сделать диск не загрузочным**).

4. В открывшемся окне нажмите кнопку **Подтвердить**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выполните нужную команду.

   - Сделать диск загрузочным:

      ```console
      openstack volume set --bootable <ID диска>
      ```

   - Сделать диск незагрузочным:

      ```console
      openstack volume set --non-bootable <ID диска>
      ```

3. Проверьте результат:

   ```console
   openstack volume show <ID диска>
   ```

{/tab}

{/tabs}

## {heading(Подключение диска к ВМ)[id=mount_disk]}

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Перейдите в раздел **Облачные вычисления → Диски**.
3. Найдите в списке диск, не подключенный к ВМ: значок слева от названия диска — синий, при наведении на него появляется надпись **Не подключен к инстансу**.
4. Используйте один из способов, чтобы открыть окно выбора виртуальной машины для подключения диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Подключить к инстансу**.

   - На странице диска:

      1. Нажмите на имя диска, который нужно подключить к ВМ.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над списком дисков нажмите кнопку **Еще** и выберите **Подключить к инстансу**.

5. В открывшемся окне укажите виртуальную машину в поле **Выберите инстанс**.
6. Нажмите кнопку **Подключить диск**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выведите список дисков и скопируйте ID диска:

   ```console
   openstack volume list
   ```

2. Выведите список виртуальных машин и скопируйте ID виртуальной машины, к которой нужно подключить диск:

   ```console
   openstack server list
   ```

3. Подключите диск:

   ```console
   openstack server add volume <ID виртуальной машины> <ID диска>
   ```

4. Просмотрите информацию о диске, чтобы проверить результат (поле `attachments`):

   ```console
   openstack volume show <ID диска>
   ```

{/tab}

{/tabs}

## {heading(Отключение диска от ВМ)[id=dismount_disk]}

{note:warn}

Для отключения основного (root) диска ВМ используйте опцию [Замена основного (root) диска](#zamena_osnovnogo_root_diska).

{/note}

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, от которой нужно отключить диск.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Отключите диск от ВМ одним из способов.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Отключить от инстанса**.

   - На странице диска:

      1. Нажмите на имя диска, который нужно отключить от ВМ.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над списком дисков нажмите кнопку **Еще** и выберите **Отключить от инстанса**.

4. В открывшемся окне проверьте название диска и нажмите кнопку **Подтвердить**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выведите список дисков и скопируйте ID диска:

   ```console
   openstack volume list
   ```

2. Выведите список виртуальных машин и скопируйте ID виртуальной машины, от которой нужно отключить диск:

   ```console
   openstack server list
   ```

3. Отключите диск:

   ```console
   openstack server remove volume <ID виртуальной машины> <ID диска>
   ```

4. Просмотрите информацию о диске, чтобы проверить результат (поле `attachments`):

   ```console
   openstack volume show <ID диска>
   ```

{/tab}

{/tabs}

## Замена основного (root) диска

Перед заменой основного диска [остановите ВМ](../vm/vm-manage#start_stop_restart_vm).

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. [Отключите от ВМ](#dismount_disk) диск, который будет использован для замены основного.
3. При необходимости [клонируйте](#klonirovanie_diska) целевой диск.
4. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления → Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, основной диск которой нужно заменить.
      3. На странице ВМ перейдите на вкладку **Диски**.

5. Используйте один из способов, чтобы открыть окно замены диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Заменить root-диск**.

   - На странице диска:

      1. Нажмите на имя диска, который нужно заменить.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Над списком дисков нажмите кнопку **Еще** и выберите **Заменить root-диск**.

6. В открывшемся окне выберите **Новый root-диск** и нажмите кнопку **Заменить**.

   {note:warn}

   Если нужного диска нет в списке, проверьте, что он [отключен от ВМ](#dismount_disk).

   {/note}

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Получите [токен доступа](/ru/tools-for-using-services/api/rest-api/case-keystone-token).
3. Просмотрите список виртуальных машин и скопируйте ID виртуальной машины, основной диск которой нужно заменить:

   ```console
   openstack server list
   ```

3. Просмотрите список дисков:

   ```console
   openstack volume list --long
   ```

4. Проверьте параметры диска, который выбран на замену основному:

   - Диск отключен от ВМ (`Status`: `available`). Если нет, [отключите диск](#dismount_disk).
   - Диск является загрузочным (`Bootable`: `true`). Если нет, [сделайте загрузочным](#changing_bootable_attribute).

5. Скопируйте ID выбранного диска.
6. Выполните команду для замены основного диска:

   ```console

   curl -g -i -X POST https://infra.mail.ru:8774/v2.1/servers/<ID виртуальной машины>/action \
   -H "Accept: application/json" \
   -H "Content-Type: application/json" \
   -H "User-Agent: python-cinderclient" \
   -H "X-Auth-Token: <Токен доступа>" \
   -d '{"replaceRoot": {"volume_id": "<ID заменяющего диска>"}}'

   ```

{/tab}

{/tabs}

## {heading(Перемещение дисков между проектами)[id=move_disk_to_another_project]}

{tabs}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Авторизуйтесь в проекте, из которого нужно переместить диск.
3. [Отключите от ВМ](#dismount_disk) диск, который нужно переместить.
4. Просмотрите список дисков:

   ```console
   openstack volume list --long
   ```

5. Убедитесь, что диск отключен от ВМ (`Status`: `available`).
6. Скопируйте ID диска.
7. Создайте запрос на перемещение диска:

   ```console
   openstack volume transfer request create <ID диска>
   ```

8. Скопируйте значения `auth_key` и `id`.
9. Просмотрите список дисков и убедитесь, что статус перемещаемого диска изменился на `awaiting-transfer`:

   ```console
   openstack volume list
   ```

10. Авторизуйтесь в проекте, в который нужно переместить диск.
11. Переместите диск:

      ```console
      openstack volume transfer request accept --auth-key <auth_key> <id>
      ```

12. Убедитесь, что диск появился в проекте:

      ```console
      openstack volume show <ID диска>
      ```

**Дополнительные команды для работы с запросами на перенос диска**

- Просмотреть список запросов на перенос:

   ```console
   openstack volume transfer request list
   ```

- Удалить запрос на перенос:

   ```console
   openstack volume transfer request delete <ID запроса>
   ```

{/tab}

{/tabs}

## {heading(Удаление диска)[id=delete_disk]}

{note:err}

При удалении диска будут удалены все его снимки.

{/note}

{tabs}

{tab(Личный кабинет)}

1. [Отключите диск](#dismount_disk) от ВМ.
2. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
3. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления → Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления → Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, диск которой нужно удалить.
      3. На странице ВМ перейдите на вкладку **Диски**.

4. Удалите диск одним из способов.

   - С помощью групповых операций — для нескольких дисков:

      1. Выберите флажками диски, которые нужно удалить.
      2. Над списком дисков нажмите кнопку **Удалить диск**.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Удалить диск**.

   - На странице диска:

      1. Нажмите на имя диска, который нужно удалить.
      2. На странице диска перейдите на вкладку **Общая информация**.
      3. Справа над таблицей с параметрами диска нажмите на значок корзины.

5. В открывшемся окне проверьте имя диска и нажмите кнопку **Подтвердить**.

{/tab}

{tab(OpenStack CLI)}

1. [Отключите диск](#dismount_disk) от ВМ.
2. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

3. Выведите список дисков с помощью команды `openstack volume list` и проверьте его статус: если диск подключен к ВМ (`Status`: `in-use`), [отключите его](#dismount_disk).

4. Скопируйте ID диска.

5. Удалите диск.

   ```console
      openstack volume delete <ID диска>
   ```

{/tab}

{/tabs}

## Снимки диска

Снимок диска — это файл, в котором хранится копия диска, сделанная в определенный момент времени. Снимок можно использовать для создания новой виртуальной машины или нового диска.

### Создание снимка

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления** → **Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ, снимок диска для которой планируется создать.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Используйте один из способов, чтобы открыть окно создания снимка диска.

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Выберите пункт **Создать снимок**.

   - На странице диска:

      1. Нажмите на имя диска, для которого нужно создать снимок.
      2. На странице диска перейдите на вкладку **Снимки диска**.
      3. Над списком снимков нажмите кнопку **Создать снимок**.

5. В открывшемся окне укажите параметры:

   - **Название снимка диска**.
   - **Исходный диск**.

6. Нажмите **Создать снимок**.

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выведите список дисков:

   ```console
   openstack volume list
   ```

3. Скопируйте ID нужного диска.

4. Создайте снимок диска.

   - Если диск отключен от ВМ (`Status`: `available`):

      ```console
         openstack volume snapshot create --volume <ID диска> <Название снимка>
      ```

   - Если диск подключен к ВМ (`Status`: `in-use`):

      ```console
         openstack volume snapshot create --force --volume <ID диска> <Название снимка>
      ```

{/tab}

{/tabs}

### {heading(Использование снимков)[id=use_snapshots]}

{tabs}

{tab(Личный кабинет)}

1. [Перейдите](https://msk.cloud.vk.com/app/) в личный кабинет VK Cloud.
2. Откройте страницу с нужным списком дисков.

   - Все диски: перейдите в раздел **Облачные вычисления** → **Диски**.

   - Диски определенной виртуальной машины:

      1. Перейдите в раздел **Облачные вычисления** → **Виртуальные машины**.
      2. В списке виртуальных машин нажмите на имя ВМ.
      3. На странице ВМ перейдите на вкладку **Диски**.

3. Откройте страницу со списком снимков одним из способов:

   - Через контекстное меню диска:

      1. В списке дисков нажмите ![ ](/ru/assets/more-icon.svg "inline") для нужного диска.
      2. Нажмите **Список снимков**.

   - На странице диска:

      1. Нажмите на имя диска, снимки которого нужно просмотреть.
      2. На странице диска перейдите на вкладку **Снимки диска** или на вкладке **Общая информация** нажмите кнопку **Еще** и выберите **Список снимков**.

4. Нажмите ![ ](/ru/assets/more-icon.svg "inline") для снимка и выберите нужную опцию:

   - **Создать инстанс ВМ** — для перехода на страницу создания виртуальной машины.
   - **Создать диск** — для перехода на страницу создания диска.
   - **Удалить снимок** — для удаления снимка.

      {note:info}

      Для удаления нескольких снимков выберите снимки флажками и нажмите кнопку **Удалить снимок**.

      {/note}

{/tab}

{tab(OpenStack CLI)}

1. Убедитесь, что клиент OpenStack [установлен](/ru/tools-for-using-services/cli/openstack-cli#1_ustanovite_klient_openstack), и [пройдите аутентификацию](/ru/tools-for-using-services/cli/openstack-cli#3_proydite_autentifikaciyu) в проекте.

2. Выполните нужную команду.

   - Вывести список снимков диска:

      ```console
      openstack volume snapshot list --volume <ID диска> 
      ```

   - Вывести список снимков дисков всего проекта:

      ```console
      openstack volume snapshot list --project <ID проекта>
      ```

   - Изменить свойства снимка:

      ```console
      openstack volume snapshot set <свойство> <ID снимка>
      ```

      Доступные свойства:

     - `--name` — название;
     - `--description` — описание;
     - `--property` — данные в формате ключ=значение;
     - `--no-property` — удалить дополнительные значения.

   - Удалить снимок диска:

      ```console
      openstack volume snapshot delete <ID снимка>
      ```

{/tab}

{/tabs}
