## Виртуальные машины

<details>

<summary>Где располагаются серверы?</summary>

Серверы расположены в [нескольких дата-центрах VK Cloud](../concepts/vm-concept#zona_dostupnosti) как на территории, так и за пределами РФ.

</details>

<details>

<summary>Какая гарантированная скорость соединения?</summary>

VK Cloud обеспечивает виртуальные машины входящим и исходящим каналом связи с интернетом с пропускной способностью 1Гбит/с, без ограничения по трафику.

</details>

<details>

<summary>Как установить новый пароль для ВМ?</summary>

Воспользуйтесь [инструкцией](../instructions/vm/vm-manage#ustanovka_i_izmenenie_parolya).

</details>

<details>

<summary>При смене пароля к ВМ получаю ошибку в личном кабинете</summary>

Пароль к виртуальной машине устанавливается через гостевой агент. При недоступности агента могут быть проблемы с установкой пароля.

В этом случае рекомендуется установить и настроить `qemu-guest-agent`, выполнив команду в терминале:

```bash
sudo sh -c "apt update; apt install -y qemu-guest-agent; systemctl enable qemu-guest-agent; systemctl start qemu-guest-agent"
```

</details>

<details>

<summary>Нет доступа к высокопроизводительным CPU</summary>

Для получения доступа к высокопроизводительным CPU обратитесь в [техническую поддержку](/ru/contacts/).

</details>

<details>

<summary>Сколько стоит внешний IP-адрес?</summary>

Актуальные цены на плавающие IP-адреса и IP-адреса на портах виртуальных машин (`ext-net`) размещены в [прайс-листе](https://cloud.vk.com/pricelist).

</details>

<details>

<summary>Хочу создать инстанс, но нет подходящей конфигурации</summary>

Если при создании ВМ вы не нашли подходящей конфигурации ВМ, обратитесь в [техническую поддержку](/ru/contacts/).

Не рекомендуется использовать конфигурации, в которых коэффициент соотношения CPU и RAM `1:1` или менее этого значения. Подобные конфигурации обладают узкими местами в производительности и могут использоваться для выполнения конкретных задач, например, для машинного обучения или распознавания объектов.

</details>

<details>

<summary>Не создается инстанс</summary>

Если в процессе создания ВМ возникла ошибка, обратите внимание на всплывающее окно в правом верхнем углу панели VK Cloud, в котором отображается сообщение об ошибке.

Если сообщение не появляется, при этом мастер создания сообщает об ошибке, обратитесь в [техническую поддержку](/ru/contacts/).

</details>

<details>

<summary>Не хватает квот при создании ВМ</summary>

Освободите ресурсы на проекте или обратитесь в [техническую поддержку](/ru/contacts/), сообщив данные проекта, учетной записи, а также объем ресурсов, необходимых для добавления в проект.

</details>

<details>

<summary>Не могу создать ВМ с Windows 7/8/10</summary>

Клиентские операционные системы семейства Windows, такие как Windows 7/8/10, невозможно использовать в облаке VK Cloud. Это ограничение установлено для всех проектов и не может быть снято.

</details>

<details>

<summary>На инстансе плохо обрабатываются графические элементы</summary>

В системе виртуализации для обработки графики используются ресурсы CPU, которые не предназначены для обработки графических элементов, требующих наличие видеодрайвера, поэтому качество может отличаться от аналогичных локальных устройств.

</details>

<details>

<summary>Как восстановить приватный ключ?</summary>

Если утрачен приватный ключ, который использовался для доступа к ВМ по протоколу SSH, создайте новую ключевую пару и добавьте публичный ключ на ВМ вручную. Подробнее — в статье [Управление ВМ](../instructions/vm/vm-manage#vosstanovlenie_dostupa_k_vm_po_klyuchu).

</details>

<details>

<summary>Не подключается Openstack CLI</summary>

Подключиться к Openstack CLI можно при помощи файла конфигурации. Информация об установке, настройке и параметрах подключения приведена в [разделе утилит управления (CLI)](/ru/base/account/project/cli).

</details>

<details>

<summary>Как перейти в консоль виртуального сервера?</summary>

VNC-консоль доступна на странице виртуальной машины в разделе **Облачные вычисления → Виртуальные машины**. Подробнее — в статье [Диагностика ВМ](../instructions/vm/vm-console#vnc_konsol).

</details>

<details>

<summary>Не отображается консоль инстанса в панели VK Cloud</summary>

Убедитесь, что используете последнюю версию браузера. Очистите кеш при необходимости.

<info>

В консоли не доступны привычные комбинации клавиш, передача звука и буфера обмена.

</info>

</details>

<details>

<summary>Можно ли увеличить CPU или RAM?</summary>

Да. Если машина уже создана, [измените ее тип](../instructions/vm/vm-manage#pereimenovanie_i_izmenenie_tipa_vm).

</details>

<details>

<summary>Как отслеживать производительность ВМ?</summary>

На вкладке **Мониторинг** на странице созданной ВМ.

</details>

<details>

<summary>Как происходит масштабирование ВМ?</summary>

Масштабирование виртуальной машины VK Cloud проходит через этапы:

1. ВМ останавливается.
1. К виртуальной машине добавляются CPU, RAM или HDD.
1. ВМ перезапускается.

Итерация биллинга происходит раз в час — в течение этого времени изменится расчет стоимости ресурсов.

</details>

<details>

<summary>Могу ли я задать плавающий IP-адрес для ВМ?</summary>

Вы можете [назначить существующий](/ru/networks/vnet/operations/manage-floating-ip#privyazka_plavayushchego_ip_adresa) плавающий IP-адрес для ВМ или [добавить новый](/ru/networks/vnet/operations/manage-floating-ip#dobavlenie_plavayushchego_ip_adresa_v_proekt) адрес вручную.

<warn>

Назначение нового плавающего IP-адреса происходит случайным образом.

</warn>

</details>

<details>

<summary>Какая разница между VPS и VDS?</summary>

Видимой разницы нет.

Провайдеры предлагают одну услугу в комплексе — аренду виртуального сервера VPS/VDS. Выбирайте, сколько и каких ресурсов нужно для работы веб-сервисов: количество процессоров, размеры хранилища, тип накопителей, операционные системы и другие параметры. Провайдер проконтролирует, чтобы вы получили их в полном объеме по запросу.

</details>

<details>

<summary>Каким образом реализована виртуализация?</summary>

Провайдер разворачивает на физических серверах среду виртуализации, в которой находится множество ВМ клиентов. ВМ изолированы друг от друга, клиенты получают к ним доступ удаленно, через зашифрованные соединения. VK Cloud реализует виртуализацию на базе KVM + OpenStack с собственными доработками.

</details>

<details>

<summary>Можно ли изменять конфигурацию облачного сервера уже после подключения?</summary>

Да, можно. Этот процесс сопровождается перезагрузкой виртуальной машины.

</details>

<details>

<summary>Можно ли размещать виртуальную машину и диск в разных ЦОД для повышения отказоустойчивости?</summary>

Крайне не рекомендуется размещать виртуальную машину и диски к ней в разных ЦОД, поскольку это может сказаться на стабильности и работоспособности ВМ в целом. При создании ВМ размещайте диск и ВМ в одной зоне доступности.

</details>

<details>

<summary>Почему продолжаются списания, хотя ВМ остановлена?</summary>

Если работа ВМ остановлена, то списания продолжаются за следующие услуги:

- использование лицензий (Windows и RDS, если активированы);
- аренду дискового пространства;
- хранение имеющихся резервных копий.

</details>

<details>

<summary>Чем облачные сервера VPS/VDS отличаются от выделенного сервера (dedicated)?</summary>

С точки зрения пользователя серверы в облаке ничем не отличаются от выделенного физического: вы также получаете root-права, доступ к сетевым настройкам, можете выполнять любые действия над файлами, устанавливать и настраивать любое нужное программное обеспечение.

Чтобы получить полный контроль над стоимостью услуги, лучше арендовать VPS/VDS. Вы сможете создавать или уничтожать ВМ за минуты, в зависимости от текущих потребностей, увеличивать или уменьшать их мощность без остановки (без даунтайма). Выделенные сервера не имеют такой гибкости, какой обладает облачный VPS/VDS, что приводит к недоиспользованию ресурсов и риску падения приложений при пиковых нагрузках.

</details>

<details>

<summary>Почему мои ВМ в облаке VK Cloud не видят мою сеть вне облака?</summary>

Между сетями должна быть настроена сетевая связность (VPN). Подробнее о создании VPN между сетью VK Cloud и внешней сетью в статье [Организация VPN-туннеля](/ru/networks/vnet/use-cases/vpn-tunnel).

</details>

<details>

<summary>Сколько раз можно создавать и удалять виртуальные машины?</summary>

Операцию создания и удаления ресурсов можно производить неограниченное количество раз.

</details>

## Диски и образы

<details>

<summary>Как увеличить диск?</summary>

Увеличить диск можно при помощи панели VK Cloud в разделе **Виртуальные машины** или **Диски** раздела **Облачные вычисления**.

Полная информация доступна в статье [Управление дисками](../instructions/volumes#uvelichenie_razmera_diska_s_perezagruzkoy_vm).

</details>

<details>

<summary>Не удается уменьшить диск</summary>

В платформе VK Cloud доступно только увеличение размера диска.

</details>

<details>

<summary>Почему мой диск медленно работает?</summary>

На производительность работы диска могут влиять факторы:

- фоновые процессы операционной системы;
- механизмы работы резервного копирования;
- автоматические обновления (актуально для Windows);
- запущенное стороннее программное обеспечение.

Если перечисленные факторы отсутствуют, соберите статистику производительности диска одним из способов:

- `disk utilization` — с использованием [утилиты](https://www.cyberciti.biz/tips/linux-disk-performance-monitoring-howto.html) `iostat`;
- `load average` — c [использованием](https://www.digitalocean.com/community/tutorials/load-average-in-linux) `top`.

Сравните полученные показатели с [гарантированной производительностью диска](../concepts/volume-sla), предоставляемой платформой VK Cloud. Если наблюдаются значительные отклонения, обратитесь в [техническую поддержку](/ru/contacts).

<info>

Чтобы увеличить производительность, можно [увеличить размер](../instructions/volumes#uvelichenie_razmera_diska_s_perezagruzkoy_vm) или [изменить тип](../instructions/volumes#izmenenie_tipa_diska) диска.

</info>

</details>

<details>

<summary>Влияет ли процесс миграции на производительность дисков?</summary>

В момент миграции возможно снижение производительности только на чтение, но обычно для чтения имеется достаточный запас по производительности, и снижение незаметно.

</details>

<details>

<summary>Не могу удалить диск</summary>

Убедитесь, что диск [отключен](../instructions/volumes#otklyuchenie_diska_ot_vm) от ВМ — после этого удалите диск в разделе **Облачные вычисления** → **Диски**.

</details>

<details>

<summary>Как передать диск ВМ другому проекту?</summary>

Воспользуйтесь [инструкцией](../instructions/volumes#peremeshchenie_diskov_mezhdu_proektami).

</details>

<details>

<summary>Как загрузить свой образ ОС?</summary>

Платформа VK Cloud допускает создание виртуальных машин из ранее подготовленных и загруженных образов. Подготовка образа состоит из установки необходимого набора программных компонентов и драйверов для работы в сервисах облачных провайдеров, подробней в статьях [Миграция ВМ Hyper-V в VK Cloud](../use-cases/migrate-hyperv/) и [Миграция ВМ VMware в VK Cloud](../use-cases/migrate-vmware/).

</details>

<details>

<summary>Как поменять корневой (root) диск ВМ?</summary>

Замена корневого диска возможна, только если в проекте VK Cloud уже был создан другой диск. Это может быть как пустой диск, так и загрузочный, содержащий операционную систему. Инструкция приведена в статье о [замене root-диска](../instructions/volumes#zamena_osnovnogo_root_diska).

</details>

<details>

<summary>Можно ли создать снимок диска?</summary>

Создание снимка диска доступно [в личном кабинете или через OpenStack CLI](../instructions/volumes#snimki_diska). Созданный снимок будет храниться до момента удаления самого диска.

</details>

<details>

<summary>Как восстановить диск из снимка?</summary>

Воспользуйтесь [инструкцией](../instructions/volumes#snimki_diska).

</details>

<details>

<summary>С какой скоростью изменяется тип диска?</summary>

Изменение типа диска происходит со следующей скоростью:

- 70MB/s: если диск подключен к ВМ.
- 250MB/s: если диск отключен от ВМ.

Нельзя изменить тип диска, подключенного к выключенной виртуальной машине.

</details>

<details>

<summary>Хранятся ли копии дисков после конвертации в другой ЦОД?</summary>

При конвертации диска в другой ЦОД создается зеркало, в которое загружаются данные исходного диска. После конвертации такие зеркала не сохраняются.

</details>

<details>

<summary>Можно ли расширить все диски разом или каждый нужно расширять по отдельности?</summary>

Можно расширить все диски одновременно.

</details>

<details>

<summary>Будет ли перезагружена виртуальная машина при изменении размера диска?</summary>

Изменение размера диска ВМ происходит во время работы, без перезагрузки ВМ.

</details>

## Файловое хранилище

<details>

<summary>Для чего предназначено файловое хранилище?</summary>

Сетевое файловое хранилище, работающее по протоколу NFS или CIFS, предназначено для совместного использования ресурсов.

Этот сервис позволяет создать удаленную файловую систему, смонтировать файловую систему на виртуальных машинах, а затем читать и записывать данные из инстансов в файловую систему и из нее.

</details>

<details>

<summary>Можно ли использовать SSD-диск вместо HDD при создании файлового хранилища NFS?</summary>

Нет, такая возможность не предусмотрена.

</details>

<details>

<summary>Можно ли использовать файловое хранилище между проектами?</summary>

Нет, такая функциональность не предусмотрена.

</details>

<details>

<summary>Можно ли восстановить файловое хранилище из снимка?</summary>

Да, такая возможность есть. При этом хранилище будет восстановлено в отдельную ВМ, это потребует дополнительных квот.

Подробнее о создании снимков в статье [Управление файловыми хранилищами](../instructions/fs-manage#sozdanie_snimka).

</details>

<details>

<summary>Есть ли возможность создания снимков файлового хранилища по расписанию?</summary>

Нет, такой возможности не предусмотрено.

Снимок файлового хранилища можно создать вручную через [личный кабинет](https://msk.cloud.vk.com/app/) VK Cloud или с использованием API.

</details>

<details>

<summary>У файловых хранилищ существуют какие-либо агенты для контроля за свободным местом?</summary>

Нет, таких агентов не предусмотрено.

</details>

<details>

<summary>Возможна ли работа файлового хранилища по протоколу SCSI?</summary>

Работа с этим протоколом не предусмотрена.

</details>

<details>

<summary>Возможно ли подключить файловое хранилище по VPN в другом облаке?</summary>

Такой возможности нет.

</details>

<details>

<summary>Какой максимальный объем файлового хранилища?</summary>

Максимальный объем файлового хранилища — 50ТБ.

</details>

<details>

<summary>В какой зоне доступности создаются файловые хранилища?</summary>

[Зона доступности](/ru/additionals/start/architecture#zony_dostupnosti_d9f6db93) хранилища зависит от [региона](/ru/base/account/concepts/regions) проекта:

- GZ1 для региона Москва;
- QAZ для региона Казахстан.

</details>

<details>

<summary>Можно ли настроить одновременный доступ с разных ВМ к файловому хранилищу?</summary>

Да, можно, подробнее в статье [Управление файловыми хранилищами](../instructions/fs-manage#podklyuchenie_faylovogo_hranilishcha).

</details>

## Лицензирование

<details>

<summary>Как получить лицензию Windows Server?</summary>

Лицензионная копия операционной системы Windows Server предустановлена в создаваемую ВМ на базе ОС Windows. Активация лицензионной копии происходит автоматически после создания ВМ. При возникновении ошибки активации ОС обратитесь в [техническую поддержку](/ru/contacts) с указанием ID виртуальной машины.

</details>

<details>

<summary>Какие лицензии я могу получить?</summary>

Перечень предоставляемых стандартных лицензий ограничен, вы можете посмотреть список доступных в [прайс-листе](https://cloud.vk.com/pricelist).

</details>

<details>

<summary>Какие есть типы лицензирования?</summary>

Microsoft предоставляет несколько моделей лицензирования, которые позволяют наиболее оптимально использовать свой бюджет:

- На ядро. Эта модель лицензирования предоставляет доступ неограниченному числу пользователей или устройств.
- На пользователя. Предназначена для предоставления доступа к лицензии одному пользователю на неограниченное количество серверов.

По правилам лицензирования Microsoft вариант «на ядро» предполагает необходимость покрыть лицензией каждое виртуальное ядро ВМ. Вне зависимости от количества ядер ВМ, лицензии подлежат каждые 2 виртуальных CPU, подробнее в статье [Microsoft](../license/ms-lic/).

</details>

<details>

<summary>Могу ли я получить скидку?</summary>

Скидки на лицензирование не предусмотрены.

</details>

<details>

<summary>Могу ли я использовать свою лицензию?</summary>

Да, подробнее об [использовании собственных лицензий](../license/ms-lic#perenos_v_oblako_vk_cloud_priobretennyh_ranee_licenziy).

</details>

<details>

<summary>Могу ли я купить лицензию на бессрочной основе?</summary>

VK Cloud предоставляет аренду лицензий на ежемесячной основе. Выкуп лицензии в постоянное использование, как на платформе VK Cloud, так и вне ее, невозможен.

</details>

<details>

<summary>Сколько стоит лицензия RDS?</summary>

Стоимость лицензии приведена в [прайс-листе](https://cloud.vk.com/pricelist).

</details>
