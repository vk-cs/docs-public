# {heading(Входные переменные для конфигурации ресурсов)[id=tf_manifest_variable]}

Опишите входные переменные для конфигурации ресурсов. Переменные можно условно поделить на группы, приведенные в {linkto(#tab_tf_variables)[text=таблице %number]}.

{caption(Таблица {counter(table)[id=numb_tab_tf_variables]} — Переменные Terraform)[align=right;position=above;id=tab_tf_variables;number={const(numb_tab_tf_variables)}]}
[cols="2,5,2", options="header"]
|===
|Группа
|Описание
|Возможные типы

|Специальные
|
Переменные, позволяющие использовать данные, полученные от брокера.

Поддерживаются следующие переменные:

* `instance_uuid` — идентификатор развертывания сервиса. Используется для описании большинства ресурсов провайдера iVK CS.
* `email` — email пользователя, подключившего сервис.

При объявлении таких переменных в манифесте, их значение будет получено Terraform автоматически
|string

|Внешние
|
Переменные, позволяющие задать значения тарифных опций, которые настраиваются в мастере конфигурации тарифного плана.

Имя переменной должно соответствовать имени YAML-файла тарифной опции.

Кроме объявления такой переменной в манифесте, она должна быть:

* Описана как тарифная опция в своем YAML-файле.
* Указана в тарифном плане (файл `plans/<PLAN_NAME>/plan.yaml`).
* Указана в мастере конфигурации тарифного плана (файл `plans/<PLAN_NAME>/display.yaml`).

Для внешней переменной можно задать значение по умолчанию. Оно будет применено, если не удалось получить внешнее значение
|number, string, boolean

|Локальные
|
Переменные, использующиеся только в манифесте. Задайте значение в аргументе `default` при объявлении переменной
|Типы, поддерживаемые Terraform
|===
{/caption}

<warn>

При объявлении переменной укажите тип в параметре `type`.

</warn>

{caption(Пример объявления специальных переменных)[align=left;position=above]}
```hcl
# Идентификатор развертывания сервиса
variable "instance_uuid" {
  type    = string
}

# Email пользователя
variable "email" {
  type    = string
}
```
{/caption}

{caption(Пример объявления внешних и локальных переменных)[align=left;position=above]}
```hcl
# Имя виртуальной сети, где будет создана ВМ
variable "sub_network" {
  type    = string
  default = "test-net"
}

# Количество CPU для ВМ
variable "flavor_vcpus" {
  type    = number
  default = 2
}
```
{/caption}

При описании входных переменных можно использовать блоки `locals`. С помощью них можно задать переменные с использованием вычислений, в том числе вычислений на основе других объявленных переменных.
